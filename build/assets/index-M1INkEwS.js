function GL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function ij(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ev={exports:{}},ed={},tv={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2;function JL(){if(i2)return Je;i2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function g(M){return M===null||typeof M!="object"?null:(M=m&&M[m]||M["@@iterator"],typeof M=="function"?M:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function k(M,B,q){this.props=M,this.context=B,this.refs=b,this.updater=q||y}k.prototype.isReactComponent={},k.prototype.setState=function(M,B){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,B,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=k.prototype;function _(M,B,q){this.props=M,this.context=B,this.refs=b,this.updater=q||y}var T=_.prototype=new C;T.constructor=_,v(T,k.prototype),T.isPureReactComponent=!0;var N=Array.isArray,j=Object.prototype.hasOwnProperty,P={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function O(M,B,q){var ee,ie={},ce=null,X=null;if(B!=null)for(ee in B.ref!==void 0&&(X=B.ref),B.key!==void 0&&(ce=""+B.key),B)j.call(B,ee)&&!I.hasOwnProperty(ee)&&(ie[ee]=B[ee]);var H=arguments.length-2;if(H===1)ie.children=q;else if(1<H){for(var F=Array(H),J=0;J<H;J++)F[J]=arguments[J+2];ie.children=F}if(M&&M.defaultProps)for(ee in H=M.defaultProps,H)ie[ee]===void 0&&(ie[ee]=H[ee]);return{$$typeof:t,type:M,key:ce,ref:X,props:ie,_owner:P.current}}function L(M,B){return{$$typeof:t,type:M.type,key:B,ref:M.ref,props:M.props,_owner:M._owner}}function $(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function V(M){var B={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(q){return B[q]})}var Q=/\/+/g;function K(M,B){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):B.toString(36)}function se(M,B,q,ee,ie){var ce=typeof M;(ce==="undefined"||ce==="boolean")&&(M=null);var X=!1;if(M===null)X=!0;else switch(ce){case"string":case"number":X=!0;break;case"object":switch(M.$$typeof){case t:case e:X=!0}}if(X)return X=M,ie=ie(X),M=ee===""?"."+K(X,0):ee,N(ie)?(q="",M!=null&&(q=M.replace(Q,"$&/")+"/"),se(ie,B,q,"",function(J){return J})):ie!=null&&($(ie)&&(ie=L(ie,q+(!ie.key||X&&X.key===ie.key?"":(""+ie.key).replace(Q,"$&/")+"/")+M)),B.push(ie)),1;if(X=0,ee=ee===""?".":ee+":",N(M))for(var H=0;H<M.length;H++){ce=M[H];var F=ee+K(ce,H);X+=se(ce,B,q,F,ie)}else if(F=g(M),typeof F=="function")for(M=F.call(M),H=0;!(ce=M.next()).done;)ce=ce.value,F=ee+K(ce,H++),X+=se(ce,B,q,F,ie);else if(ce==="object")throw B=String(M),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return X}function ne(M,B,q){if(M==null)return M;var ee=[],ie=0;return se(M,ee,"","",function(ce){return B.call(q,ce,ie++)}),ee}function W(M){if(M._status===-1){var B=M._result;B=B(),B.then(function(q){(M._status===0||M._status===-1)&&(M._status=1,M._result=q)},function(q){(M._status===0||M._status===-1)&&(M._status=2,M._result=q)}),M._status===-1&&(M._status=0,M._result=B)}if(M._status===1)return M._result.default;throw M._result}var U={current:null},R={transition:null},D={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:R,ReactCurrentOwner:P};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:ne,forEach:function(M,B,q){ne(M,function(){B.apply(this,arguments)},q)},count:function(M){var B=0;return ne(M,function(){B++}),B},toArray:function(M){return ne(M,function(B){return B})||[]},only:function(M){if(!$(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Je.Component=k,Je.Fragment=n,Je.Profiler=s,Je.PureComponent=_,Je.StrictMode=r,Je.Suspense=u,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,Je.act=Z,Je.cloneElement=function(M,B,q){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ee=v({},M.props),ie=M.key,ce=M.ref,X=M._owner;if(B!=null){if(B.ref!==void 0&&(ce=B.ref,X=P.current),B.key!==void 0&&(ie=""+B.key),M.type&&M.type.defaultProps)var H=M.type.defaultProps;for(F in B)j.call(B,F)&&!I.hasOwnProperty(F)&&(ee[F]=B[F]===void 0&&H!==void 0?H[F]:B[F])}var F=arguments.length-2;if(F===1)ee.children=q;else if(1<F){H=Array(F);for(var J=0;J<F;J++)H[J]=arguments[J+2];ee.children=H}return{$$typeof:t,type:M.type,key:ie,ref:ce,props:ee,_owner:X}},Je.createContext=function(M){return M={$$typeof:i,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:o,_context:M},M.Consumer=M},Je.createElement=O,Je.createFactory=function(M){var B=O.bind(null,M);return B.type=M,B},Je.createRef=function(){return{current:null}},Je.forwardRef=function(M){return{$$typeof:c,render:M}},Je.isValidElement=$,Je.lazy=function(M){return{$$typeof:f,_payload:{_status:-1,_result:M},_init:W}},Je.memo=function(M,B){return{$$typeof:h,type:M,compare:B===void 0?null:B}},Je.startTransition=function(M){var B=R.transition;R.transition={};try{M()}finally{R.transition=B}},Je.unstable_act=Z,Je.useCallback=function(M,B){return U.current.useCallback(M,B)},Je.useContext=function(M){return U.current.useContext(M)},Je.useDebugValue=function(){},Je.useDeferredValue=function(M){return U.current.useDeferredValue(M)},Je.useEffect=function(M,B){return U.current.useEffect(M,B)},Je.useId=function(){return U.current.useId()},Je.useImperativeHandle=function(M,B,q){return U.current.useImperativeHandle(M,B,q)},Je.useInsertionEffect=function(M,B){return U.current.useInsertionEffect(M,B)},Je.useLayoutEffect=function(M,B){return U.current.useLayoutEffect(M,B)},Je.useMemo=function(M,B){return U.current.useMemo(M,B)},Je.useReducer=function(M,B,q){return U.current.useReducer(M,B,q)},Je.useRef=function(M){return U.current.useRef(M)},Je.useState=function(M){return U.current.useState(M)},Je.useSyncExternalStore=function(M,B,q){return U.current.useSyncExternalStore(M,B,q)},Je.useTransition=function(){return U.current.useTransition()},Je.version="18.3.1",Je}var a2;function em(){return a2||(a2=1,tv.exports=JL()),tv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l2;function QL(){if(l2)return ed;l2=1;var t=em(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(c,u,h){var f,m={},g=null,y=null;h!==void 0&&(g=""+h),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(y=u.ref);for(f in u)r.call(u,f)&&!o.hasOwnProperty(f)&&(m[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)m[f]===void 0&&(m[f]=u[f]);return{$$typeof:e,type:c,key:g,ref:y,props:m,_owner:s.current}}return ed.Fragment=n,ed.jsx=i,ed.jsxs=i,ed}var c2;function ZL(){return c2||(c2=1,ev.exports=QL()),ev.exports}var l=ZL(),$h={},nv={exports:{}},Kn={},rv={exports:{}},sv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function e5(){return d2||(d2=1,(function(t){function e(R,D){var Z=R.length;R.push(D);e:for(;0<Z;){var M=Z-1>>>1,B=R[M];if(0<s(B,D))R[M]=D,R[Z]=B,Z=M;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var D=R[0],Z=R.pop();if(Z!==D){R[0]=Z;e:for(var M=0,B=R.length,q=B>>>1;M<q;){var ee=2*(M+1)-1,ie=R[ee],ce=ee+1,X=R[ce];if(0>s(ie,Z))ce<B&&0>s(X,ie)?(R[M]=X,R[ce]=Z,M=ce):(R[M]=ie,R[ee]=Z,M=ee);else if(ce<B&&0>s(X,Z))R[M]=X,R[ce]=Z,M=ce;else break e}}return D}function s(R,D){var Z=R.sortIndex-D.sortIndex;return Z!==0?Z:R.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,c=i.now();t.unstable_now=function(){return i.now()-c}}var u=[],h=[],f=1,m=null,g=3,y=!1,v=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(R){for(var D=n(h);D!==null;){if(D.callback===null)r(h);else if(D.startTime<=R)r(h),D.sortIndex=D.expirationTime,e(u,D);else break;D=n(h)}}function N(R){if(b=!1,T(R),!v)if(n(u)!==null)v=!0,W(j);else{var D=n(h);D!==null&&U(N,D.startTime-R)}}function j(R,D){v=!1,b&&(b=!1,C(O),O=-1),y=!0;var Z=g;try{for(T(D),m=n(u);m!==null&&(!(m.expirationTime>D)||R&&!V());){var M=m.callback;if(typeof M=="function"){m.callback=null,g=m.priorityLevel;var B=M(m.expirationTime<=D);D=t.unstable_now(),typeof B=="function"?m.callback=B:m===n(u)&&r(u),T(D)}else r(u);m=n(u)}if(m!==null)var q=!0;else{var ee=n(h);ee!==null&&U(N,ee.startTime-D),q=!1}return q}finally{m=null,g=Z,y=!1}}var P=!1,I=null,O=-1,L=5,$=-1;function V(){return!(t.unstable_now()-$<L)}function Q(){if(I!==null){var R=t.unstable_now();$=R;var D=!0;try{D=I(!0,R)}finally{D?K():(P=!1,I=null)}}else P=!1}var K;if(typeof _=="function")K=function(){_(Q)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ne=se.port2;se.port1.onmessage=Q,K=function(){ne.postMessage(null)}}else K=function(){k(Q,0)};function W(R){I=R,P||(P=!0,K())}function U(R,D){O=k(function(){R(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,W(j))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(R){switch(g){case 1:case 2:case 3:var D=3;break;default:D=g}var Z=g;g=D;try{return R()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,D){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Z=g;g=R;try{return D()}finally{g=Z}},t.unstable_scheduleCallback=function(R,D,Z){var M=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?M+Z:M):Z=M,R){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Z+B,R={id:f++,callback:D,priorityLevel:R,startTime:Z,expirationTime:B,sortIndex:-1},Z>M?(R.sortIndex=Z,e(h,R),n(u)===null&&R===n(h)&&(b?(C(O),O=-1):b=!0,U(N,Z-M))):(R.sortIndex=B,e(u,R),v||y||(v=!0,W(j))),R},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(R){var D=g;return function(){var Z=g;g=D;try{return R.apply(this,arguments)}finally{g=Z}}}})(sv)),sv}var u2;function t5(){return u2||(u2=1,rv.exports=e5()),rv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h2;function n5(){if(h2)return Kn;h2=1;var t=em(),e=t5();function n(a){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+a,p=1;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+a+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(a,d){i(a,d),i(a+"Capture",d)}function i(a,d){for(s[a]=d,a=0;a<d.length;a++)r.add(d[a])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function g(a){return u.call(m,a)?!0:u.call(f,a)?!1:h.test(a)?m[a]=!0:(f[a]=!0,!1)}function y(a,d,p,x){if(p!==null&&p.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return x?!1:p!==null?!p.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function v(a,d,p,x){if(d===null||typeof d>"u"||y(a,d,p,x))return!0;if(x)return!1;if(p!==null)switch(p.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function b(a,d,p,x,S,E,A){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=x,this.attributeNamespace=S,this.mustUseProperty=p,this.propertyName=a,this.type=d,this.sanitizeURL=E,this.removeEmptyString=A}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){k[a]=new b(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var d=a[0];k[d]=new b(d,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){k[a]=new b(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){k[a]=new b(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){k[a]=new b(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){k[a]=new b(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){k[a]=new b(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){k[a]=new b(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){k[a]=new b(a,5,!1,a.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function _(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var d=a.replace(C,_);k[d]=new b(d,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var d=a.replace(C,_);k[d]=new b(d,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var d=a.replace(C,_);k[d]=new b(d,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){k[a]=new b(a,1,!1,a.toLowerCase(),null,!1,!1)}),k.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){k[a]=new b(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,d,p,x){var S=k.hasOwnProperty(d)?k[d]:null;(S!==null?S.type!==0:x||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(v(d,p,S,x)&&(p=null),x||S===null?g(d)&&(p===null?a.removeAttribute(d):a.setAttribute(d,""+p)):S.mustUseProperty?a[S.propertyName]=p===null?S.type===3?!1:"":p:(d=S.attributeName,x=S.attributeNamespace,p===null?a.removeAttribute(d):(S=S.type,p=S===3||S===4&&p===!0?"":""+p,x?a.setAttributeNS(x,d,p):a.setAttribute(d,p))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),P=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),V=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),R=Symbol.iterator;function D(a){return a===null||typeof a!="object"?null:(a=R&&a[R]||a["@@iterator"],typeof a=="function"?a:null)}var Z=Object.assign,M;function B(a){if(M===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);M=d&&d[1]||""}return`
`+M+a}var q=!1;function ee(a,d){if(!a||q)return"";q=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(oe){var x=oe}Reflect.construct(a,[],d)}else{try{d.call()}catch(oe){x=oe}a.call(d.prototype)}else{try{throw Error()}catch(oe){x=oe}a()}}catch(oe){if(oe&&x&&typeof oe.stack=="string"){for(var S=oe.stack.split(`
`),E=x.stack.split(`
`),A=S.length-1,z=E.length-1;1<=A&&0<=z&&S[A]!==E[z];)z--;for(;1<=A&&0<=z;A--,z--)if(S[A]!==E[z]){if(A!==1||z!==1)do if(A--,z--,0>z||S[A]!==E[z]){var Y=`
`+S[A].replace(" at new "," at ");return a.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",a.displayName)),Y}while(1<=A&&0<=z);break}}}finally{q=!1,Error.prepareStackTrace=p}return(a=a?a.displayName||a.name:"")?B(a):""}function ie(a){switch(a.tag){case 5:return B(a.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return a=ee(a.type,!1),a;case 11:return a=ee(a.type.render,!1),a;case 1:return a=ee(a.type,!0),a;default:return""}}function ce(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case I:return"Fragment";case P:return"Portal";case L:return"Profiler";case O:return"StrictMode";case K:return"Suspense";case se:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case V:return(a.displayName||"Context")+".Consumer";case $:return(a._context.displayName||"Context")+".Provider";case Q:var d=a.render;return a=a.displayName,a||(a=d.displayName||d.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ne:return d=a.displayName||null,d!==null?d:ce(a.type)||"Memo";case W:d=a._payload,a=a._init;try{return ce(a(d))}catch{}}return null}function X(a){var d=a.type;switch(a.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=d.render,a=a.displayName||a.name||"",d.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(d);case 8:return d===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function H(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function F(a){var d=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function J(a){var d=F(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,d),x=""+a[d];if(!a.hasOwnProperty(d)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var S=p.get,E=p.set;return Object.defineProperty(a,d,{configurable:!0,get:function(){return S.call(this)},set:function(A){x=""+A,E.call(this,A)}}),Object.defineProperty(a,d,{enumerable:p.enumerable}),{getValue:function(){return x},setValue:function(A){x=""+A},stopTracking:function(){a._valueTracker=null,delete a[d]}}}}function me(a){a._valueTracker||(a._valueTracker=J(a))}function ve(a){if(!a)return!1;var d=a._valueTracker;if(!d)return!0;var p=d.getValue(),x="";return a&&(x=F(a)?a.checked?"true":"false":a.value),a=x,a!==p?(d.setValue(a),!0):!1}function ue(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ge(a,d){var p=d.checked;return Z({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??a._wrapperState.initialChecked})}function he(a,d){var p=d.defaultValue==null?"":d.defaultValue,x=d.checked!=null?d.checked:d.defaultChecked;p=H(d.value!=null?d.value:p),a._wrapperState={initialChecked:x,initialValue:p,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function xe(a,d){d=d.checked,d!=null&&T(a,"checked",d,!1)}function fe(a,d){xe(a,d);var p=H(d.value),x=d.type;if(p!=null)x==="number"?(p===0&&a.value===""||a.value!=p)&&(a.value=""+p):a.value!==""+p&&(a.value=""+p);else if(x==="submit"||x==="reset"){a.removeAttribute("value");return}d.hasOwnProperty("value")?Te(a,d.type,p):d.hasOwnProperty("defaultValue")&&Te(a,d.type,H(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(a.defaultChecked=!!d.defaultChecked)}function ye(a,d,p){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var x=d.type;if(!(x!=="submit"&&x!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+a._wrapperState.initialValue,p||d===a.value||(a.value=d),a.defaultValue=d}p=a.name,p!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,p!==""&&(a.name=p)}function Te(a,d,p){(d!=="number"||ue(a.ownerDocument)!==a)&&(p==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+p&&(a.defaultValue=""+p))}var Le=Array.isArray;function et(a,d,p,x){if(a=a.options,d){d={};for(var S=0;S<p.length;S++)d["$"+p[S]]=!0;for(p=0;p<a.length;p++)S=d.hasOwnProperty("$"+a[p].value),a[p].selected!==S&&(a[p].selected=S),S&&x&&(a[p].defaultSelected=!0)}else{for(p=""+H(p),d=null,S=0;S<a.length;S++){if(a[S].value===p){a[S].selected=!0,x&&(a[S].defaultSelected=!0);return}d!==null||a[S].disabled||(d=a[S])}d!==null&&(d.selected=!0)}}function ht(a,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},d,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Kt(a,d){var p=d.value;if(p==null){if(p=d.children,d=d.defaultValue,p!=null){if(d!=null)throw Error(n(92));if(Le(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),p=d}a._wrapperState={initialValue:H(p)}}function hs(a,d){var p=H(d.value),x=H(d.defaultValue);p!=null&&(p=""+p,p!==a.value&&(a.value=p),d.defaultValue==null&&a.defaultValue!==p&&(a.defaultValue=p)),x!=null&&(a.defaultValue=""+x)}function Eo(a){var d=a.textContent;d===a._wrapperState.initialValue&&d!==""&&d!==null&&(a.value=d)}function Rn(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function br(a,d){return a==null||a==="http://www.w3.org/1999/xhtml"?Rn(d):a==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ai,$a=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,p,x,S){MSApp.execUnsafeLocalFunction(function(){return a(d,p,x,S)})}:a})(function(a,d){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=d;else{for(Ai=Ai||document.createElement("div"),Ai.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Ai.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;d.firstChild;)a.appendChild(d.firstChild)}});function wr(a,d){if(d){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=d;return}}a.textContent=d}var No={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jo=["Webkit","ms","Moz","O"];Object.keys(No).forEach(function(a){jo.forEach(function(d){d=d+a.charAt(0).toUpperCase()+a.substring(1),No[d]=No[a]})});function Pu(a,d,p){return d==null||typeof d=="boolean"||d===""?"":p||typeof d!="number"||d===0||No.hasOwnProperty(a)&&No[a]?(""+d).trim():d+"px"}function Au(a,d){a=a.style;for(var p in d)if(d.hasOwnProperty(p)){var x=p.indexOf("--")===0,S=Pu(p,d[p],x);p==="float"&&(p="cssFloat"),x?a.setProperty(p,S):a[p]=S}}var Ru=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function za(a,d){if(d){if(Ru[a]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function xc(a,d){if(a.indexOf("-")===-1)return typeof d.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ri=null;function kr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var vc=null,To=null,Hs=null;function yc(a){if(a=Fc(a)){if(typeof vc!="function")throw Error(n(280));var d=a.stateNode;d&&(d=th(d),vc(a.stateNode,a.type,d))}}function Ve(a){To?Hs?Hs.push(a):Hs=[a]:To=a}function Lt(){if(To){var a=To,d=Hs;if(Hs=To=null,yc(a),d)for(a=0;a<d.length;a++)yc(d[a])}}function Xt(a,d){return a(d)}function kn(){}var Mo=!1;function Ut(a,d,p){if(Mo)return a(d,p);Mo=!0;try{return Xt(a,d,p)}finally{Mo=!1,(To!==null||Hs!==null)&&(kn(),Lt())}}function an(a,d){var p=a.stateNode;if(p===null)return null;var x=th(p);if(x===null)return null;p=x[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(a=a.type,x=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!x;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(n(231,d,typeof p));return p}var Oo=!1;if(c)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Oo=!1}function sr(a,d,p,x,S,E,A,z,Y){var oe=Array.prototype.slice.call(arguments,3);try{d.apply(p,oe)}catch(we){this.onError(we)}}var Po=!1,Sr=null,bc=!1,yg=null,rD={onError:function(a){Po=!0,Sr=a}};function sD(a,d,p,x,S,E,A,z,Y){Po=!1,Sr=null,sr.apply(rD,arguments)}function oD(a,d,p,x,S,E,A,z,Y){if(sD.apply(this,arguments),Po){if(Po){var oe=Sr;Po=!1,Sr=null}else throw Error(n(198));bc||(bc=!0,yg=oe)}}function Ii(a){var d=a,p=a;if(a.alternate)for(;d.return;)d=d.return;else{a=d;do d=a,(d.flags&4098)!==0&&(p=d.return),a=d.return;while(a)}return d.tag===3?p:null}function Tk(a){if(a.tag===13){var d=a.memoizedState;if(d===null&&(a=a.alternate,a!==null&&(d=a.memoizedState)),d!==null)return d.dehydrated}return null}function Mk(a){if(Ii(a)!==a)throw Error(n(188))}function iD(a){var d=a.alternate;if(!d){if(d=Ii(a),d===null)throw Error(n(188));return d!==a?null:a}for(var p=a,x=d;;){var S=p.return;if(S===null)break;var E=S.alternate;if(E===null){if(x=S.return,x!==null){p=x;continue}break}if(S.child===E.child){for(E=S.child;E;){if(E===p)return Mk(S),a;if(E===x)return Mk(S),d;E=E.sibling}throw Error(n(188))}if(p.return!==x.return)p=S,x=E;else{for(var A=!1,z=S.child;z;){if(z===p){A=!0,p=S,x=E;break}if(z===x){A=!0,x=S,p=E;break}z=z.sibling}if(!A){for(z=E.child;z;){if(z===p){A=!0,p=E,x=S;break}if(z===x){A=!0,x=E,p=S;break}z=z.sibling}if(!A)throw Error(n(189))}}if(p.alternate!==x)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?a:d}function Ok(a){return a=iD(a),a!==null?Pk(a):null}function Pk(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var d=Pk(a);if(d!==null)return d;a=a.sibling}return null}var Ak=e.unstable_scheduleCallback,Rk=e.unstable_cancelCallback,aD=e.unstable_shouldYield,lD=e.unstable_requestPaint,Bt=e.unstable_now,cD=e.unstable_getCurrentPriorityLevel,bg=e.unstable_ImmediatePriority,Ik=e.unstable_UserBlockingPriority,Iu=e.unstable_NormalPriority,dD=e.unstable_LowPriority,Dk=e.unstable_IdlePriority,Du=null,fs=null;function uD(a){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(Du,a,void 0,(a.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:pD,hD=Math.log,fD=Math.LN2;function pD(a){return a>>>=0,a===0?32:31-(hD(a)/fD|0)|0}var Lu=64,Bu=4194304;function wc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Fu(a,d){var p=a.pendingLanes;if(p===0)return 0;var x=0,S=a.suspendedLanes,E=a.pingedLanes,A=p&268435455;if(A!==0){var z=A&~S;z!==0?x=wc(z):(E&=A,E!==0&&(x=wc(E)))}else A=p&~S,A!==0?x=wc(A):E!==0&&(x=wc(E));if(x===0)return 0;if(d!==0&&d!==x&&(d&S)===0&&(S=x&-x,E=d&-d,S>=E||S===16&&(E&4194240)!==0))return d;if((x&4)!==0&&(x|=p&16),d=a.entangledLanes,d!==0)for(a=a.entanglements,d&=x;0<d;)p=31-qr(d),S=1<<p,x|=a[p],d&=~S;return x}function mD(a,d){switch(a){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gD(a,d){for(var p=a.suspendedLanes,x=a.pingedLanes,S=a.expirationTimes,E=a.pendingLanes;0<E;){var A=31-qr(E),z=1<<A,Y=S[A];Y===-1?((z&p)===0||(z&x)!==0)&&(S[A]=mD(z,d)):Y<=d&&(a.expiredLanes|=z),E&=~z}}function wg(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Lk(){var a=Lu;return Lu<<=1,(Lu&4194240)===0&&(Lu=64),a}function kg(a){for(var d=[],p=0;31>p;p++)d.push(a);return d}function kc(a,d,p){a.pendingLanes|=d,d!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,d=31-qr(d),a[d]=p}function xD(a,d){var p=a.pendingLanes&~d;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=d,a.mutableReadLanes&=d,a.entangledLanes&=d,d=a.entanglements;var x=a.eventTimes;for(a=a.expirationTimes;0<p;){var S=31-qr(p),E=1<<S;d[S]=0,x[S]=-1,a[S]=-1,p&=~E}}function Sg(a,d){var p=a.entangledLanes|=d;for(a=a.entanglements;p;){var x=31-qr(p),S=1<<x;S&d|a[x]&d&&(a[x]|=d),p&=~S}}var ft=0;function Bk(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Fk,Cg,$k,zk,Uk,_g=!1,$u=[],Ao=null,Ro=null,Io=null,Sc=new Map,Cc=new Map,Do=[],vD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hk(a,d){switch(a){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":Sc.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cc.delete(d.pointerId)}}function _c(a,d,p,x,S,E){return a===null||a.nativeEvent!==E?(a={blockedOn:d,domEventName:p,eventSystemFlags:x,nativeEvent:E,targetContainers:[S]},d!==null&&(d=Fc(d),d!==null&&Cg(d)),a):(a.eventSystemFlags|=x,d=a.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),a)}function yD(a,d,p,x,S){switch(d){case"focusin":return Ao=_c(Ao,a,d,p,x,S),!0;case"dragenter":return Ro=_c(Ro,a,d,p,x,S),!0;case"mouseover":return Io=_c(Io,a,d,p,x,S),!0;case"pointerover":var E=S.pointerId;return Sc.set(E,_c(Sc.get(E)||null,a,d,p,x,S)),!0;case"gotpointercapture":return E=S.pointerId,Cc.set(E,_c(Cc.get(E)||null,a,d,p,x,S)),!0}return!1}function Wk(a){var d=Di(a.target);if(d!==null){var p=Ii(d);if(p!==null){if(d=p.tag,d===13){if(d=Tk(p),d!==null){a.blockedOn=d,Uk(a.priority,function(){$k(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function zu(a){if(a.blockedOn!==null)return!1;for(var d=a.targetContainers;0<d.length;){var p=Ng(a.domEventName,a.eventSystemFlags,d[0],a.nativeEvent);if(p===null){p=a.nativeEvent;var x=new p.constructor(p.type,p);Ri=x,p.target.dispatchEvent(x),Ri=null}else return d=Fc(p),d!==null&&Cg(d),a.blockedOn=p,!1;d.shift()}return!0}function Vk(a,d,p){zu(a)&&p.delete(d)}function bD(){_g=!1,Ao!==null&&zu(Ao)&&(Ao=null),Ro!==null&&zu(Ro)&&(Ro=null),Io!==null&&zu(Io)&&(Io=null),Sc.forEach(Vk),Cc.forEach(Vk)}function Ec(a,d){a.blockedOn===d&&(a.blockedOn=null,_g||(_g=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bD)))}function Nc(a){function d(S){return Ec(S,a)}if(0<$u.length){Ec($u[0],a);for(var p=1;p<$u.length;p++){var x=$u[p];x.blockedOn===a&&(x.blockedOn=null)}}for(Ao!==null&&Ec(Ao,a),Ro!==null&&Ec(Ro,a),Io!==null&&Ec(Io,a),Sc.forEach(d),Cc.forEach(d),p=0;p<Do.length;p++)x=Do[p],x.blockedOn===a&&(x.blockedOn=null);for(;0<Do.length&&(p=Do[0],p.blockedOn===null);)Wk(p),p.blockedOn===null&&Do.shift()}var Ua=N.ReactCurrentBatchConfig,Uu=!0;function wD(a,d,p,x){var S=ft,E=Ua.transition;Ua.transition=null;try{ft=1,Eg(a,d,p,x)}finally{ft=S,Ua.transition=E}}function kD(a,d,p,x){var S=ft,E=Ua.transition;Ua.transition=null;try{ft=4,Eg(a,d,p,x)}finally{ft=S,Ua.transition=E}}function Eg(a,d,p,x){if(Uu){var S=Ng(a,d,p,x);if(S===null)Wg(a,d,x,Hu,p),Hk(a,x);else if(yD(S,a,d,p,x))x.stopPropagation();else if(Hk(a,x),d&4&&-1<vD.indexOf(a)){for(;S!==null;){var E=Fc(S);if(E!==null&&Fk(E),E=Ng(a,d,p,x),E===null&&Wg(a,d,x,Hu,p),E===S)break;S=E}S!==null&&x.stopPropagation()}else Wg(a,d,x,null,p)}}var Hu=null;function Ng(a,d,p,x){if(Hu=null,a=kr(x),a=Di(a),a!==null)if(d=Ii(a),d===null)a=null;else if(p=d.tag,p===13){if(a=Tk(d),a!==null)return a;a=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;a=null}else d!==a&&(a=null);return Hu=a,null}function qk(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cD()){case bg:return 1;case Ik:return 4;case Iu:case dD:return 16;case Dk:return 536870912;default:return 16}default:return 16}}var Lo=null,jg=null,Wu=null;function Yk(){if(Wu)return Wu;var a,d=jg,p=d.length,x,S="value"in Lo?Lo.value:Lo.textContent,E=S.length;for(a=0;a<p&&d[a]===S[a];a++);var A=p-a;for(x=1;x<=A&&d[p-x]===S[E-x];x++);return Wu=S.slice(a,1<x?1-x:void 0)}function Vu(a){var d=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&d===13&&(a=13)):a=d,a===10&&(a=13),32<=a||a===13?a:0}function qu(){return!0}function Kk(){return!1}function or(a){function d(p,x,S,E,A){this._reactName=p,this._targetInst=S,this.type=x,this.nativeEvent=E,this.target=A,this.currentTarget=null;for(var z in a)a.hasOwnProperty(z)&&(p=a[z],this[z]=p?p(E):E[z]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?qu:Kk,this.isPropagationStopped=Kk,this}return Z(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),d}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tg=or(Ha),jc=Z({},Ha,{view:0,detail:0}),SD=or(jc),Mg,Og,Tc,Yu=Z({},jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ag,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Tc&&(Tc&&a.type==="mousemove"?(Mg=a.screenX-Tc.screenX,Og=a.screenY-Tc.screenY):Og=Mg=0,Tc=a),Mg)},movementY:function(a){return"movementY"in a?a.movementY:Og}}),Xk=or(Yu),CD=Z({},Yu,{dataTransfer:0}),_D=or(CD),ED=Z({},jc,{relatedTarget:0}),Pg=or(ED),ND=Z({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),jD=or(ND),TD=Z({},Ha,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),MD=or(TD),OD=Z({},Ha,{data:0}),Gk=or(OD),PD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ID(a){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(a):(a=RD[a])?!!d[a]:!1}function Ag(){return ID}var DD=Z({},jc,{key:function(a){if(a.key){var d=PD[a.key]||a.key;if(d!=="Unidentified")return d}return a.type==="keypress"?(a=Vu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?AD[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ag,charCode:function(a){return a.type==="keypress"?Vu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Vu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),LD=or(DD),BD=Z({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jk=or(BD),FD=Z({},jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ag}),$D=or(FD),zD=Z({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),UD=or(zD),HD=Z({},Yu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),WD=or(HD),VD=[9,13,27,32],Rg=c&&"CompositionEvent"in window,Mc=null;c&&"documentMode"in document&&(Mc=document.documentMode);var qD=c&&"TextEvent"in window&&!Mc,Qk=c&&(!Rg||Mc&&8<Mc&&11>=Mc),Zk=" ",eS=!1;function tS(a,d){switch(a){case"keyup":return VD.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nS(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Wa=!1;function YD(a,d){switch(a){case"compositionend":return nS(d);case"keypress":return d.which!==32?null:(eS=!0,Zk);case"textInput":return a=d.data,a===Zk&&eS?null:a;default:return null}}function KD(a,d){if(Wa)return a==="compositionend"||!Rg&&tS(a,d)?(a=Yk(),Wu=jg=Lo=null,Wa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Qk&&d.locale!=="ko"?null:d.data;default:return null}}var XD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rS(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d==="input"?!!XD[a.type]:d==="textarea"}function sS(a,d,p,x){Ve(x),d=Qu(d,"onChange"),0<d.length&&(p=new Tg("onChange","change",null,p,x),a.push({event:p,listeners:d}))}var Oc=null,Pc=null;function GD(a){kS(a,0)}function Ku(a){var d=Xa(a);if(ve(d))return a}function JD(a,d){if(a==="change")return d}var oS=!1;if(c){var Ig;if(c){var Dg="oninput"in document;if(!Dg){var iS=document.createElement("div");iS.setAttribute("oninput","return;"),Dg=typeof iS.oninput=="function"}Ig=Dg}else Ig=!1;oS=Ig&&(!document.documentMode||9<document.documentMode)}function aS(){Oc&&(Oc.detachEvent("onpropertychange",lS),Pc=Oc=null)}function lS(a){if(a.propertyName==="value"&&Ku(Pc)){var d=[];sS(d,Pc,a,kr(a)),Ut(GD,d)}}function QD(a,d,p){a==="focusin"?(aS(),Oc=d,Pc=p,Oc.attachEvent("onpropertychange",lS)):a==="focusout"&&aS()}function ZD(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ku(Pc)}function eL(a,d){if(a==="click")return Ku(d)}function tL(a,d){if(a==="input"||a==="change")return Ku(d)}function nL(a,d){return a===d&&(a!==0||1/a===1/d)||a!==a&&d!==d}var Yr=typeof Object.is=="function"?Object.is:nL;function Ac(a,d){if(Yr(a,d))return!0;if(typeof a!="object"||a===null||typeof d!="object"||d===null)return!1;var p=Object.keys(a),x=Object.keys(d);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var S=p[x];if(!u.call(d,S)||!Yr(a[S],d[S]))return!1}return!0}function cS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function dS(a,d){var p=cS(a);a=0;for(var x;p;){if(p.nodeType===3){if(x=a+p.textContent.length,a<=d&&x>=d)return{node:p,offset:d-a};a=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=cS(p)}}function uS(a,d){return a&&d?a===d?!0:a&&a.nodeType===3?!1:d&&d.nodeType===3?uS(a,d.parentNode):"contains"in a?a.contains(d):a.compareDocumentPosition?!!(a.compareDocumentPosition(d)&16):!1:!1}function hS(){for(var a=window,d=ue();d instanceof a.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)a=d.contentWindow;else break;d=ue(a.document)}return d}function Lg(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d&&(d==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||d==="textarea"||a.contentEditable==="true")}function rL(a){var d=hS(),p=a.focusedElem,x=a.selectionRange;if(d!==p&&p&&p.ownerDocument&&uS(p.ownerDocument.documentElement,p)){if(x!==null&&Lg(p)){if(d=x.start,a=x.end,a===void 0&&(a=d),"selectionStart"in p)p.selectionStart=d,p.selectionEnd=Math.min(a,p.value.length);else if(a=(d=p.ownerDocument||document)&&d.defaultView||window,a.getSelection){a=a.getSelection();var S=p.textContent.length,E=Math.min(x.start,S);x=x.end===void 0?E:Math.min(x.end,S),!a.extend&&E>x&&(S=x,x=E,E=S),S=dS(p,E);var A=dS(p,x);S&&A&&(a.rangeCount!==1||a.anchorNode!==S.node||a.anchorOffset!==S.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(d=d.createRange(),d.setStart(S.node,S.offset),a.removeAllRanges(),E>x?(a.addRange(d),a.extend(A.node,A.offset)):(d.setEnd(A.node,A.offset),a.addRange(d)))}}for(d=[],a=p;a=a.parentNode;)a.nodeType===1&&d.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<d.length;p++)a=d[p],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var sL=c&&"documentMode"in document&&11>=document.documentMode,Va=null,Bg=null,Rc=null,Fg=!1;function fS(a,d,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Fg||Va==null||Va!==ue(x)||(x=Va,"selectionStart"in x&&Lg(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Rc&&Ac(Rc,x)||(Rc=x,x=Qu(Bg,"onSelect"),0<x.length&&(d=new Tg("onSelect","select",null,d,p),a.push({event:d,listeners:x}),d.target=Va)))}function Xu(a,d){var p={};return p[a.toLowerCase()]=d.toLowerCase(),p["Webkit"+a]="webkit"+d,p["Moz"+a]="moz"+d,p}var qa={animationend:Xu("Animation","AnimationEnd"),animationiteration:Xu("Animation","AnimationIteration"),animationstart:Xu("Animation","AnimationStart"),transitionend:Xu("Transition","TransitionEnd")},$g={},pS={};c&&(pS=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Gu(a){if($g[a])return $g[a];if(!qa[a])return a;var d=qa[a],p;for(p in d)if(d.hasOwnProperty(p)&&p in pS)return $g[a]=d[p];return a}var mS=Gu("animationend"),gS=Gu("animationiteration"),xS=Gu("animationstart"),vS=Gu("transitionend"),yS=new Map,bS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bo(a,d){yS.set(a,d),o(d,[a])}for(var zg=0;zg<bS.length;zg++){var Ug=bS[zg],oL=Ug.toLowerCase(),iL=Ug[0].toUpperCase()+Ug.slice(1);Bo(oL,"on"+iL)}Bo(mS,"onAnimationEnd"),Bo(gS,"onAnimationIteration"),Bo(xS,"onAnimationStart"),Bo("dblclick","onDoubleClick"),Bo("focusin","onFocus"),Bo("focusout","onBlur"),Bo(vS,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ic));function wS(a,d,p){var x=a.type||"unknown-event";a.currentTarget=p,oD(x,d,void 0,a),a.currentTarget=null}function kS(a,d){d=(d&4)!==0;for(var p=0;p<a.length;p++){var x=a[p],S=x.event;x=x.listeners;e:{var E=void 0;if(d)for(var A=x.length-1;0<=A;A--){var z=x[A],Y=z.instance,oe=z.currentTarget;if(z=z.listener,Y!==E&&S.isPropagationStopped())break e;wS(S,z,oe),E=Y}else for(A=0;A<x.length;A++){if(z=x[A],Y=z.instance,oe=z.currentTarget,z=z.listener,Y!==E&&S.isPropagationStopped())break e;wS(S,z,oe),E=Y}}}if(bc)throw a=yg,bc=!1,yg=null,a}function kt(a,d){var p=d[Gg];p===void 0&&(p=d[Gg]=new Set);var x=a+"__bubble";p.has(x)||(SS(d,a,2,!1),p.add(x))}function Hg(a,d,p){var x=0;d&&(x|=4),SS(p,a,x,d)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Dc(a){if(!a[Ju]){a[Ju]=!0,r.forEach(function(p){p!=="selectionchange"&&(aL.has(p)||Hg(p,!1,a),Hg(p,!0,a))});var d=a.nodeType===9?a:a.ownerDocument;d===null||d[Ju]||(d[Ju]=!0,Hg("selectionchange",!1,d))}}function SS(a,d,p,x){switch(qk(d)){case 1:var S=wD;break;case 4:S=kD;break;default:S=Eg}p=S.bind(null,d,p,a),S=void 0,!Oo||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),x?S!==void 0?a.addEventListener(d,p,{capture:!0,passive:S}):a.addEventListener(d,p,!0):S!==void 0?a.addEventListener(d,p,{passive:S}):a.addEventListener(d,p,!1)}function Wg(a,d,p,x,S){var E=x;if((d&1)===0&&(d&2)===0&&x!==null)e:for(;;){if(x===null)return;var A=x.tag;if(A===3||A===4){var z=x.stateNode.containerInfo;if(z===S||z.nodeType===8&&z.parentNode===S)break;if(A===4)for(A=x.return;A!==null;){var Y=A.tag;if((Y===3||Y===4)&&(Y=A.stateNode.containerInfo,Y===S||Y.nodeType===8&&Y.parentNode===S))return;A=A.return}for(;z!==null;){if(A=Di(z),A===null)return;if(Y=A.tag,Y===5||Y===6){x=E=A;continue e}z=z.parentNode}}x=x.return}Ut(function(){var oe=E,we=kr(p),ke=[];e:{var be=yS.get(a);if(be!==void 0){var je=Tg,Oe=a;switch(a){case"keypress":if(Vu(p)===0)break e;case"keydown":case"keyup":je=LD;break;case"focusin":Oe="focus",je=Pg;break;case"focusout":Oe="blur",je=Pg;break;case"beforeblur":case"afterblur":je=Pg;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Xk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=_D;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=$D;break;case mS:case gS:case xS:je=jD;break;case vS:je=UD;break;case"scroll":je=SD;break;case"wheel":je=WD;break;case"copy":case"cut":case"paste":je=MD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Jk}var Re=(d&4)!==0,Ft=!Re&&a==="scroll",te=Re?be!==null?be+"Capture":null:be;Re=[];for(var G=oe,re;G!==null;){re=G;var Ce=re.stateNode;if(re.tag===5&&Ce!==null&&(re=Ce,te!==null&&(Ce=an(G,te),Ce!=null&&Re.push(Lc(G,Ce,re)))),Ft)break;G=G.return}0<Re.length&&(be=new je(be,Oe,null,p,we),ke.push({event:be,listeners:Re}))}}if((d&7)===0){e:{if(be=a==="mouseover"||a==="pointerover",je=a==="mouseout"||a==="pointerout",be&&p!==Ri&&(Oe=p.relatedTarget||p.fromElement)&&(Di(Oe)||Oe[Ws]))break e;if((je||be)&&(be=we.window===we?we:(be=we.ownerDocument)?be.defaultView||be.parentWindow:window,je?(Oe=p.relatedTarget||p.toElement,je=oe,Oe=Oe?Di(Oe):null,Oe!==null&&(Ft=Ii(Oe),Oe!==Ft||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(je=null,Oe=oe),je!==Oe)){if(Re=Xk,Ce="onMouseLeave",te="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Re=Jk,Ce="onPointerLeave",te="onPointerEnter",G="pointer"),Ft=je==null?be:Xa(je),re=Oe==null?be:Xa(Oe),be=new Re(Ce,G+"leave",je,p,we),be.target=Ft,be.relatedTarget=re,Ce=null,Di(we)===oe&&(Re=new Re(te,G+"enter",Oe,p,we),Re.target=re,Re.relatedTarget=Ft,Ce=Re),Ft=Ce,je&&Oe)t:{for(Re=je,te=Oe,G=0,re=Re;re;re=Ya(re))G++;for(re=0,Ce=te;Ce;Ce=Ya(Ce))re++;for(;0<G-re;)Re=Ya(Re),G--;for(;0<re-G;)te=Ya(te),re--;for(;G--;){if(Re===te||te!==null&&Re===te.alternate)break t;Re=Ya(Re),te=Ya(te)}Re=null}else Re=null;je!==null&&CS(ke,be,je,Re,!1),Oe!==null&&Ft!==null&&CS(ke,Ft,Oe,Re,!0)}}e:{if(be=oe?Xa(oe):window,je=be.nodeName&&be.nodeName.toLowerCase(),je==="select"||je==="input"&&be.type==="file")var Ie=JD;else if(rS(be))if(oS)Ie=tL;else{Ie=ZD;var Be=QD}else(je=be.nodeName)&&je.toLowerCase()==="input"&&(be.type==="checkbox"||be.type==="radio")&&(Ie=eL);if(Ie&&(Ie=Ie(a,oe))){sS(ke,Ie,p,we);break e}Be&&Be(a,be,oe),a==="focusout"&&(Be=be._wrapperState)&&Be.controlled&&be.type==="number"&&Te(be,"number",be.value)}switch(Be=oe?Xa(oe):window,a){case"focusin":(rS(Be)||Be.contentEditable==="true")&&(Va=Be,Bg=oe,Rc=null);break;case"focusout":Rc=Bg=Va=null;break;case"mousedown":Fg=!0;break;case"contextmenu":case"mouseup":case"dragend":Fg=!1,fS(ke,p,we);break;case"selectionchange":if(sL)break;case"keydown":case"keyup":fS(ke,p,we)}var Fe;if(Rg)e:{switch(a){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Wa?tS(a,p)&&(He="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(He="onCompositionStart");He&&(Qk&&p.locale!=="ko"&&(Wa||He!=="onCompositionStart"?He==="onCompositionEnd"&&Wa&&(Fe=Yk()):(Lo=we,jg="value"in Lo?Lo.value:Lo.textContent,Wa=!0)),Be=Qu(oe,He),0<Be.length&&(He=new Gk(He,a,null,p,we),ke.push({event:He,listeners:Be}),Fe?He.data=Fe:(Fe=nS(p),Fe!==null&&(He.data=Fe)))),(Fe=qD?YD(a,p):KD(a,p))&&(oe=Qu(oe,"onBeforeInput"),0<oe.length&&(we=new Gk("onBeforeInput","beforeinput",null,p,we),ke.push({event:we,listeners:oe}),we.data=Fe))}kS(ke,d)})}function Lc(a,d,p){return{instance:a,listener:d,currentTarget:p}}function Qu(a,d){for(var p=d+"Capture",x=[];a!==null;){var S=a,E=S.stateNode;S.tag===5&&E!==null&&(S=E,E=an(a,p),E!=null&&x.unshift(Lc(a,E,S)),E=an(a,d),E!=null&&x.push(Lc(a,E,S))),a=a.return}return x}function Ya(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function CS(a,d,p,x,S){for(var E=d._reactName,A=[];p!==null&&p!==x;){var z=p,Y=z.alternate,oe=z.stateNode;if(Y!==null&&Y===x)break;z.tag===5&&oe!==null&&(z=oe,S?(Y=an(p,E),Y!=null&&A.unshift(Lc(p,Y,z))):S||(Y=an(p,E),Y!=null&&A.push(Lc(p,Y,z)))),p=p.return}A.length!==0&&a.push({event:d,listeners:A})}var lL=/\r\n?/g,cL=/\u0000|\uFFFD/g;function _S(a){return(typeof a=="string"?a:""+a).replace(lL,`
`).replace(cL,"")}function Zu(a,d,p){if(d=_S(d),_S(a)!==d&&p)throw Error(n(425))}function eh(){}var Vg=null,qg=null;function Yg(a,d){return a==="textarea"||a==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Kg=typeof setTimeout=="function"?setTimeout:void 0,dL=typeof clearTimeout=="function"?clearTimeout:void 0,ES=typeof Promise=="function"?Promise:void 0,uL=typeof queueMicrotask=="function"?queueMicrotask:typeof ES<"u"?function(a){return ES.resolve(null).then(a).catch(hL)}:Kg;function hL(a){setTimeout(function(){throw a})}function Xg(a,d){var p=d,x=0;do{var S=p.nextSibling;if(a.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"){if(x===0){a.removeChild(S),Nc(d);return}x--}else p!=="$"&&p!=="$?"&&p!=="$!"||x++;p=S}while(p);Nc(d)}function Fo(a){for(;a!=null;a=a.nextSibling){var d=a.nodeType;if(d===1||d===3)break;if(d===8){if(d=a.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return a}function NS(a){a=a.previousSibling;for(var d=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return a;d--}else p==="/$"&&d++}a=a.previousSibling}return null}var Ka=Math.random().toString(36).slice(2),ps="__reactFiber$"+Ka,Bc="__reactProps$"+Ka,Ws="__reactContainer$"+Ka,Gg="__reactEvents$"+Ka,fL="__reactListeners$"+Ka,pL="__reactHandles$"+Ka;function Di(a){var d=a[ps];if(d)return d;for(var p=a.parentNode;p;){if(d=p[Ws]||p[ps]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(a=NS(a);a!==null;){if(p=a[ps])return p;a=NS(a)}return d}a=p,p=a.parentNode}return null}function Fc(a){return a=a[ps]||a[Ws],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Xa(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function th(a){return a[Bc]||null}var Jg=[],Ga=-1;function $o(a){return{current:a}}function St(a){0>Ga||(a.current=Jg[Ga],Jg[Ga]=null,Ga--)}function yt(a,d){Ga++,Jg[Ga]=a.current,a.current=d}var zo={},Sn=$o(zo),Hn=$o(!1),Li=zo;function Ja(a,d){var p=a.type.contextTypes;if(!p)return zo;var x=a.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===d)return x.__reactInternalMemoizedMaskedChildContext;var S={},E;for(E in p)S[E]=d[E];return x&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=d,a.__reactInternalMemoizedMaskedChildContext=S),S}function Wn(a){return a=a.childContextTypes,a!=null}function nh(){St(Hn),St(Sn)}function jS(a,d,p){if(Sn.current!==zo)throw Error(n(168));yt(Sn,d),yt(Hn,p)}function TS(a,d,p){var x=a.stateNode;if(d=d.childContextTypes,typeof x.getChildContext!="function")return p;x=x.getChildContext();for(var S in x)if(!(S in d))throw Error(n(108,X(a)||"Unknown",S));return Z({},p,x)}function rh(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||zo,Li=Sn.current,yt(Sn,a),yt(Hn,Hn.current),!0}function MS(a,d,p){var x=a.stateNode;if(!x)throw Error(n(169));p?(a=TS(a,d,Li),x.__reactInternalMemoizedMergedChildContext=a,St(Hn),St(Sn),yt(Sn,a)):St(Hn),yt(Hn,p)}var Vs=null,sh=!1,Qg=!1;function OS(a){Vs===null?Vs=[a]:Vs.push(a)}function mL(a){sh=!0,OS(a)}function Uo(){if(!Qg&&Vs!==null){Qg=!0;var a=0,d=ft;try{var p=Vs;for(ft=1;a<p.length;a++){var x=p[a];do x=x(!0);while(x!==null)}Vs=null,sh=!1}catch(S){throw Vs!==null&&(Vs=Vs.slice(a+1)),Ak(bg,Uo),S}finally{ft=d,Qg=!1}}return null}var Qa=[],Za=0,oh=null,ih=0,Cr=[],_r=0,Bi=null,qs=1,Ys="";function Fi(a,d){Qa[Za++]=ih,Qa[Za++]=oh,oh=a,ih=d}function PS(a,d,p){Cr[_r++]=qs,Cr[_r++]=Ys,Cr[_r++]=Bi,Bi=a;var x=qs;a=Ys;var S=32-qr(x)-1;x&=~(1<<S),p+=1;var E=32-qr(d)+S;if(30<E){var A=S-S%5;E=(x&(1<<A)-1).toString(32),x>>=A,S-=A,qs=1<<32-qr(d)+S|p<<S|x,Ys=E+a}else qs=1<<E|p<<S|x,Ys=a}function Zg(a){a.return!==null&&(Fi(a,1),PS(a,1,0))}function ex(a){for(;a===oh;)oh=Qa[--Za],Qa[Za]=null,ih=Qa[--Za],Qa[Za]=null;for(;a===Bi;)Bi=Cr[--_r],Cr[_r]=null,Ys=Cr[--_r],Cr[_r]=null,qs=Cr[--_r],Cr[_r]=null}var ir=null,ar=null,_t=!1,Kr=null;function AS(a,d){var p=Tr(5,null,null,0);p.elementType="DELETED",p.stateNode=d,p.return=a,d=a.deletions,d===null?(a.deletions=[p],a.flags|=16):d.push(p)}function RS(a,d){switch(a.tag){case 5:var p=a.type;return d=d.nodeType!==1||p.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(a.stateNode=d,ir=a,ar=Fo(d.firstChild),!0):!1;case 6:return d=a.pendingProps===""||d.nodeType!==3?null:d,d!==null?(a.stateNode=d,ir=a,ar=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(p=Bi!==null?{id:qs,overflow:Ys}:null,a.memoizedState={dehydrated:d,treeContext:p,retryLane:1073741824},p=Tr(18,null,null,0),p.stateNode=d,p.return=a,a.child=p,ir=a,ar=null,!0):!1;default:return!1}}function tx(a){return(a.mode&1)!==0&&(a.flags&128)===0}function nx(a){if(_t){var d=ar;if(d){var p=d;if(!RS(a,d)){if(tx(a))throw Error(n(418));d=Fo(p.nextSibling);var x=ir;d&&RS(a,d)?AS(x,p):(a.flags=a.flags&-4097|2,_t=!1,ir=a)}}else{if(tx(a))throw Error(n(418));a.flags=a.flags&-4097|2,_t=!1,ir=a}}}function IS(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;ir=a}function ah(a){if(a!==ir)return!1;if(!_t)return IS(a),_t=!0,!1;var d;if((d=a.tag!==3)&&!(d=a.tag!==5)&&(d=a.type,d=d!=="head"&&d!=="body"&&!Yg(a.type,a.memoizedProps)),d&&(d=ar)){if(tx(a))throw DS(),Error(n(418));for(;d;)AS(a,d),d=Fo(d.nextSibling)}if(IS(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,d=0;a;){if(a.nodeType===8){var p=a.data;if(p==="/$"){if(d===0){ar=Fo(a.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++}a=a.nextSibling}ar=null}}else ar=ir?Fo(a.stateNode.nextSibling):null;return!0}function DS(){for(var a=ar;a;)a=Fo(a.nextSibling)}function el(){ar=ir=null,_t=!1}function rx(a){Kr===null?Kr=[a]:Kr.push(a)}var gL=N.ReactCurrentBatchConfig;function $c(a,d,p){if(a=p.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var x=p.stateNode}if(!x)throw Error(n(147,a));var S=x,E=""+a;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===E?d.ref:(d=function(A){var z=S.refs;A===null?delete z[E]:z[E]=A},d._stringRef=E,d)}if(typeof a!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,a))}return a}function lh(a,d){throw a=Object.prototype.toString.call(d),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":a))}function LS(a){var d=a._init;return d(a._payload)}function BS(a){function d(te,G){if(a){var re=te.deletions;re===null?(te.deletions=[G],te.flags|=16):re.push(G)}}function p(te,G){if(!a)return null;for(;G!==null;)d(te,G),G=G.sibling;return null}function x(te,G){for(te=new Map;G!==null;)G.key!==null?te.set(G.key,G):te.set(G.index,G),G=G.sibling;return te}function S(te,G){return te=Go(te,G),te.index=0,te.sibling=null,te}function E(te,G,re){return te.index=re,a?(re=te.alternate,re!==null?(re=re.index,re<G?(te.flags|=2,G):re):(te.flags|=2,G)):(te.flags|=1048576,G)}function A(te){return a&&te.alternate===null&&(te.flags|=2),te}function z(te,G,re,Ce){return G===null||G.tag!==6?(G=Kx(re,te.mode,Ce),G.return=te,G):(G=S(G,re),G.return=te,G)}function Y(te,G,re,Ce){var Ie=re.type;return Ie===I?we(te,G,re.props.children,Ce,re.key):G!==null&&(G.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===W&&LS(Ie)===G.type)?(Ce=S(G,re.props),Ce.ref=$c(te,G,re),Ce.return=te,Ce):(Ce=Ph(re.type,re.key,re.props,null,te.mode,Ce),Ce.ref=$c(te,G,re),Ce.return=te,Ce)}function oe(te,G,re,Ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==re.containerInfo||G.stateNode.implementation!==re.implementation?(G=Xx(re,te.mode,Ce),G.return=te,G):(G=S(G,re.children||[]),G.return=te,G)}function we(te,G,re,Ce,Ie){return G===null||G.tag!==7?(G=Yi(re,te.mode,Ce,Ie),G.return=te,G):(G=S(G,re),G.return=te,G)}function ke(te,G,re){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Kx(""+G,te.mode,re),G.return=te,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case j:return re=Ph(G.type,G.key,G.props,null,te.mode,re),re.ref=$c(te,null,G),re.return=te,re;case P:return G=Xx(G,te.mode,re),G.return=te,G;case W:var Ce=G._init;return ke(te,Ce(G._payload),re)}if(Le(G)||D(G))return G=Yi(G,te.mode,re,null),G.return=te,G;lh(te,G)}return null}function be(te,G,re,Ce){var Ie=G!==null?G.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Ie!==null?null:z(te,G,""+re,Ce);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case j:return re.key===Ie?Y(te,G,re,Ce):null;case P:return re.key===Ie?oe(te,G,re,Ce):null;case W:return Ie=re._init,be(te,G,Ie(re._payload),Ce)}if(Le(re)||D(re))return Ie!==null?null:we(te,G,re,Ce,null);lh(te,re)}return null}function je(te,G,re,Ce,Ie){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return te=te.get(re)||null,z(G,te,""+Ce,Ie);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case j:return te=te.get(Ce.key===null?re:Ce.key)||null,Y(G,te,Ce,Ie);case P:return te=te.get(Ce.key===null?re:Ce.key)||null,oe(G,te,Ce,Ie);case W:var Be=Ce._init;return je(te,G,re,Be(Ce._payload),Ie)}if(Le(Ce)||D(Ce))return te=te.get(re)||null,we(G,te,Ce,Ie,null);lh(G,Ce)}return null}function Oe(te,G,re,Ce){for(var Ie=null,Be=null,Fe=G,He=G=0,dn=null;Fe!==null&&He<re.length;He++){Fe.index>He?(dn=Fe,Fe=null):dn=Fe.sibling;var lt=be(te,Fe,re[He],Ce);if(lt===null){Fe===null&&(Fe=dn);break}a&&Fe&&lt.alternate===null&&d(te,Fe),G=E(lt,G,He),Be===null?Ie=lt:Be.sibling=lt,Be=lt,Fe=dn}if(He===re.length)return p(te,Fe),_t&&Fi(te,He),Ie;if(Fe===null){for(;He<re.length;He++)Fe=ke(te,re[He],Ce),Fe!==null&&(G=E(Fe,G,He),Be===null?Ie=Fe:Be.sibling=Fe,Be=Fe);return _t&&Fi(te,He),Ie}for(Fe=x(te,Fe);He<re.length;He++)dn=je(Fe,te,He,re[He],Ce),dn!==null&&(a&&dn.alternate!==null&&Fe.delete(dn.key===null?He:dn.key),G=E(dn,G,He),Be===null?Ie=dn:Be.sibling=dn,Be=dn);return a&&Fe.forEach(function(Jo){return d(te,Jo)}),_t&&Fi(te,He),Ie}function Re(te,G,re,Ce){var Ie=D(re);if(typeof Ie!="function")throw Error(n(150));if(re=Ie.call(re),re==null)throw Error(n(151));for(var Be=Ie=null,Fe=G,He=G=0,dn=null,lt=re.next();Fe!==null&&!lt.done;He++,lt=re.next()){Fe.index>He?(dn=Fe,Fe=null):dn=Fe.sibling;var Jo=be(te,Fe,lt.value,Ce);if(Jo===null){Fe===null&&(Fe=dn);break}a&&Fe&&Jo.alternate===null&&d(te,Fe),G=E(Jo,G,He),Be===null?Ie=Jo:Be.sibling=Jo,Be=Jo,Fe=dn}if(lt.done)return p(te,Fe),_t&&Fi(te,He),Ie;if(Fe===null){for(;!lt.done;He++,lt=re.next())lt=ke(te,lt.value,Ce),lt!==null&&(G=E(lt,G,He),Be===null?Ie=lt:Be.sibling=lt,Be=lt);return _t&&Fi(te,He),Ie}for(Fe=x(te,Fe);!lt.done;He++,lt=re.next())lt=je(Fe,te,He,lt.value,Ce),lt!==null&&(a&&lt.alternate!==null&&Fe.delete(lt.key===null?He:lt.key),G=E(lt,G,He),Be===null?Ie=lt:Be.sibling=lt,Be=lt);return a&&Fe.forEach(function(XL){return d(te,XL)}),_t&&Fi(te,He),Ie}function Ft(te,G,re,Ce){if(typeof re=="object"&&re!==null&&re.type===I&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case j:e:{for(var Ie=re.key,Be=G;Be!==null;){if(Be.key===Ie){if(Ie=re.type,Ie===I){if(Be.tag===7){p(te,Be.sibling),G=S(Be,re.props.children),G.return=te,te=G;break e}}else if(Be.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===W&&LS(Ie)===Be.type){p(te,Be.sibling),G=S(Be,re.props),G.ref=$c(te,Be,re),G.return=te,te=G;break e}p(te,Be);break}else d(te,Be);Be=Be.sibling}re.type===I?(G=Yi(re.props.children,te.mode,Ce,re.key),G.return=te,te=G):(Ce=Ph(re.type,re.key,re.props,null,te.mode,Ce),Ce.ref=$c(te,G,re),Ce.return=te,te=Ce)}return A(te);case P:e:{for(Be=re.key;G!==null;){if(G.key===Be)if(G.tag===4&&G.stateNode.containerInfo===re.containerInfo&&G.stateNode.implementation===re.implementation){p(te,G.sibling),G=S(G,re.children||[]),G.return=te,te=G;break e}else{p(te,G);break}else d(te,G);G=G.sibling}G=Xx(re,te.mode,Ce),G.return=te,te=G}return A(te);case W:return Be=re._init,Ft(te,G,Be(re._payload),Ce)}if(Le(re))return Oe(te,G,re,Ce);if(D(re))return Re(te,G,re,Ce);lh(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,G!==null&&G.tag===6?(p(te,G.sibling),G=S(G,re),G.return=te,te=G):(p(te,G),G=Kx(re,te.mode,Ce),G.return=te,te=G),A(te)):p(te,G)}return Ft}var tl=BS(!0),FS=BS(!1),ch=$o(null),dh=null,nl=null,sx=null;function ox(){sx=nl=dh=null}function ix(a){var d=ch.current;St(ch),a._currentValue=d}function ax(a,d,p){for(;a!==null;){var x=a.alternate;if((a.childLanes&d)!==d?(a.childLanes|=d,x!==null&&(x.childLanes|=d)):x!==null&&(x.childLanes&d)!==d&&(x.childLanes|=d),a===p)break;a=a.return}}function rl(a,d){dh=a,sx=nl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&d)!==0&&(Vn=!0),a.firstContext=null)}function Er(a){var d=a._currentValue;if(sx!==a)if(a={context:a,memoizedValue:d,next:null},nl===null){if(dh===null)throw Error(n(308));nl=a,dh.dependencies={lanes:0,firstContext:a}}else nl=nl.next=a;return d}var $i=null;function lx(a){$i===null?$i=[a]:$i.push(a)}function $S(a,d,p,x){var S=d.interleaved;return S===null?(p.next=p,lx(d)):(p.next=S.next,S.next=p),d.interleaved=p,Ks(a,x)}function Ks(a,d){a.lanes|=d;var p=a.alternate;for(p!==null&&(p.lanes|=d),p=a,a=a.return;a!==null;)a.childLanes|=d,p=a.alternate,p!==null&&(p.childLanes|=d),p=a,a=a.return;return p.tag===3?p.stateNode:null}var Ho=!1;function cx(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zS(a,d){a=a.updateQueue,d.updateQueue===a&&(d.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Xs(a,d){return{eventTime:a,lane:d,tag:0,payload:null,callback:null,next:null}}function Wo(a,d,p){var x=a.updateQueue;if(x===null)return null;if(x=x.shared,(ot&2)!==0){var S=x.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),x.pending=d,Ks(a,p)}return S=x.interleaved,S===null?(d.next=d,lx(x)):(d.next=S.next,S.next=d),x.interleaved=d,Ks(a,p)}function uh(a,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194240)!==0)){var x=d.lanes;x&=a.pendingLanes,p|=x,d.lanes=p,Sg(a,p)}}function US(a,d){var p=a.updateQueue,x=a.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var S=null,E=null;if(p=p.firstBaseUpdate,p!==null){do{var A={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};E===null?S=E=A:E=E.next=A,p=p.next}while(p!==null);E===null?S=E=d:E=E.next=d}else S=E=d;p={baseState:x.baseState,firstBaseUpdate:S,lastBaseUpdate:E,shared:x.shared,effects:x.effects},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=d}function hh(a,d,p,x){var S=a.updateQueue;Ho=!1;var E=S.firstBaseUpdate,A=S.lastBaseUpdate,z=S.shared.pending;if(z!==null){S.shared.pending=null;var Y=z,oe=Y.next;Y.next=null,A===null?E=oe:A.next=oe,A=Y;var we=a.alternate;we!==null&&(we=we.updateQueue,z=we.lastBaseUpdate,z!==A&&(z===null?we.firstBaseUpdate=oe:z.next=oe,we.lastBaseUpdate=Y))}if(E!==null){var ke=S.baseState;A=0,we=oe=Y=null,z=E;do{var be=z.lane,je=z.eventTime;if((x&be)===be){we!==null&&(we=we.next={eventTime:je,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Oe=a,Re=z;switch(be=d,je=p,Re.tag){case 1:if(Oe=Re.payload,typeof Oe=="function"){ke=Oe.call(je,ke,be);break e}ke=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Re.payload,be=typeof Oe=="function"?Oe.call(je,ke,be):Oe,be==null)break e;ke=Z({},ke,be);break e;case 2:Ho=!0}}z.callback!==null&&z.lane!==0&&(a.flags|=64,be=S.effects,be===null?S.effects=[z]:be.push(z))}else je={eventTime:je,lane:be,tag:z.tag,payload:z.payload,callback:z.callback,next:null},we===null?(oe=we=je,Y=ke):we=we.next=je,A|=be;if(z=z.next,z===null){if(z=S.shared.pending,z===null)break;be=z,z=be.next,be.next=null,S.lastBaseUpdate=be,S.shared.pending=null}}while(!0);if(we===null&&(Y=ke),S.baseState=Y,S.firstBaseUpdate=oe,S.lastBaseUpdate=we,d=S.shared.interleaved,d!==null){S=d;do A|=S.lane,S=S.next;while(S!==d)}else E===null&&(S.shared.lanes=0);Hi|=A,a.lanes=A,a.memoizedState=ke}}function HS(a,d,p){if(a=d.effects,d.effects=null,a!==null)for(d=0;d<a.length;d++){var x=a[d],S=x.callback;if(S!==null){if(x.callback=null,x=p,typeof S!="function")throw Error(n(191,S));S.call(x)}}}var zc={},ms=$o(zc),Uc=$o(zc),Hc=$o(zc);function zi(a){if(a===zc)throw Error(n(174));return a}function dx(a,d){switch(yt(Hc,d),yt(Uc,a),yt(ms,zc),a=d.nodeType,a){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:br(null,"");break;default:a=a===8?d.parentNode:d,d=a.namespaceURI||null,a=a.tagName,d=br(d,a)}St(ms),yt(ms,d)}function sl(){St(ms),St(Uc),St(Hc)}function WS(a){zi(Hc.current);var d=zi(ms.current),p=br(d,a.type);d!==p&&(yt(Uc,a),yt(ms,p))}function ux(a){Uc.current===a&&(St(ms),St(Uc))}var Mt=$o(0);function fh(a){for(var d=a;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var hx=[];function fx(){for(var a=0;a<hx.length;a++)hx[a]._workInProgressVersionPrimary=null;hx.length=0}var ph=N.ReactCurrentDispatcher,px=N.ReactCurrentBatchConfig,Ui=0,Ot=null,Gt=null,ln=null,mh=!1,Wc=!1,Vc=0,xL=0;function Cn(){throw Error(n(321))}function mx(a,d){if(d===null)return!1;for(var p=0;p<d.length&&p<a.length;p++)if(!Yr(a[p],d[p]))return!1;return!0}function gx(a,d,p,x,S,E){if(Ui=E,Ot=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ph.current=a===null||a.memoizedState===null?wL:kL,a=p(x,S),Wc){E=0;do{if(Wc=!1,Vc=0,25<=E)throw Error(n(301));E+=1,ln=Gt=null,d.updateQueue=null,ph.current=SL,a=p(x,S)}while(Wc)}if(ph.current=vh,d=Gt!==null&&Gt.next!==null,Ui=0,ln=Gt=Ot=null,mh=!1,d)throw Error(n(300));return a}function xx(){var a=Vc!==0;return Vc=0,a}function gs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Ot.memoizedState=ln=a:ln=ln.next=a,ln}function Nr(){if(Gt===null){var a=Ot.alternate;a=a!==null?a.memoizedState:null}else a=Gt.next;var d=ln===null?Ot.memoizedState:ln.next;if(d!==null)ln=d,Gt=a;else{if(a===null)throw Error(n(310));Gt=a,a={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},ln===null?Ot.memoizedState=ln=a:ln=ln.next=a}return ln}function qc(a,d){return typeof d=="function"?d(a):d}function vx(a){var d=Nr(),p=d.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=a;var x=Gt,S=x.baseQueue,E=p.pending;if(E!==null){if(S!==null){var A=S.next;S.next=E.next,E.next=A}x.baseQueue=S=E,p.pending=null}if(S!==null){E=S.next,x=x.baseState;var z=A=null,Y=null,oe=E;do{var we=oe.lane;if((Ui&we)===we)Y!==null&&(Y=Y.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),x=oe.hasEagerState?oe.eagerState:a(x,oe.action);else{var ke={lane:we,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};Y===null?(z=Y=ke,A=x):Y=Y.next=ke,Ot.lanes|=we,Hi|=we}oe=oe.next}while(oe!==null&&oe!==E);Y===null?A=x:Y.next=z,Yr(x,d.memoizedState)||(Vn=!0),d.memoizedState=x,d.baseState=A,d.baseQueue=Y,p.lastRenderedState=x}if(a=p.interleaved,a!==null){S=a;do E=S.lane,Ot.lanes|=E,Hi|=E,S=S.next;while(S!==a)}else S===null&&(p.lanes=0);return[d.memoizedState,p.dispatch]}function yx(a){var d=Nr(),p=d.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=a;var x=p.dispatch,S=p.pending,E=d.memoizedState;if(S!==null){p.pending=null;var A=S=S.next;do E=a(E,A.action),A=A.next;while(A!==S);Yr(E,d.memoizedState)||(Vn=!0),d.memoizedState=E,d.baseQueue===null&&(d.baseState=E),p.lastRenderedState=E}return[E,x]}function VS(){}function qS(a,d){var p=Ot,x=Nr(),S=d(),E=!Yr(x.memoizedState,S);if(E&&(x.memoizedState=S,Vn=!0),x=x.queue,bx(XS.bind(null,p,x,a),[a]),x.getSnapshot!==d||E||ln!==null&&ln.memoizedState.tag&1){if(p.flags|=2048,Yc(9,KS.bind(null,p,x,S,d),void 0,null),cn===null)throw Error(n(349));(Ui&30)!==0||YS(p,d,S)}return S}function YS(a,d,p){a.flags|=16384,a={getSnapshot:d,value:p},d=Ot.updateQueue,d===null?(d={lastEffect:null,stores:null},Ot.updateQueue=d,d.stores=[a]):(p=d.stores,p===null?d.stores=[a]:p.push(a))}function KS(a,d,p,x){d.value=p,d.getSnapshot=x,GS(d)&&JS(a)}function XS(a,d,p){return p(function(){GS(d)&&JS(a)})}function GS(a){var d=a.getSnapshot;a=a.value;try{var p=d();return!Yr(a,p)}catch{return!0}}function JS(a){var d=Ks(a,1);d!==null&&Qr(d,a,1,-1)}function QS(a){var d=gs();return typeof a=="function"&&(a=a()),d.memoizedState=d.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:a},d.queue=a,a=a.dispatch=bL.bind(null,Ot,a),[d.memoizedState,a]}function Yc(a,d,p,x){return a={tag:a,create:d,destroy:p,deps:x,next:null},d=Ot.updateQueue,d===null?(d={lastEffect:null,stores:null},Ot.updateQueue=d,d.lastEffect=a.next=a):(p=d.lastEffect,p===null?d.lastEffect=a.next=a:(x=p.next,p.next=a,a.next=x,d.lastEffect=a)),a}function ZS(){return Nr().memoizedState}function gh(a,d,p,x){var S=gs();Ot.flags|=a,S.memoizedState=Yc(1|d,p,void 0,x===void 0?null:x)}function xh(a,d,p,x){var S=Nr();x=x===void 0?null:x;var E=void 0;if(Gt!==null){var A=Gt.memoizedState;if(E=A.destroy,x!==null&&mx(x,A.deps)){S.memoizedState=Yc(d,p,E,x);return}}Ot.flags|=a,S.memoizedState=Yc(1|d,p,E,x)}function eC(a,d){return gh(8390656,8,a,d)}function bx(a,d){return xh(2048,8,a,d)}function tC(a,d){return xh(4,2,a,d)}function nC(a,d){return xh(4,4,a,d)}function rC(a,d){if(typeof d=="function")return a=a(),d(a),function(){d(null)};if(d!=null)return a=a(),d.current=a,function(){d.current=null}}function sC(a,d,p){return p=p!=null?p.concat([a]):null,xh(4,4,rC.bind(null,d,a),p)}function wx(){}function oC(a,d){var p=Nr();d=d===void 0?null:d;var x=p.memoizedState;return x!==null&&d!==null&&mx(d,x[1])?x[0]:(p.memoizedState=[a,d],a)}function iC(a,d){var p=Nr();d=d===void 0?null:d;var x=p.memoizedState;return x!==null&&d!==null&&mx(d,x[1])?x[0]:(a=a(),p.memoizedState=[a,d],a)}function aC(a,d,p){return(Ui&21)===0?(a.baseState&&(a.baseState=!1,Vn=!0),a.memoizedState=p):(Yr(p,d)||(p=Lk(),Ot.lanes|=p,Hi|=p,a.baseState=!0),d)}function vL(a,d){var p=ft;ft=p!==0&&4>p?p:4,a(!0);var x=px.transition;px.transition={};try{a(!1),d()}finally{ft=p,px.transition=x}}function lC(){return Nr().memoizedState}function yL(a,d,p){var x=Ko(a);if(p={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null},cC(a))dC(d,p);else if(p=$S(a,d,p,x),p!==null){var S=Dn();Qr(p,a,x,S),uC(p,d,x)}}function bL(a,d,p){var x=Ko(a),S={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null};if(cC(a))dC(d,S);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=d.lastRenderedReducer,E!==null))try{var A=d.lastRenderedState,z=E(A,p);if(S.hasEagerState=!0,S.eagerState=z,Yr(z,A)){var Y=d.interleaved;Y===null?(S.next=S,lx(d)):(S.next=Y.next,Y.next=S),d.interleaved=S;return}}catch{}finally{}p=$S(a,d,S,x),p!==null&&(S=Dn(),Qr(p,a,x,S),uC(p,d,x))}}function cC(a){var d=a.alternate;return a===Ot||d!==null&&d===Ot}function dC(a,d){Wc=mh=!0;var p=a.pending;p===null?d.next=d:(d.next=p.next,p.next=d),a.pending=d}function uC(a,d,p){if((p&4194240)!==0){var x=d.lanes;x&=a.pendingLanes,p|=x,d.lanes=p,Sg(a,p)}}var vh={readContext:Er,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},wL={readContext:Er,useCallback:function(a,d){return gs().memoizedState=[a,d===void 0?null:d],a},useContext:Er,useEffect:eC,useImperativeHandle:function(a,d,p){return p=p!=null?p.concat([a]):null,gh(4194308,4,rC.bind(null,d,a),p)},useLayoutEffect:function(a,d){return gh(4194308,4,a,d)},useInsertionEffect:function(a,d){return gh(4,2,a,d)},useMemo:function(a,d){var p=gs();return d=d===void 0?null:d,a=a(),p.memoizedState=[a,d],a},useReducer:function(a,d,p){var x=gs();return d=p!==void 0?p(d):d,x.memoizedState=x.baseState=d,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:d},x.queue=a,a=a.dispatch=yL.bind(null,Ot,a),[x.memoizedState,a]},useRef:function(a){var d=gs();return a={current:a},d.memoizedState=a},useState:QS,useDebugValue:wx,useDeferredValue:function(a){return gs().memoizedState=a},useTransition:function(){var a=QS(!1),d=a[0];return a=vL.bind(null,a[1]),gs().memoizedState=a,[d,a]},useMutableSource:function(){},useSyncExternalStore:function(a,d,p){var x=Ot,S=gs();if(_t){if(p===void 0)throw Error(n(407));p=p()}else{if(p=d(),cn===null)throw Error(n(349));(Ui&30)!==0||YS(x,d,p)}S.memoizedState=p;var E={value:p,getSnapshot:d};return S.queue=E,eC(XS.bind(null,x,E,a),[a]),x.flags|=2048,Yc(9,KS.bind(null,x,E,p,d),void 0,null),p},useId:function(){var a=gs(),d=cn.identifierPrefix;if(_t){var p=Ys,x=qs;p=(x&~(1<<32-qr(x)-1)).toString(32)+p,d=":"+d+"R"+p,p=Vc++,0<p&&(d+="H"+p.toString(32)),d+=":"}else p=xL++,d=":"+d+"r"+p.toString(32)+":";return a.memoizedState=d},unstable_isNewReconciler:!1},kL={readContext:Er,useCallback:oC,useContext:Er,useEffect:bx,useImperativeHandle:sC,useInsertionEffect:tC,useLayoutEffect:nC,useMemo:iC,useReducer:vx,useRef:ZS,useState:function(){return vx(qc)},useDebugValue:wx,useDeferredValue:function(a){var d=Nr();return aC(d,Gt.memoizedState,a)},useTransition:function(){var a=vx(qc)[0],d=Nr().memoizedState;return[a,d]},useMutableSource:VS,useSyncExternalStore:qS,useId:lC,unstable_isNewReconciler:!1},SL={readContext:Er,useCallback:oC,useContext:Er,useEffect:bx,useImperativeHandle:sC,useInsertionEffect:tC,useLayoutEffect:nC,useMemo:iC,useReducer:yx,useRef:ZS,useState:function(){return yx(qc)},useDebugValue:wx,useDeferredValue:function(a){var d=Nr();return Gt===null?d.memoizedState=a:aC(d,Gt.memoizedState,a)},useTransition:function(){var a=yx(qc)[0],d=Nr().memoizedState;return[a,d]},useMutableSource:VS,useSyncExternalStore:qS,useId:lC,unstable_isNewReconciler:!1};function Xr(a,d){if(a&&a.defaultProps){d=Z({},d),a=a.defaultProps;for(var p in a)d[p]===void 0&&(d[p]=a[p]);return d}return d}function kx(a,d,p,x){d=a.memoizedState,p=p(x,d),p=p==null?d:Z({},d,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var yh={isMounted:function(a){return(a=a._reactInternals)?Ii(a)===a:!1},enqueueSetState:function(a,d,p){a=a._reactInternals;var x=Dn(),S=Ko(a),E=Xs(x,S);E.payload=d,p!=null&&(E.callback=p),d=Wo(a,E,S),d!==null&&(Qr(d,a,S,x),uh(d,a,S))},enqueueReplaceState:function(a,d,p){a=a._reactInternals;var x=Dn(),S=Ko(a),E=Xs(x,S);E.tag=1,E.payload=d,p!=null&&(E.callback=p),d=Wo(a,E,S),d!==null&&(Qr(d,a,S,x),uh(d,a,S))},enqueueForceUpdate:function(a,d){a=a._reactInternals;var p=Dn(),x=Ko(a),S=Xs(p,x);S.tag=2,d!=null&&(S.callback=d),d=Wo(a,S,x),d!==null&&(Qr(d,a,x,p),uh(d,a,x))}};function hC(a,d,p,x,S,E,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(x,E,A):d.prototype&&d.prototype.isPureReactComponent?!Ac(p,x)||!Ac(S,E):!0}function fC(a,d,p){var x=!1,S=zo,E=d.contextType;return typeof E=="object"&&E!==null?E=Er(E):(S=Wn(d)?Li:Sn.current,x=d.contextTypes,E=(x=x!=null)?Ja(a,S):zo),d=new d(p,E),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yh,a.stateNode=d,d._reactInternals=a,x&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=S,a.__reactInternalMemoizedMaskedChildContext=E),d}function pC(a,d,p,x){a=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,x),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,x),d.state!==a&&yh.enqueueReplaceState(d,d.state,null)}function Sx(a,d,p,x){var S=a.stateNode;S.props=p,S.state=a.memoizedState,S.refs={},cx(a);var E=d.contextType;typeof E=="object"&&E!==null?S.context=Er(E):(E=Wn(d)?Li:Sn.current,S.context=Ja(a,E)),S.state=a.memoizedState,E=d.getDerivedStateFromProps,typeof E=="function"&&(kx(a,d,E,p),S.state=a.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(d=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),d!==S.state&&yh.enqueueReplaceState(S,S.state,null),hh(a,p,S,x),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308)}function ol(a,d){try{var p="",x=d;do p+=ie(x),x=x.return;while(x);var S=p}catch(E){S=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:d,stack:S,digest:null}}function Cx(a,d,p){return{value:a,source:null,stack:p??null,digest:d??null}}function _x(a,d){try{console.error(d.value)}catch(p){setTimeout(function(){throw p})}}var CL=typeof WeakMap=="function"?WeakMap:Map;function mC(a,d,p){p=Xs(-1,p),p.tag=3,p.payload={element:null};var x=d.value;return p.callback=function(){Eh||(Eh=!0,$x=x),_x(a,d)},p}function gC(a,d,p){p=Xs(-1,p),p.tag=3;var x=a.type.getDerivedStateFromError;if(typeof x=="function"){var S=d.value;p.payload=function(){return x(S)},p.callback=function(){_x(a,d)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(p.callback=function(){_x(a,d),typeof x!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var A=d.stack;this.componentDidCatch(d.value,{componentStack:A!==null?A:""})}),p}function xC(a,d,p){var x=a.pingCache;if(x===null){x=a.pingCache=new CL;var S=new Set;x.set(d,S)}else S=x.get(d),S===void 0&&(S=new Set,x.set(d,S));S.has(p)||(S.add(p),a=BL.bind(null,a,d,p),d.then(a,a))}function vC(a){do{var d;if((d=a.tag===13)&&(d=a.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return a;a=a.return}while(a!==null);return null}function yC(a,d,p,x,S){return(a.mode&1)===0?(a===d?a.flags|=65536:(a.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(d=Xs(-1,1),d.tag=2,Wo(p,d,1))),p.lanes|=1),a):(a.flags|=65536,a.lanes=S,a)}var _L=N.ReactCurrentOwner,Vn=!1;function In(a,d,p,x){d.child=a===null?FS(d,null,p,x):tl(d,a.child,p,x)}function bC(a,d,p,x,S){p=p.render;var E=d.ref;return rl(d,S),x=gx(a,d,p,x,E,S),p=xx(),a!==null&&!Vn?(d.updateQueue=a.updateQueue,d.flags&=-2053,a.lanes&=~S,Gs(a,d,S)):(_t&&p&&Zg(d),d.flags|=1,In(a,d,x,S),d.child)}function wC(a,d,p,x,S){if(a===null){var E=p.type;return typeof E=="function"&&!Yx(E)&&E.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(d.tag=15,d.type=E,kC(a,d,E,x,S)):(a=Ph(p.type,null,x,d,d.mode,S),a.ref=d.ref,a.return=d,d.child=a)}if(E=a.child,(a.lanes&S)===0){var A=E.memoizedProps;if(p=p.compare,p=p!==null?p:Ac,p(A,x)&&a.ref===d.ref)return Gs(a,d,S)}return d.flags|=1,a=Go(E,x),a.ref=d.ref,a.return=d,d.child=a}function kC(a,d,p,x,S){if(a!==null){var E=a.memoizedProps;if(Ac(E,x)&&a.ref===d.ref)if(Vn=!1,d.pendingProps=x=E,(a.lanes&S)!==0)(a.flags&131072)!==0&&(Vn=!0);else return d.lanes=a.lanes,Gs(a,d,S)}return Ex(a,d,p,x,S)}function SC(a,d,p){var x=d.pendingProps,S=x.children,E=a!==null?a.memoizedState:null;if(x.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(al,lr),lr|=p;else{if((p&1073741824)===0)return a=E!==null?E.baseLanes|p:p,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:a,cachePool:null,transitions:null},d.updateQueue=null,yt(al,lr),lr|=a,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=E!==null?E.baseLanes:p,yt(al,lr),lr|=x}else E!==null?(x=E.baseLanes|p,d.memoizedState=null):x=p,yt(al,lr),lr|=x;return In(a,d,S,p),d.child}function CC(a,d){var p=d.ref;(a===null&&p!==null||a!==null&&a.ref!==p)&&(d.flags|=512,d.flags|=2097152)}function Ex(a,d,p,x,S){var E=Wn(p)?Li:Sn.current;return E=Ja(d,E),rl(d,S),p=gx(a,d,p,x,E,S),x=xx(),a!==null&&!Vn?(d.updateQueue=a.updateQueue,d.flags&=-2053,a.lanes&=~S,Gs(a,d,S)):(_t&&x&&Zg(d),d.flags|=1,In(a,d,p,S),d.child)}function _C(a,d,p,x,S){if(Wn(p)){var E=!0;rh(d)}else E=!1;if(rl(d,S),d.stateNode===null)wh(a,d),fC(d,p,x),Sx(d,p,x,S),x=!0;else if(a===null){var A=d.stateNode,z=d.memoizedProps;A.props=z;var Y=A.context,oe=p.contextType;typeof oe=="object"&&oe!==null?oe=Er(oe):(oe=Wn(p)?Li:Sn.current,oe=Ja(d,oe));var we=p.getDerivedStateFromProps,ke=typeof we=="function"||typeof A.getSnapshotBeforeUpdate=="function";ke||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(z!==x||Y!==oe)&&pC(d,A,x,oe),Ho=!1;var be=d.memoizedState;A.state=be,hh(d,x,A,S),Y=d.memoizedState,z!==x||be!==Y||Hn.current||Ho?(typeof we=="function"&&(kx(d,p,we,x),Y=d.memoizedState),(z=Ho||hC(d,p,z,x,be,Y,oe))?(ke||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(d.flags|=4194308)):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=Y),A.props=x,A.state=Y,A.context=oe,x=z):(typeof A.componentDidMount=="function"&&(d.flags|=4194308),x=!1)}else{A=d.stateNode,zS(a,d),z=d.memoizedProps,oe=d.type===d.elementType?z:Xr(d.type,z),A.props=oe,ke=d.pendingProps,be=A.context,Y=p.contextType,typeof Y=="object"&&Y!==null?Y=Er(Y):(Y=Wn(p)?Li:Sn.current,Y=Ja(d,Y));var je=p.getDerivedStateFromProps;(we=typeof je=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(z!==ke||be!==Y)&&pC(d,A,x,Y),Ho=!1,be=d.memoizedState,A.state=be,hh(d,x,A,S);var Oe=d.memoizedState;z!==ke||be!==Oe||Hn.current||Ho?(typeof je=="function"&&(kx(d,p,je,x),Oe=d.memoizedState),(oe=Ho||hC(d,p,oe,x,be,Oe,Y)||!1)?(we||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(x,Oe,Y),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(x,Oe,Y)),typeof A.componentDidUpdate=="function"&&(d.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof A.componentDidUpdate!="function"||z===a.memoizedProps&&be===a.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&be===a.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=Oe),A.props=x,A.state=Oe,A.context=Y,x=oe):(typeof A.componentDidUpdate!="function"||z===a.memoizedProps&&be===a.memoizedState||(d.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&be===a.memoizedState||(d.flags|=1024),x=!1)}return Nx(a,d,p,x,E,S)}function Nx(a,d,p,x,S,E){CC(a,d);var A=(d.flags&128)!==0;if(!x&&!A)return S&&MS(d,p,!1),Gs(a,d,E);x=d.stateNode,_L.current=d;var z=A&&typeof p.getDerivedStateFromError!="function"?null:x.render();return d.flags|=1,a!==null&&A?(d.child=tl(d,a.child,null,E),d.child=tl(d,null,z,E)):In(a,d,z,E),d.memoizedState=x.state,S&&MS(d,p,!0),d.child}function EC(a){var d=a.stateNode;d.pendingContext?jS(a,d.pendingContext,d.pendingContext!==d.context):d.context&&jS(a,d.context,!1),dx(a,d.containerInfo)}function NC(a,d,p,x,S){return el(),rx(S),d.flags|=256,In(a,d,p,x),d.child}var jx={dehydrated:null,treeContext:null,retryLane:0};function Tx(a){return{baseLanes:a,cachePool:null,transitions:null}}function jC(a,d,p){var x=d.pendingProps,S=Mt.current,E=!1,A=(d.flags&128)!==0,z;if((z=A)||(z=a!==null&&a.memoizedState===null?!1:(S&2)!==0),z?(E=!0,d.flags&=-129):(a===null||a.memoizedState!==null)&&(S|=1),yt(Mt,S&1),a===null)return nx(d),a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((d.mode&1)===0?d.lanes=1:a.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(A=x.children,a=x.fallback,E?(x=d.mode,E=d.child,A={mode:"hidden",children:A},(x&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=A):E=Ah(A,x,0,null),a=Yi(a,x,p,null),E.return=d,a.return=d,E.sibling=a,d.child=E,d.child.memoizedState=Tx(p),d.memoizedState=jx,a):Mx(d,A));if(S=a.memoizedState,S!==null&&(z=S.dehydrated,z!==null))return EL(a,d,A,x,z,S,p);if(E){E=x.fallback,A=d.mode,S=a.child,z=S.sibling;var Y={mode:"hidden",children:x.children};return(A&1)===0&&d.child!==S?(x=d.child,x.childLanes=0,x.pendingProps=Y,d.deletions=null):(x=Go(S,Y),x.subtreeFlags=S.subtreeFlags&14680064),z!==null?E=Go(z,E):(E=Yi(E,A,p,null),E.flags|=2),E.return=d,x.return=d,x.sibling=E,d.child=x,x=E,E=d.child,A=a.child.memoizedState,A=A===null?Tx(p):{baseLanes:A.baseLanes|p,cachePool:null,transitions:A.transitions},E.memoizedState=A,E.childLanes=a.childLanes&~p,d.memoizedState=jx,x}return E=a.child,a=E.sibling,x=Go(E,{mode:"visible",children:x.children}),(d.mode&1)===0&&(x.lanes=p),x.return=d,x.sibling=null,a!==null&&(p=d.deletions,p===null?(d.deletions=[a],d.flags|=16):p.push(a)),d.child=x,d.memoizedState=null,x}function Mx(a,d){return d=Ah({mode:"visible",children:d},a.mode,0,null),d.return=a,a.child=d}function bh(a,d,p,x){return x!==null&&rx(x),tl(d,a.child,null,p),a=Mx(d,d.pendingProps.children),a.flags|=2,d.memoizedState=null,a}function EL(a,d,p,x,S,E,A){if(p)return d.flags&256?(d.flags&=-257,x=Cx(Error(n(422))),bh(a,d,A,x)):d.memoizedState!==null?(d.child=a.child,d.flags|=128,null):(E=x.fallback,S=d.mode,x=Ah({mode:"visible",children:x.children},S,0,null),E=Yi(E,S,A,null),E.flags|=2,x.return=d,E.return=d,x.sibling=E,d.child=x,(d.mode&1)!==0&&tl(d,a.child,null,A),d.child.memoizedState=Tx(A),d.memoizedState=jx,E);if((d.mode&1)===0)return bh(a,d,A,null);if(S.data==="$!"){if(x=S.nextSibling&&S.nextSibling.dataset,x)var z=x.dgst;return x=z,E=Error(n(419)),x=Cx(E,x,void 0),bh(a,d,A,x)}if(z=(A&a.childLanes)!==0,Vn||z){if(x=cn,x!==null){switch(A&-A){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(x.suspendedLanes|A))!==0?0:S,S!==0&&S!==E.retryLane&&(E.retryLane=S,Ks(a,S),Qr(x,a,S,-1))}return qx(),x=Cx(Error(n(421))),bh(a,d,A,x)}return S.data==="$?"?(d.flags|=128,d.child=a.child,d=FL.bind(null,a),S._reactRetry=d,null):(a=E.treeContext,ar=Fo(S.nextSibling),ir=d,_t=!0,Kr=null,a!==null&&(Cr[_r++]=qs,Cr[_r++]=Ys,Cr[_r++]=Bi,qs=a.id,Ys=a.overflow,Bi=d),d=Mx(d,x.children),d.flags|=4096,d)}function TC(a,d,p){a.lanes|=d;var x=a.alternate;x!==null&&(x.lanes|=d),ax(a.return,d,p)}function Ox(a,d,p,x,S){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:S}:(E.isBackwards=d,E.rendering=null,E.renderingStartTime=0,E.last=x,E.tail=p,E.tailMode=S)}function MC(a,d,p){var x=d.pendingProps,S=x.revealOrder,E=x.tail;if(In(a,d,x.children,p),x=Mt.current,(x&2)!==0)x=x&1|2,d.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=d.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&TC(a,p,d);else if(a.tag===19)TC(a,p,d);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===d)break e;for(;a.sibling===null;){if(a.return===null||a.return===d)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}x&=1}if(yt(Mt,x),(d.mode&1)===0)d.memoizedState=null;else switch(S){case"forwards":for(p=d.child,S=null;p!==null;)a=p.alternate,a!==null&&fh(a)===null&&(S=p),p=p.sibling;p=S,p===null?(S=d.child,d.child=null):(S=p.sibling,p.sibling=null),Ox(d,!1,S,p,E);break;case"backwards":for(p=null,S=d.child,d.child=null;S!==null;){if(a=S.alternate,a!==null&&fh(a)===null){d.child=S;break}a=S.sibling,S.sibling=p,p=S,S=a}Ox(d,!0,p,null,E);break;case"together":Ox(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function wh(a,d){(d.mode&1)===0&&a!==null&&(a.alternate=null,d.alternate=null,d.flags|=2)}function Gs(a,d,p){if(a!==null&&(d.dependencies=a.dependencies),Hi|=d.lanes,(p&d.childLanes)===0)return null;if(a!==null&&d.child!==a.child)throw Error(n(153));if(d.child!==null){for(a=d.child,p=Go(a,a.pendingProps),d.child=p,p.return=d;a.sibling!==null;)a=a.sibling,p=p.sibling=Go(a,a.pendingProps),p.return=d;p.sibling=null}return d.child}function NL(a,d,p){switch(d.tag){case 3:EC(d),el();break;case 5:WS(d);break;case 1:Wn(d.type)&&rh(d);break;case 4:dx(d,d.stateNode.containerInfo);break;case 10:var x=d.type._context,S=d.memoizedProps.value;yt(ch,x._currentValue),x._currentValue=S;break;case 13:if(x=d.memoizedState,x!==null)return x.dehydrated!==null?(yt(Mt,Mt.current&1),d.flags|=128,null):(p&d.child.childLanes)!==0?jC(a,d,p):(yt(Mt,Mt.current&1),a=Gs(a,d,p),a!==null?a.sibling:null);yt(Mt,Mt.current&1);break;case 19:if(x=(p&d.childLanes)!==0,(a.flags&128)!==0){if(x)return MC(a,d,p);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),yt(Mt,Mt.current),x)break;return null;case 22:case 23:return d.lanes=0,SC(a,d,p)}return Gs(a,d,p)}var OC,Px,PC,AC;OC=function(a,d){for(var p=d.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Px=function(){},PC=function(a,d,p,x){var S=a.memoizedProps;if(S!==x){a=d.stateNode,zi(ms.current);var E=null;switch(p){case"input":S=ge(a,S),x=ge(a,x),E=[];break;case"select":S=Z({},S,{value:void 0}),x=Z({},x,{value:void 0}),E=[];break;case"textarea":S=ht(a,S),x=ht(a,x),E=[];break;default:typeof S.onClick!="function"&&typeof x.onClick=="function"&&(a.onclick=eh)}za(p,x);var A;p=null;for(oe in S)if(!x.hasOwnProperty(oe)&&S.hasOwnProperty(oe)&&S[oe]!=null)if(oe==="style"){var z=S[oe];for(A in z)z.hasOwnProperty(A)&&(p||(p={}),p[A]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(s.hasOwnProperty(oe)?E||(E=[]):(E=E||[]).push(oe,null));for(oe in x){var Y=x[oe];if(z=S?.[oe],x.hasOwnProperty(oe)&&Y!==z&&(Y!=null||z!=null))if(oe==="style")if(z){for(A in z)!z.hasOwnProperty(A)||Y&&Y.hasOwnProperty(A)||(p||(p={}),p[A]="");for(A in Y)Y.hasOwnProperty(A)&&z[A]!==Y[A]&&(p||(p={}),p[A]=Y[A])}else p||(E||(E=[]),E.push(oe,p)),p=Y;else oe==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,z=z?z.__html:void 0,Y!=null&&z!==Y&&(E=E||[]).push(oe,Y)):oe==="children"?typeof Y!="string"&&typeof Y!="number"||(E=E||[]).push(oe,""+Y):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(s.hasOwnProperty(oe)?(Y!=null&&oe==="onScroll"&&kt("scroll",a),E||z===Y||(E=[])):(E=E||[]).push(oe,Y))}p&&(E=E||[]).push("style",p);var oe=E;(d.updateQueue=oe)&&(d.flags|=4)}},AC=function(a,d,p,x){p!==x&&(d.flags|=4)};function Kc(a,d){if(!_t)switch(a.tailMode){case"hidden":d=a.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?d||a.tail===null?a.tail=null:a.tail.sibling=null:x.sibling=null}}function _n(a){var d=a.alternate!==null&&a.alternate.child===a.child,p=0,x=0;if(d)for(var S=a.child;S!==null;)p|=S.lanes|S.childLanes,x|=S.subtreeFlags&14680064,x|=S.flags&14680064,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)p|=S.lanes|S.childLanes,x|=S.subtreeFlags,x|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=x,a.childLanes=p,d}function jL(a,d,p){var x=d.pendingProps;switch(ex(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(d),null;case 1:return Wn(d.type)&&nh(),_n(d),null;case 3:return x=d.stateNode,sl(),St(Hn),St(Sn),fx(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(a===null||a.child===null)&&(ah(d)?d.flags|=4:a===null||a.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Kr!==null&&(Hx(Kr),Kr=null))),Px(a,d),_n(d),null;case 5:ux(d);var S=zi(Hc.current);if(p=d.type,a!==null&&d.stateNode!=null)PC(a,d,p,x,S),a.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!x){if(d.stateNode===null)throw Error(n(166));return _n(d),null}if(a=zi(ms.current),ah(d)){x=d.stateNode,p=d.type;var E=d.memoizedProps;switch(x[ps]=d,x[Bc]=E,a=(d.mode&1)!==0,p){case"dialog":kt("cancel",x),kt("close",x);break;case"iframe":case"object":case"embed":kt("load",x);break;case"video":case"audio":for(S=0;S<Ic.length;S++)kt(Ic[S],x);break;case"source":kt("error",x);break;case"img":case"image":case"link":kt("error",x),kt("load",x);break;case"details":kt("toggle",x);break;case"input":he(x,E),kt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!E.multiple},kt("invalid",x);break;case"textarea":Kt(x,E),kt("invalid",x)}za(p,E),S=null;for(var A in E)if(E.hasOwnProperty(A)){var z=E[A];A==="children"?typeof z=="string"?x.textContent!==z&&(E.suppressHydrationWarning!==!0&&Zu(x.textContent,z,a),S=["children",z]):typeof z=="number"&&x.textContent!==""+z&&(E.suppressHydrationWarning!==!0&&Zu(x.textContent,z,a),S=["children",""+z]):s.hasOwnProperty(A)&&z!=null&&A==="onScroll"&&kt("scroll",x)}switch(p){case"input":me(x),ye(x,E,!0);break;case"textarea":me(x),Eo(x);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(x.onclick=eh)}x=S,d.updateQueue=x,x!==null&&(d.flags|=4)}else{A=S.nodeType===9?S:S.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Rn(p)),a==="http://www.w3.org/1999/xhtml"?p==="script"?(a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof x.is=="string"?a=A.createElement(p,{is:x.is}):(a=A.createElement(p),p==="select"&&(A=a,x.multiple?A.multiple=!0:x.size&&(A.size=x.size))):a=A.createElementNS(a,p),a[ps]=d,a[Bc]=x,OC(a,d,!1,!1),d.stateNode=a;e:{switch(A=xc(p,x),p){case"dialog":kt("cancel",a),kt("close",a),S=x;break;case"iframe":case"object":case"embed":kt("load",a),S=x;break;case"video":case"audio":for(S=0;S<Ic.length;S++)kt(Ic[S],a);S=x;break;case"source":kt("error",a),S=x;break;case"img":case"image":case"link":kt("error",a),kt("load",a),S=x;break;case"details":kt("toggle",a),S=x;break;case"input":he(a,x),S=ge(a,x),kt("invalid",a);break;case"option":S=x;break;case"select":a._wrapperState={wasMultiple:!!x.multiple},S=Z({},x,{value:void 0}),kt("invalid",a);break;case"textarea":Kt(a,x),S=ht(a,x),kt("invalid",a);break;default:S=x}za(p,S),z=S;for(E in z)if(z.hasOwnProperty(E)){var Y=z[E];E==="style"?Au(a,Y):E==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&$a(a,Y)):E==="children"?typeof Y=="string"?(p!=="textarea"||Y!=="")&&wr(a,Y):typeof Y=="number"&&wr(a,""+Y):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?Y!=null&&E==="onScroll"&&kt("scroll",a):Y!=null&&T(a,E,Y,A))}switch(p){case"input":me(a),ye(a,x,!1);break;case"textarea":me(a),Eo(a);break;case"option":x.value!=null&&a.setAttribute("value",""+H(x.value));break;case"select":a.multiple=!!x.multiple,E=x.value,E!=null?et(a,!!x.multiple,E,!1):x.defaultValue!=null&&et(a,!!x.multiple,x.defaultValue,!0);break;default:typeof S.onClick=="function"&&(a.onclick=eh)}switch(p){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return _n(d),null;case 6:if(a&&d.stateNode!=null)AC(a,d,a.memoizedProps,x);else{if(typeof x!="string"&&d.stateNode===null)throw Error(n(166));if(p=zi(Hc.current),zi(ms.current),ah(d)){if(x=d.stateNode,p=d.memoizedProps,x[ps]=d,(E=x.nodeValue!==p)&&(a=ir,a!==null))switch(a.tag){case 3:Zu(x.nodeValue,p,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Zu(x.nodeValue,p,(a.mode&1)!==0)}E&&(d.flags|=4)}else x=(p.nodeType===9?p:p.ownerDocument).createTextNode(x),x[ps]=d,d.stateNode=x}return _n(d),null;case 13:if(St(Mt),x=d.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_t&&ar!==null&&(d.mode&1)!==0&&(d.flags&128)===0)DS(),el(),d.flags|=98560,E=!1;else if(E=ah(d),x!==null&&x.dehydrated!==null){if(a===null){if(!E)throw Error(n(318));if(E=d.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[ps]=d}else el(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;_n(d),E=!1}else Kr!==null&&(Hx(Kr),Kr=null),E=!0;if(!E)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=p,d):(x=x!==null,x!==(a!==null&&a.memoizedState!==null)&&x&&(d.child.flags|=8192,(d.mode&1)!==0&&(a===null||(Mt.current&1)!==0?Jt===0&&(Jt=3):qx())),d.updateQueue!==null&&(d.flags|=4),_n(d),null);case 4:return sl(),Px(a,d),a===null&&Dc(d.stateNode.containerInfo),_n(d),null;case 10:return ix(d.type._context),_n(d),null;case 17:return Wn(d.type)&&nh(),_n(d),null;case 19:if(St(Mt),E=d.memoizedState,E===null)return _n(d),null;if(x=(d.flags&128)!==0,A=E.rendering,A===null)if(x)Kc(E,!1);else{if(Jt!==0||a!==null&&(a.flags&128)!==0)for(a=d.child;a!==null;){if(A=fh(a),A!==null){for(d.flags|=128,Kc(E,!1),x=A.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),d.subtreeFlags=0,x=p,p=d.child;p!==null;)E=p,a=x,E.flags&=14680066,A=E.alternate,A===null?(E.childLanes=0,E.lanes=a,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=A.childLanes,E.lanes=A.lanes,E.child=A.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=A.memoizedProps,E.memoizedState=A.memoizedState,E.updateQueue=A.updateQueue,E.type=A.type,a=A.dependencies,E.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),p=p.sibling;return yt(Mt,Mt.current&1|2),d.child}a=a.sibling}E.tail!==null&&Bt()>ll&&(d.flags|=128,x=!0,Kc(E,!1),d.lanes=4194304)}else{if(!x)if(a=fh(A),a!==null){if(d.flags|=128,x=!0,p=a.updateQueue,p!==null&&(d.updateQueue=p,d.flags|=4),Kc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!_t)return _n(d),null}else 2*Bt()-E.renderingStartTime>ll&&p!==1073741824&&(d.flags|=128,x=!0,Kc(E,!1),d.lanes=4194304);E.isBackwards?(A.sibling=d.child,d.child=A):(p=E.last,p!==null?p.sibling=A:d.child=A,E.last=A)}return E.tail!==null?(d=E.tail,E.rendering=d,E.tail=d.sibling,E.renderingStartTime=Bt(),d.sibling=null,p=Mt.current,yt(Mt,x?p&1|2:p&1),d):(_n(d),null);case 22:case 23:return Vx(),x=d.memoizedState!==null,a!==null&&a.memoizedState!==null!==x&&(d.flags|=8192),x&&(d.mode&1)!==0?(lr&1073741824)!==0&&(_n(d),d.subtreeFlags&6&&(d.flags|=8192)):_n(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function TL(a,d){switch(ex(d),d.tag){case 1:return Wn(d.type)&&nh(),a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 3:return sl(),St(Hn),St(Sn),fx(),a=d.flags,(a&65536)!==0&&(a&128)===0?(d.flags=a&-65537|128,d):null;case 5:return ux(d),null;case 13:if(St(Mt),a=d.memoizedState,a!==null&&a.dehydrated!==null){if(d.alternate===null)throw Error(n(340));el()}return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 19:return St(Mt),null;case 4:return sl(),null;case 10:return ix(d.type._context),null;case 22:case 23:return Vx(),null;case 24:return null;default:return null}}var kh=!1,En=!1,ML=typeof WeakSet=="function"?WeakSet:Set,Me=null;function il(a,d){var p=a.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(x){At(a,d,x)}else p.current=null}function Ax(a,d,p){try{p()}catch(x){At(a,d,x)}}var RC=!1;function OL(a,d){if(Vg=Uu,a=hS(),Lg(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var S=x.anchorOffset,E=x.focusNode;x=x.focusOffset;try{p.nodeType,E.nodeType}catch{p=null;break e}var A=0,z=-1,Y=-1,oe=0,we=0,ke=a,be=null;t:for(;;){for(var je;ke!==p||S!==0&&ke.nodeType!==3||(z=A+S),ke!==E||x!==0&&ke.nodeType!==3||(Y=A+x),ke.nodeType===3&&(A+=ke.nodeValue.length),(je=ke.firstChild)!==null;)be=ke,ke=je;for(;;){if(ke===a)break t;if(be===p&&++oe===S&&(z=A),be===E&&++we===x&&(Y=A),(je=ke.nextSibling)!==null)break;ke=be,be=ke.parentNode}ke=je}p=z===-1||Y===-1?null:{start:z,end:Y}}else p=null}p=p||{start:0,end:0}}else p=null;for(qg={focusedElem:a,selectionRange:p},Uu=!1,Me=d;Me!==null;)if(d=Me,a=d.child,(d.subtreeFlags&1028)!==0&&a!==null)a.return=d,Me=a;else for(;Me!==null;){d=Me;try{var Oe=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Re=Oe.memoizedProps,Ft=Oe.memoizedState,te=d.stateNode,G=te.getSnapshotBeforeUpdate(d.elementType===d.type?Re:Xr(d.type,Re),Ft);te.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var re=d.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ce){At(d,d.return,Ce)}if(a=d.sibling,a!==null){a.return=d.return,Me=a;break}Me=d.return}return Oe=RC,RC=!1,Oe}function Xc(a,d,p){var x=d.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var S=x=x.next;do{if((S.tag&a)===a){var E=S.destroy;S.destroy=void 0,E!==void 0&&Ax(d,p,E)}S=S.next}while(S!==x)}}function Sh(a,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&a)===a){var x=p.create;p.destroy=x()}p=p.next}while(p!==d)}}function Rx(a){var d=a.ref;if(d!==null){var p=a.stateNode;switch(a.tag){case 5:a=p;break;default:a=p}typeof d=="function"?d(a):d.current=a}}function IC(a){var d=a.alternate;d!==null&&(a.alternate=null,IC(d)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(d=a.stateNode,d!==null&&(delete d[ps],delete d[Bc],delete d[Gg],delete d[fL],delete d[pL])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function DC(a){return a.tag===5||a.tag===3||a.tag===4}function LC(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||DC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ix(a,d,p){var x=a.tag;if(x===5||x===6)a=a.stateNode,d?p.nodeType===8?p.parentNode.insertBefore(a,d):p.insertBefore(a,d):(p.nodeType===8?(d=p.parentNode,d.insertBefore(a,p)):(d=p,d.appendChild(a)),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=eh));else if(x!==4&&(a=a.child,a!==null))for(Ix(a,d,p),a=a.sibling;a!==null;)Ix(a,d,p),a=a.sibling}function Dx(a,d,p){var x=a.tag;if(x===5||x===6)a=a.stateNode,d?p.insertBefore(a,d):p.appendChild(a);else if(x!==4&&(a=a.child,a!==null))for(Dx(a,d,p),a=a.sibling;a!==null;)Dx(a,d,p),a=a.sibling}var vn=null,Gr=!1;function Vo(a,d,p){for(p=p.child;p!==null;)BC(a,d,p),p=p.sibling}function BC(a,d,p){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(Du,p)}catch{}switch(p.tag){case 5:En||il(p,d);case 6:var x=vn,S=Gr;vn=null,Vo(a,d,p),vn=x,Gr=S,vn!==null&&(Gr?(a=vn,p=p.stateNode,a.nodeType===8?a.parentNode.removeChild(p):a.removeChild(p)):vn.removeChild(p.stateNode));break;case 18:vn!==null&&(Gr?(a=vn,p=p.stateNode,a.nodeType===8?Xg(a.parentNode,p):a.nodeType===1&&Xg(a,p),Nc(a)):Xg(vn,p.stateNode));break;case 4:x=vn,S=Gr,vn=p.stateNode.containerInfo,Gr=!0,Vo(a,d,p),vn=x,Gr=S;break;case 0:case 11:case 14:case 15:if(!En&&(x=p.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){S=x=x.next;do{var E=S,A=E.destroy;E=E.tag,A!==void 0&&((E&2)!==0||(E&4)!==0)&&Ax(p,d,A),S=S.next}while(S!==x)}Vo(a,d,p);break;case 1:if(!En&&(il(p,d),x=p.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=p.memoizedProps,x.state=p.memoizedState,x.componentWillUnmount()}catch(z){At(p,d,z)}Vo(a,d,p);break;case 21:Vo(a,d,p);break;case 22:p.mode&1?(En=(x=En)||p.memoizedState!==null,Vo(a,d,p),En=x):Vo(a,d,p);break;default:Vo(a,d,p)}}function FC(a){var d=a.updateQueue;if(d!==null){a.updateQueue=null;var p=a.stateNode;p===null&&(p=a.stateNode=new ML),d.forEach(function(x){var S=$L.bind(null,a,x);p.has(x)||(p.add(x),x.then(S,S))})}}function Jr(a,d){var p=d.deletions;if(p!==null)for(var x=0;x<p.length;x++){var S=p[x];try{var E=a,A=d,z=A;e:for(;z!==null;){switch(z.tag){case 5:vn=z.stateNode,Gr=!1;break e;case 3:vn=z.stateNode.containerInfo,Gr=!0;break e;case 4:vn=z.stateNode.containerInfo,Gr=!0;break e}z=z.return}if(vn===null)throw Error(n(160));BC(E,A,S),vn=null,Gr=!1;var Y=S.alternate;Y!==null&&(Y.return=null),S.return=null}catch(oe){At(S,d,oe)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)$C(d,a),d=d.sibling}function $C(a,d){var p=a.alternate,x=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Jr(d,a),xs(a),x&4){try{Xc(3,a,a.return),Sh(3,a)}catch(Re){At(a,a.return,Re)}try{Xc(5,a,a.return)}catch(Re){At(a,a.return,Re)}}break;case 1:Jr(d,a),xs(a),x&512&&p!==null&&il(p,p.return);break;case 5:if(Jr(d,a),xs(a),x&512&&p!==null&&il(p,p.return),a.flags&32){var S=a.stateNode;try{wr(S,"")}catch(Re){At(a,a.return,Re)}}if(x&4&&(S=a.stateNode,S!=null)){var E=a.memoizedProps,A=p!==null?p.memoizedProps:E,z=a.type,Y=a.updateQueue;if(a.updateQueue=null,Y!==null)try{z==="input"&&E.type==="radio"&&E.name!=null&&xe(S,E),xc(z,A);var oe=xc(z,E);for(A=0;A<Y.length;A+=2){var we=Y[A],ke=Y[A+1];we==="style"?Au(S,ke):we==="dangerouslySetInnerHTML"?$a(S,ke):we==="children"?wr(S,ke):T(S,we,ke,oe)}switch(z){case"input":fe(S,E);break;case"textarea":hs(S,E);break;case"select":var be=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!E.multiple;var je=E.value;je!=null?et(S,!!E.multiple,je,!1):be!==!!E.multiple&&(E.defaultValue!=null?et(S,!!E.multiple,E.defaultValue,!0):et(S,!!E.multiple,E.multiple?[]:"",!1))}S[Bc]=E}catch(Re){At(a,a.return,Re)}}break;case 6:if(Jr(d,a),xs(a),x&4){if(a.stateNode===null)throw Error(n(162));S=a.stateNode,E=a.memoizedProps;try{S.nodeValue=E}catch(Re){At(a,a.return,Re)}}break;case 3:if(Jr(d,a),xs(a),x&4&&p!==null&&p.memoizedState.isDehydrated)try{Nc(d.containerInfo)}catch(Re){At(a,a.return,Re)}break;case 4:Jr(d,a),xs(a);break;case 13:Jr(d,a),xs(a),S=a.child,S.flags&8192&&(E=S.memoizedState!==null,S.stateNode.isHidden=E,!E||S.alternate!==null&&S.alternate.memoizedState!==null||(Fx=Bt())),x&4&&FC(a);break;case 22:if(we=p!==null&&p.memoizedState!==null,a.mode&1?(En=(oe=En)||we,Jr(d,a),En=oe):Jr(d,a),xs(a),x&8192){if(oe=a.memoizedState!==null,(a.stateNode.isHidden=oe)&&!we&&(a.mode&1)!==0)for(Me=a,we=a.child;we!==null;){for(ke=Me=we;Me!==null;){switch(be=Me,je=be.child,be.tag){case 0:case 11:case 14:case 15:Xc(4,be,be.return);break;case 1:il(be,be.return);var Oe=be.stateNode;if(typeof Oe.componentWillUnmount=="function"){x=be,p=be.return;try{d=x,Oe.props=d.memoizedProps,Oe.state=d.memoizedState,Oe.componentWillUnmount()}catch(Re){At(x,p,Re)}}break;case 5:il(be,be.return);break;case 22:if(be.memoizedState!==null){HC(ke);continue}}je!==null?(je.return=be,Me=je):HC(ke)}we=we.sibling}e:for(we=null,ke=a;;){if(ke.tag===5){if(we===null){we=ke;try{S=ke.stateNode,oe?(E=S.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(z=ke.stateNode,Y=ke.memoizedProps.style,A=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,z.style.display=Pu("display",A))}catch(Re){At(a,a.return,Re)}}}else if(ke.tag===6){if(we===null)try{ke.stateNode.nodeValue=oe?"":ke.memoizedProps}catch(Re){At(a,a.return,Re)}}else if((ke.tag!==22&&ke.tag!==23||ke.memoizedState===null||ke===a)&&ke.child!==null){ke.child.return=ke,ke=ke.child;continue}if(ke===a)break e;for(;ke.sibling===null;){if(ke.return===null||ke.return===a)break e;we===ke&&(we=null),ke=ke.return}we===ke&&(we=null),ke.sibling.return=ke.return,ke=ke.sibling}}break;case 19:Jr(d,a),xs(a),x&4&&FC(a);break;case 21:break;default:Jr(d,a),xs(a)}}function xs(a){var d=a.flags;if(d&2){try{e:{for(var p=a.return;p!==null;){if(DC(p)){var x=p;break e}p=p.return}throw Error(n(160))}switch(x.tag){case 5:var S=x.stateNode;x.flags&32&&(wr(S,""),x.flags&=-33);var E=LC(a);Dx(a,E,S);break;case 3:case 4:var A=x.stateNode.containerInfo,z=LC(a);Ix(a,z,A);break;default:throw Error(n(161))}}catch(Y){At(a,a.return,Y)}a.flags&=-3}d&4096&&(a.flags&=-4097)}function PL(a,d,p){Me=a,zC(a)}function zC(a,d,p){for(var x=(a.mode&1)!==0;Me!==null;){var S=Me,E=S.child;if(S.tag===22&&x){var A=S.memoizedState!==null||kh;if(!A){var z=S.alternate,Y=z!==null&&z.memoizedState!==null||En;z=kh;var oe=En;if(kh=A,(En=Y)&&!oe)for(Me=S;Me!==null;)A=Me,Y=A.child,A.tag===22&&A.memoizedState!==null?WC(S):Y!==null?(Y.return=A,Me=Y):WC(S);for(;E!==null;)Me=E,zC(E),E=E.sibling;Me=S,kh=z,En=oe}UC(a)}else(S.subtreeFlags&8772)!==0&&E!==null?(E.return=S,Me=E):UC(a)}}function UC(a){for(;Me!==null;){var d=Me;if((d.flags&8772)!==0){var p=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:En||Sh(5,d);break;case 1:var x=d.stateNode;if(d.flags&4&&!En)if(p===null)x.componentDidMount();else{var S=d.elementType===d.type?p.memoizedProps:Xr(d.type,p.memoizedProps);x.componentDidUpdate(S,p.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var E=d.updateQueue;E!==null&&HS(d,E,x);break;case 3:var A=d.updateQueue;if(A!==null){if(p=null,d.child!==null)switch(d.child.tag){case 5:p=d.child.stateNode;break;case 1:p=d.child.stateNode}HS(d,A,p)}break;case 5:var z=d.stateNode;if(p===null&&d.flags&4){p=z;var Y=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&p.focus();break;case"img":Y.src&&(p.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var oe=d.alternate;if(oe!==null){var we=oe.memoizedState;if(we!==null){var ke=we.dehydrated;ke!==null&&Nc(ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}En||d.flags&512&&Rx(d)}catch(be){At(d,d.return,be)}}if(d===a){Me=null;break}if(p=d.sibling,p!==null){p.return=d.return,Me=p;break}Me=d.return}}function HC(a){for(;Me!==null;){var d=Me;if(d===a){Me=null;break}var p=d.sibling;if(p!==null){p.return=d.return,Me=p;break}Me=d.return}}function WC(a){for(;Me!==null;){var d=Me;try{switch(d.tag){case 0:case 11:case 15:var p=d.return;try{Sh(4,d)}catch(Y){At(d,p,Y)}break;case 1:var x=d.stateNode;if(typeof x.componentDidMount=="function"){var S=d.return;try{x.componentDidMount()}catch(Y){At(d,S,Y)}}var E=d.return;try{Rx(d)}catch(Y){At(d,E,Y)}break;case 5:var A=d.return;try{Rx(d)}catch(Y){At(d,A,Y)}}}catch(Y){At(d,d.return,Y)}if(d===a){Me=null;break}var z=d.sibling;if(z!==null){z.return=d.return,Me=z;break}Me=d.return}}var AL=Math.ceil,Ch=N.ReactCurrentDispatcher,Lx=N.ReactCurrentOwner,jr=N.ReactCurrentBatchConfig,ot=0,cn=null,Ht=null,yn=0,lr=0,al=$o(0),Jt=0,Gc=null,Hi=0,_h=0,Bx=0,Jc=null,qn=null,Fx=0,ll=1/0,Js=null,Eh=!1,$x=null,qo=null,Nh=!1,Yo=null,jh=0,Qc=0,zx=null,Th=-1,Mh=0;function Dn(){return(ot&6)!==0?Bt():Th!==-1?Th:Th=Bt()}function Ko(a){return(a.mode&1)===0?1:(ot&2)!==0&&yn!==0?yn&-yn:gL.transition!==null?(Mh===0&&(Mh=Lk()),Mh):(a=ft,a!==0||(a=window.event,a=a===void 0?16:qk(a.type)),a)}function Qr(a,d,p,x){if(50<Qc)throw Qc=0,zx=null,Error(n(185));kc(a,p,x),((ot&2)===0||a!==cn)&&(a===cn&&((ot&2)===0&&(_h|=p),Jt===4&&Xo(a,yn)),Yn(a,x),p===1&&ot===0&&(d.mode&1)===0&&(ll=Bt()+500,sh&&Uo()))}function Yn(a,d){var p=a.callbackNode;gD(a,d);var x=Fu(a,a===cn?yn:0);if(x===0)p!==null&&Rk(p),a.callbackNode=null,a.callbackPriority=0;else if(d=x&-x,a.callbackPriority!==d){if(p!=null&&Rk(p),d===1)a.tag===0?mL(qC.bind(null,a)):OS(qC.bind(null,a)),uL(function(){(ot&6)===0&&Uo()}),p=null;else{switch(Bk(x)){case 1:p=bg;break;case 4:p=Ik;break;case 16:p=Iu;break;case 536870912:p=Dk;break;default:p=Iu}p=e2(p,VC.bind(null,a))}a.callbackPriority=d,a.callbackNode=p}}function VC(a,d){if(Th=-1,Mh=0,(ot&6)!==0)throw Error(n(327));var p=a.callbackNode;if(cl()&&a.callbackNode!==p)return null;var x=Fu(a,a===cn?yn:0);if(x===0)return null;if((x&30)!==0||(x&a.expiredLanes)!==0||d)d=Oh(a,x);else{d=x;var S=ot;ot|=2;var E=KC();(cn!==a||yn!==d)&&(Js=null,ll=Bt()+500,Vi(a,d));do try{DL();break}catch(z){YC(a,z)}while(!0);ox(),Ch.current=E,ot=S,Ht!==null?d=0:(cn=null,yn=0,d=Jt)}if(d!==0){if(d===2&&(S=wg(a),S!==0&&(x=S,d=Ux(a,S))),d===1)throw p=Gc,Vi(a,0),Xo(a,x),Yn(a,Bt()),p;if(d===6)Xo(a,x);else{if(S=a.current.alternate,(x&30)===0&&!RL(S)&&(d=Oh(a,x),d===2&&(E=wg(a),E!==0&&(x=E,d=Ux(a,E))),d===1))throw p=Gc,Vi(a,0),Xo(a,x),Yn(a,Bt()),p;switch(a.finishedWork=S,a.finishedLanes=x,d){case 0:case 1:throw Error(n(345));case 2:qi(a,qn,Js);break;case 3:if(Xo(a,x),(x&130023424)===x&&(d=Fx+500-Bt(),10<d)){if(Fu(a,0)!==0)break;if(S=a.suspendedLanes,(S&x)!==x){Dn(),a.pingedLanes|=a.suspendedLanes&S;break}a.timeoutHandle=Kg(qi.bind(null,a,qn,Js),d);break}qi(a,qn,Js);break;case 4:if(Xo(a,x),(x&4194240)===x)break;for(d=a.eventTimes,S=-1;0<x;){var A=31-qr(x);E=1<<A,A=d[A],A>S&&(S=A),x&=~E}if(x=S,x=Bt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*AL(x/1960))-x,10<x){a.timeoutHandle=Kg(qi.bind(null,a,qn,Js),x);break}qi(a,qn,Js);break;case 5:qi(a,qn,Js);break;default:throw Error(n(329))}}}return Yn(a,Bt()),a.callbackNode===p?VC.bind(null,a):null}function Ux(a,d){var p=Jc;return a.current.memoizedState.isDehydrated&&(Vi(a,d).flags|=256),a=Oh(a,d),a!==2&&(d=qn,qn=p,d!==null&&Hx(d)),a}function Hx(a){qn===null?qn=a:qn.push.apply(qn,a)}function RL(a){for(var d=a;;){if(d.flags&16384){var p=d.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var x=0;x<p.length;x++){var S=p[x],E=S.getSnapshot;S=S.value;try{if(!Yr(E(),S))return!1}catch{return!1}}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Xo(a,d){for(d&=~Bx,d&=~_h,a.suspendedLanes|=d,a.pingedLanes&=~d,a=a.expirationTimes;0<d;){var p=31-qr(d),x=1<<p;a[p]=-1,d&=~x}}function qC(a){if((ot&6)!==0)throw Error(n(327));cl();var d=Fu(a,0);if((d&1)===0)return Yn(a,Bt()),null;var p=Oh(a,d);if(a.tag!==0&&p===2){var x=wg(a);x!==0&&(d=x,p=Ux(a,x))}if(p===1)throw p=Gc,Vi(a,0),Xo(a,d),Yn(a,Bt()),p;if(p===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=d,qi(a,qn,Js),Yn(a,Bt()),null}function Wx(a,d){var p=ot;ot|=1;try{return a(d)}finally{ot=p,ot===0&&(ll=Bt()+500,sh&&Uo())}}function Wi(a){Yo!==null&&Yo.tag===0&&(ot&6)===0&&cl();var d=ot;ot|=1;var p=jr.transition,x=ft;try{if(jr.transition=null,ft=1,a)return a()}finally{ft=x,jr.transition=p,ot=d,(ot&6)===0&&Uo()}}function Vx(){lr=al.current,St(al)}function Vi(a,d){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;if(p!==-1&&(a.timeoutHandle=-1,dL(p)),Ht!==null)for(p=Ht.return;p!==null;){var x=p;switch(ex(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&nh();break;case 3:sl(),St(Hn),St(Sn),fx();break;case 5:ux(x);break;case 4:sl();break;case 13:St(Mt);break;case 19:St(Mt);break;case 10:ix(x.type._context);break;case 22:case 23:Vx()}p=p.return}if(cn=a,Ht=a=Go(a.current,null),yn=lr=d,Jt=0,Gc=null,Bx=_h=Hi=0,qn=Jc=null,$i!==null){for(d=0;d<$i.length;d++)if(p=$i[d],x=p.interleaved,x!==null){p.interleaved=null;var S=x.next,E=p.pending;if(E!==null){var A=E.next;E.next=S,x.next=A}p.pending=x}$i=null}return a}function YC(a,d){do{var p=Ht;try{if(ox(),ph.current=vh,mh){for(var x=Ot.memoizedState;x!==null;){var S=x.queue;S!==null&&(S.pending=null),x=x.next}mh=!1}if(Ui=0,ln=Gt=Ot=null,Wc=!1,Vc=0,Lx.current=null,p===null||p.return===null){Jt=1,Gc=d,Ht=null;break}e:{var E=a,A=p.return,z=p,Y=d;if(d=yn,z.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var oe=Y,we=z,ke=we.tag;if((we.mode&1)===0&&(ke===0||ke===11||ke===15)){var be=we.alternate;be?(we.updateQueue=be.updateQueue,we.memoizedState=be.memoizedState,we.lanes=be.lanes):(we.updateQueue=null,we.memoizedState=null)}var je=vC(A);if(je!==null){je.flags&=-257,yC(je,A,z,E,d),je.mode&1&&xC(E,oe,d),d=je,Y=oe;var Oe=d.updateQueue;if(Oe===null){var Re=new Set;Re.add(Y),d.updateQueue=Re}else Oe.add(Y);break e}else{if((d&1)===0){xC(E,oe,d),qx();break e}Y=Error(n(426))}}else if(_t&&z.mode&1){var Ft=vC(A);if(Ft!==null){(Ft.flags&65536)===0&&(Ft.flags|=256),yC(Ft,A,z,E,d),rx(ol(Y,z));break e}}E=Y=ol(Y,z),Jt!==4&&(Jt=2),Jc===null?Jc=[E]:Jc.push(E),E=A;do{switch(E.tag){case 3:E.flags|=65536,d&=-d,E.lanes|=d;var te=mC(E,Y,d);US(E,te);break e;case 1:z=Y;var G=E.type,re=E.stateNode;if((E.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(qo===null||!qo.has(re)))){E.flags|=65536,d&=-d,E.lanes|=d;var Ce=gC(E,z,d);US(E,Ce);break e}}E=E.return}while(E!==null)}GC(p)}catch(Ie){d=Ie,Ht===p&&p!==null&&(Ht=p=p.return);continue}break}while(!0)}function KC(){var a=Ch.current;return Ch.current=vh,a===null?vh:a}function qx(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),cn===null||(Hi&268435455)===0&&(_h&268435455)===0||Xo(cn,yn)}function Oh(a,d){var p=ot;ot|=2;var x=KC();(cn!==a||yn!==d)&&(Js=null,Vi(a,d));do try{IL();break}catch(S){YC(a,S)}while(!0);if(ox(),ot=p,Ch.current=x,Ht!==null)throw Error(n(261));return cn=null,yn=0,Jt}function IL(){for(;Ht!==null;)XC(Ht)}function DL(){for(;Ht!==null&&!aD();)XC(Ht)}function XC(a){var d=ZC(a.alternate,a,lr);a.memoizedProps=a.pendingProps,d===null?GC(a):Ht=d,Lx.current=null}function GC(a){var d=a;do{var p=d.alternate;if(a=d.return,(d.flags&32768)===0){if(p=jL(p,d,lr),p!==null){Ht=p;return}}else{if(p=TL(p,d),p!==null){p.flags&=32767,Ht=p;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Jt=6,Ht=null;return}}if(d=d.sibling,d!==null){Ht=d;return}Ht=d=a}while(d!==null);Jt===0&&(Jt=5)}function qi(a,d,p){var x=ft,S=jr.transition;try{jr.transition=null,ft=1,LL(a,d,p,x)}finally{jr.transition=S,ft=x}return null}function LL(a,d,p,x){do cl();while(Yo!==null);if((ot&6)!==0)throw Error(n(327));p=a.finishedWork;var S=a.finishedLanes;if(p===null)return null;if(a.finishedWork=null,a.finishedLanes=0,p===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var E=p.lanes|p.childLanes;if(xD(a,E),a===cn&&(Ht=cn=null,yn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Nh||(Nh=!0,e2(Iu,function(){return cl(),null})),E=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||E){E=jr.transition,jr.transition=null;var A=ft;ft=1;var z=ot;ot|=4,Lx.current=null,OL(a,p),$C(p,a),rL(qg),Uu=!!Vg,qg=Vg=null,a.current=p,PL(p),lD(),ot=z,ft=A,jr.transition=E}else a.current=p;if(Nh&&(Nh=!1,Yo=a,jh=S),E=a.pendingLanes,E===0&&(qo=null),uD(p.stateNode),Yn(a,Bt()),d!==null)for(x=a.onRecoverableError,p=0;p<d.length;p++)S=d[p],x(S.value,{componentStack:S.stack,digest:S.digest});if(Eh)throw Eh=!1,a=$x,$x=null,a;return(jh&1)!==0&&a.tag!==0&&cl(),E=a.pendingLanes,(E&1)!==0?a===zx?Qc++:(Qc=0,zx=a):Qc=0,Uo(),null}function cl(){if(Yo!==null){var a=Bk(jh),d=jr.transition,p=ft;try{if(jr.transition=null,ft=16>a?16:a,Yo===null)var x=!1;else{if(a=Yo,Yo=null,jh=0,(ot&6)!==0)throw Error(n(331));var S=ot;for(ot|=4,Me=a.current;Me!==null;){var E=Me,A=E.child;if((Me.flags&16)!==0){var z=E.deletions;if(z!==null){for(var Y=0;Y<z.length;Y++){var oe=z[Y];for(Me=oe;Me!==null;){var we=Me;switch(we.tag){case 0:case 11:case 15:Xc(8,we,E)}var ke=we.child;if(ke!==null)ke.return=we,Me=ke;else for(;Me!==null;){we=Me;var be=we.sibling,je=we.return;if(IC(we),we===oe){Me=null;break}if(be!==null){be.return=je,Me=be;break}Me=je}}}var Oe=E.alternate;if(Oe!==null){var Re=Oe.child;if(Re!==null){Oe.child=null;do{var Ft=Re.sibling;Re.sibling=null,Re=Ft}while(Re!==null)}}Me=E}}if((E.subtreeFlags&2064)!==0&&A!==null)A.return=E,Me=A;else e:for(;Me!==null;){if(E=Me,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Xc(9,E,E.return)}var te=E.sibling;if(te!==null){te.return=E.return,Me=te;break e}Me=E.return}}var G=a.current;for(Me=G;Me!==null;){A=Me;var re=A.child;if((A.subtreeFlags&2064)!==0&&re!==null)re.return=A,Me=re;else e:for(A=G;Me!==null;){if(z=Me,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Sh(9,z)}}catch(Ie){At(z,z.return,Ie)}if(z===A){Me=null;break e}var Ce=z.sibling;if(Ce!==null){Ce.return=z.return,Me=Ce;break e}Me=z.return}}if(ot=S,Uo(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(Du,a)}catch{}x=!0}return x}finally{ft=p,jr.transition=d}}return!1}function JC(a,d,p){d=ol(p,d),d=mC(a,d,1),a=Wo(a,d,1),d=Dn(),a!==null&&(kc(a,1,d),Yn(a,d))}function At(a,d,p){if(a.tag===3)JC(a,a,p);else for(;d!==null;){if(d.tag===3){JC(d,a,p);break}else if(d.tag===1){var x=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(qo===null||!qo.has(x))){a=ol(p,a),a=gC(d,a,1),d=Wo(d,a,1),a=Dn(),d!==null&&(kc(d,1,a),Yn(d,a));break}}d=d.return}}function BL(a,d,p){var x=a.pingCache;x!==null&&x.delete(d),d=Dn(),a.pingedLanes|=a.suspendedLanes&p,cn===a&&(yn&p)===p&&(Jt===4||Jt===3&&(yn&130023424)===yn&&500>Bt()-Fx?Vi(a,0):Bx|=p),Yn(a,d)}function QC(a,d){d===0&&((a.mode&1)===0?d=1:(d=Bu,Bu<<=1,(Bu&130023424)===0&&(Bu=4194304)));var p=Dn();a=Ks(a,d),a!==null&&(kc(a,d,p),Yn(a,p))}function FL(a){var d=a.memoizedState,p=0;d!==null&&(p=d.retryLane),QC(a,p)}function $L(a,d){var p=0;switch(a.tag){case 13:var x=a.stateNode,S=a.memoizedState;S!==null&&(p=S.retryLane);break;case 19:x=a.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(d),QC(a,p)}var ZC;ZC=function(a,d,p){if(a!==null)if(a.memoizedProps!==d.pendingProps||Hn.current)Vn=!0;else{if((a.lanes&p)===0&&(d.flags&128)===0)return Vn=!1,NL(a,d,p);Vn=(a.flags&131072)!==0}else Vn=!1,_t&&(d.flags&1048576)!==0&&PS(d,ih,d.index);switch(d.lanes=0,d.tag){case 2:var x=d.type;wh(a,d),a=d.pendingProps;var S=Ja(d,Sn.current);rl(d,p),S=gx(null,d,x,a,S,p);var E=xx();return d.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Wn(x)?(E=!0,rh(d)):E=!1,d.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,cx(d),S.updater=yh,d.stateNode=S,S._reactInternals=d,Sx(d,x,a,p),d=Nx(null,d,x,!0,E,p)):(d.tag=0,_t&&E&&Zg(d),In(null,d,S,p),d=d.child),d;case 16:x=d.elementType;e:{switch(wh(a,d),a=d.pendingProps,S=x._init,x=S(x._payload),d.type=x,S=d.tag=UL(x),a=Xr(x,a),S){case 0:d=Ex(null,d,x,a,p);break e;case 1:d=_C(null,d,x,a,p);break e;case 11:d=bC(null,d,x,a,p);break e;case 14:d=wC(null,d,x,Xr(x.type,a),p);break e}throw Error(n(306,x,""))}return d;case 0:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Xr(x,S),Ex(a,d,x,S,p);case 1:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Xr(x,S),_C(a,d,x,S,p);case 3:e:{if(EC(d),a===null)throw Error(n(387));x=d.pendingProps,E=d.memoizedState,S=E.element,zS(a,d),hh(d,x,null,p);var A=d.memoizedState;if(x=A.element,E.isDehydrated)if(E={element:x,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},d.updateQueue.baseState=E,d.memoizedState=E,d.flags&256){S=ol(Error(n(423)),d),d=NC(a,d,x,p,S);break e}else if(x!==S){S=ol(Error(n(424)),d),d=NC(a,d,x,p,S);break e}else for(ar=Fo(d.stateNode.containerInfo.firstChild),ir=d,_t=!0,Kr=null,p=FS(d,null,x,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(el(),x===S){d=Gs(a,d,p);break e}In(a,d,x,p)}d=d.child}return d;case 5:return WS(d),a===null&&nx(d),x=d.type,S=d.pendingProps,E=a!==null?a.memoizedProps:null,A=S.children,Yg(x,S)?A=null:E!==null&&Yg(x,E)&&(d.flags|=32),CC(a,d),In(a,d,A,p),d.child;case 6:return a===null&&nx(d),null;case 13:return jC(a,d,p);case 4:return dx(d,d.stateNode.containerInfo),x=d.pendingProps,a===null?d.child=tl(d,null,x,p):In(a,d,x,p),d.child;case 11:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Xr(x,S),bC(a,d,x,S,p);case 7:return In(a,d,d.pendingProps,p),d.child;case 8:return In(a,d,d.pendingProps.children,p),d.child;case 12:return In(a,d,d.pendingProps.children,p),d.child;case 10:e:{if(x=d.type._context,S=d.pendingProps,E=d.memoizedProps,A=S.value,yt(ch,x._currentValue),x._currentValue=A,E!==null)if(Yr(E.value,A)){if(E.children===S.children&&!Hn.current){d=Gs(a,d,p);break e}}else for(E=d.child,E!==null&&(E.return=d);E!==null;){var z=E.dependencies;if(z!==null){A=E.child;for(var Y=z.firstContext;Y!==null;){if(Y.context===x){if(E.tag===1){Y=Xs(-1,p&-p),Y.tag=2;var oe=E.updateQueue;if(oe!==null){oe=oe.shared;var we=oe.pending;we===null?Y.next=Y:(Y.next=we.next,we.next=Y),oe.pending=Y}}E.lanes|=p,Y=E.alternate,Y!==null&&(Y.lanes|=p),ax(E.return,p,d),z.lanes|=p;break}Y=Y.next}}else if(E.tag===10)A=E.type===d.type?null:E.child;else if(E.tag===18){if(A=E.return,A===null)throw Error(n(341));A.lanes|=p,z=A.alternate,z!==null&&(z.lanes|=p),ax(A,p,d),A=E.sibling}else A=E.child;if(A!==null)A.return=E;else for(A=E;A!==null;){if(A===d){A=null;break}if(E=A.sibling,E!==null){E.return=A.return,A=E;break}A=A.return}E=A}In(a,d,S.children,p),d=d.child}return d;case 9:return S=d.type,x=d.pendingProps.children,rl(d,p),S=Er(S),x=x(S),d.flags|=1,In(a,d,x,p),d.child;case 14:return x=d.type,S=Xr(x,d.pendingProps),S=Xr(x.type,S),wC(a,d,x,S,p);case 15:return kC(a,d,d.type,d.pendingProps,p);case 17:return x=d.type,S=d.pendingProps,S=d.elementType===x?S:Xr(x,S),wh(a,d),d.tag=1,Wn(x)?(a=!0,rh(d)):a=!1,rl(d,p),fC(d,x,S),Sx(d,x,S,p),Nx(null,d,x,!0,a,p);case 19:return MC(a,d,p);case 22:return SC(a,d,p)}throw Error(n(156,d.tag))};function e2(a,d){return Ak(a,d)}function zL(a,d,p,x){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(a,d,p,x){return new zL(a,d,p,x)}function Yx(a){return a=a.prototype,!(!a||!a.isReactComponent)}function UL(a){if(typeof a=="function")return Yx(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Q)return 11;if(a===ne)return 14}return 2}function Go(a,d){var p=a.alternate;return p===null?(p=Tr(a.tag,d,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=d,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&14680064,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,d=a.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p}function Ph(a,d,p,x,S,E){var A=2;if(x=a,typeof a=="function")Yx(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case I:return Yi(p.children,S,E,d);case O:A=8,S|=8;break;case L:return a=Tr(12,p,d,S|2),a.elementType=L,a.lanes=E,a;case K:return a=Tr(13,p,d,S),a.elementType=K,a.lanes=E,a;case se:return a=Tr(19,p,d,S),a.elementType=se,a.lanes=E,a;case U:return Ah(p,S,E,d);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case $:A=10;break e;case V:A=9;break e;case Q:A=11;break e;case ne:A=14;break e;case W:A=16,x=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return d=Tr(A,p,d,S),d.elementType=a,d.type=x,d.lanes=E,d}function Yi(a,d,p,x){return a=Tr(7,a,x,d),a.lanes=p,a}function Ah(a,d,p,x){return a=Tr(22,a,x,d),a.elementType=U,a.lanes=p,a.stateNode={isHidden:!1},a}function Kx(a,d,p){return a=Tr(6,a,null,d),a.lanes=p,a}function Xx(a,d,p){return d=Tr(4,a.children!==null?a.children:[],a.key,d),d.lanes=p,d.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},d}function HL(a,d,p,x,S){this.tag=d,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kg(0),this.expirationTimes=kg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kg(0),this.identifierPrefix=x,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Gx(a,d,p,x,S,E,A,z,Y){return a=new HL(a,d,p,z,Y),d===1?(d=1,E===!0&&(d|=8)):d=0,E=Tr(3,null,null,d),a.current=E,E.stateNode=a,E.memoizedState={element:x,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},cx(E),a}function WL(a,d,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:x==null?null:""+x,children:a,containerInfo:d,implementation:p}}function t2(a){if(!a)return zo;a=a._reactInternals;e:{if(Ii(a)!==a||a.tag!==1)throw Error(n(170));var d=a;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Wn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(a.tag===1){var p=a.type;if(Wn(p))return TS(a,p,d)}return d}function n2(a,d,p,x,S,E,A,z,Y){return a=Gx(p,x,!0,a,S,E,A,z,Y),a.context=t2(null),p=a.current,x=Dn(),S=Ko(p),E=Xs(x,S),E.callback=d??null,Wo(p,E,S),a.current.lanes=S,kc(a,S,x),Yn(a,x),a}function Rh(a,d,p,x){var S=d.current,E=Dn(),A=Ko(S);return p=t2(p),d.context===null?d.context=p:d.pendingContext=p,d=Xs(E,A),d.payload={element:a},x=x===void 0?null:x,x!==null&&(d.callback=x),a=Wo(S,d,A),a!==null&&(Qr(a,S,A,E),uh(a,S,A)),A}function Ih(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function r2(a,d){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<d?p:d}}function Jx(a,d){r2(a,d),(a=a.alternate)&&r2(a,d)}function VL(){return null}var s2=typeof reportError=="function"?reportError:function(a){console.error(a)};function Qx(a){this._internalRoot=a}Dh.prototype.render=Qx.prototype.render=function(a){var d=this._internalRoot;if(d===null)throw Error(n(409));Rh(a,d,null,null)},Dh.prototype.unmount=Qx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var d=a.containerInfo;Wi(function(){Rh(null,a,null,null)}),d[Ws]=null}};function Dh(a){this._internalRoot=a}Dh.prototype.unstable_scheduleHydration=function(a){if(a){var d=zk();a={blockedOn:null,target:a,priority:d};for(var p=0;p<Do.length&&d!==0&&d<Do[p].priority;p++);Do.splice(p,0,a),p===0&&Wk(a)}};function Zx(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Lh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function o2(){}function qL(a,d,p,x,S){if(S){if(typeof x=="function"){var E=x;x=function(){var oe=Ih(A);E.call(oe)}}var A=n2(d,x,a,0,null,!1,!1,"",o2);return a._reactRootContainer=A,a[Ws]=A.current,Dc(a.nodeType===8?a.parentNode:a),Wi(),A}for(;S=a.lastChild;)a.removeChild(S);if(typeof x=="function"){var z=x;x=function(){var oe=Ih(Y);z.call(oe)}}var Y=Gx(a,0,!1,null,null,!1,!1,"",o2);return a._reactRootContainer=Y,a[Ws]=Y.current,Dc(a.nodeType===8?a.parentNode:a),Wi(function(){Rh(d,Y,p,x)}),Y}function Bh(a,d,p,x,S){var E=p._reactRootContainer;if(E){var A=E;if(typeof S=="function"){var z=S;S=function(){var Y=Ih(A);z.call(Y)}}Rh(d,A,a,S)}else A=qL(p,d,a,S,x);return Ih(A)}Fk=function(a){switch(a.tag){case 3:var d=a.stateNode;if(d.current.memoizedState.isDehydrated){var p=wc(d.pendingLanes);p!==0&&(Sg(d,p|1),Yn(d,Bt()),(ot&6)===0&&(ll=Bt()+500,Uo()))}break;case 13:Wi(function(){var x=Ks(a,1);if(x!==null){var S=Dn();Qr(x,a,1,S)}}),Jx(a,1)}},Cg=function(a){if(a.tag===13){var d=Ks(a,134217728);if(d!==null){var p=Dn();Qr(d,a,134217728,p)}Jx(a,134217728)}},$k=function(a){if(a.tag===13){var d=Ko(a),p=Ks(a,d);if(p!==null){var x=Dn();Qr(p,a,d,x)}Jx(a,d)}},zk=function(){return ft},Uk=function(a,d){var p=ft;try{return ft=a,d()}finally{ft=p}},vc=function(a,d,p){switch(d){case"input":if(fe(a,p),d=p.name,p.type==="radio"&&d!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<p.length;d++){var x=p[d];if(x!==a&&x.form===a.form){var S=th(x);if(!S)throw Error(n(90));ve(x),fe(x,S)}}}break;case"textarea":hs(a,p);break;case"select":d=p.value,d!=null&&et(a,!!p.multiple,d,!1)}},Xt=Wx,kn=Wi;var YL={usingClientEntryPoint:!1,Events:[Fc,Xa,th,Ve,Lt,Wx]},Zc={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KL={bundleType:Zc.bundleType,version:Zc.version,rendererPackageName:Zc.rendererPackageName,rendererConfig:Zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Ok(a),a===null?null:a.stateNode},findFiberByHostInstance:Zc.findFiberByHostInstance||VL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{Du=Fh.inject(KL),fs=Fh}catch{}}return Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YL,Kn.createPortal=function(a,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zx(d))throw Error(n(200));return WL(a,d,null,p)},Kn.createRoot=function(a,d){if(!Zx(a))throw Error(n(299));var p=!1,x="",S=s2;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(S=d.onRecoverableError)),d=Gx(a,1,!1,null,null,p,!1,x,S),a[Ws]=d.current,Dc(a.nodeType===8?a.parentNode:a),new Qx(d)},Kn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var d=a._reactInternals;if(d===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Ok(d),a=a===null?null:a.stateNode,a},Kn.flushSync=function(a){return Wi(a)},Kn.hydrate=function(a,d,p){if(!Lh(d))throw Error(n(200));return Bh(null,a,d,!0,p)},Kn.hydrateRoot=function(a,d,p){if(!Zx(a))throw Error(n(405));var x=p!=null&&p.hydratedSources||null,S=!1,E="",A=s2;if(p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onRecoverableError!==void 0&&(A=p.onRecoverableError)),d=n2(d,null,a,1,p??null,S,!1,E,A),a[Ws]=d.current,Dc(a),x)for(a=0;a<x.length;a++)p=x[a],S=p._getVersion,S=S(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,S]:d.mutableSourceEagerHydrationData.push(p,S);return new Dh(d)},Kn.render=function(a,d,p){if(!Lh(d))throw Error(n(200));return Bh(null,a,d,!1,p)},Kn.unmountComponentAtNode=function(a){if(!Lh(a))throw Error(n(40));return a._reactRootContainer?(Wi(function(){Bh(null,null,a,!1,function(){a._reactRootContainer=null,a[Ws]=null})}),!0):!1},Kn.unstable_batchedUpdates=Wx,Kn.unstable_renderSubtreeIntoContainer=function(a,d,p,x){if(!Lh(p))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Bh(a,d,p,!1,x)},Kn.version="18.3.1-next-f1338f8080-20240426",Kn}var f2;function aj(){if(f2)return nv.exports;f2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nv.exports=n5(),nv.exports}var p2;function r5(){if(p2)return $h;p2=1;var t=aj();return $h.createRoot=t.createRoot,$h.hydrateRoot=t.hydrateRoot,$h}var s5=r5(),w=em();const Se=ij(w),lj=GL({__proto__:null,default:Se},[w]);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m2="popstate";function o5(t={}){function e(r,s){let{pathname:o,search:i,hash:c}=r.location;return fy("",{pathname:o,search:i,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Pd(s)}return a5(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i5(){return Math.random().toString(36).substring(2,10)}function g2(t,e){return{usr:t.state,key:t.key,idx:e}}function fy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Jl(e):e,state:n,key:e&&e.key||r||i5()}}function Pd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Jl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function a5(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,c="POP",u=null,h=f();h==null&&(h=0,i.replaceState({...i.state,idx:h},""));function f(){return(i.state||{idx:null}).idx}function m(){c="POP";let k=f(),C=k==null?null:k-h;h=k,u&&u({action:c,location:b.location,delta:C})}function g(k,C){c="PUSH";let _=fy(b.location,k,C);h=f()+1;let T=g2(_,h),N=b.createHref(_);try{i.pushState(T,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(N)}o&&u&&u({action:c,location:b.location,delta:1})}function y(k,C){c="REPLACE";let _=fy(b.location,k,C);h=f();let T=g2(_,h),N=b.createHref(_);i.replaceState(T,"",N),o&&u&&u({action:c,location:b.location,delta:0})}function v(k){return l5(k)}let b={get action(){return c},get location(){return t(s,i)},listen(k){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(m2,m),u=k,()=>{s.removeEventListener(m2,m),u=null}},createHref(k){return e(s,k)},createURL:v,encodeLocation(k){let C=v(k);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:y,go(k){return i.go(k)}};return b}function l5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Pd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function cj(t,e,n="/"){return c5(t,e,n,!1)}function c5(t,e,n,r){let s=typeof e=="string"?Jl(e):e,o=go(s.pathname||"/",n);if(o==null)return null;let i=dj(t);d5(i);let c=null;for(let u=0;c==null&&u<i.length;++u){let h=w5(o);c=y5(i[u],h,r)}return c}function dj(t,e=[],n=[],r="",s=!1){let o=(i,c,u=s,h)=>{let f={relativePath:h===void 0?i.path||"":h,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;Tt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let m=po([r,f.relativePath]),g=n.concat(f);i.children&&i.children.length>0&&(Tt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),dj(i.children,e,g,m,u)),!(i.path==null&&!i.index)&&e.push({path:m,score:x5(m,i.index),routesMeta:g})};return t.forEach((i,c)=>{if(i.path===""||!i.path?.includes("?"))o(i,c);else for(let u of uj(i.path))o(i,c,!0,u)}),e}function uj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=uj(r.join("/")),c=[];return c.push(...i.map(u=>u===""?o:[o,u].join("/"))),s&&c.push(...i),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function d5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:v5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var u5=/^:[\w-]+$/,h5=3,f5=2,p5=1,m5=10,g5=-2,x2=t=>t==="*";function x5(t,e){let n=t.split("/"),r=n.length;return n.some(x2)&&(r+=g5),e&&(r+=f5),n.filter(s=>!x2(s)).reduce((s,o)=>s+(u5.test(o)?h5:o===""?p5:m5),r)}function v5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function y5(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",i=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",m=tp({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=tp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(s,m.params),i.push({params:s,pathname:po([o,m.pathname]),pathnameBase:_5(po([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=po([o,m.pathnameBase]))}return i}function tp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=b5(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:f,isOptional:m},g)=>{if(f==="*"){let v=c[g]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const y=c[g];return m&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:i,pattern:t}}function b5(t,e=!1,n=!0){Fr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function w5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function go(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function k5(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Jl(t):t;return{pathname:n?n.startsWith("/")?n:S5(n,e):e,search:E5(r),hash:N5(s)}}function S5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ov(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function S0(t){let e=C5(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function C0(t,e,n,r=!1){let s;typeof t=="string"?s=Jl(t):(s={...t},Tt(!s.pathname||!s.pathname.includes("?"),ov("?","pathname","search",s)),Tt(!s.pathname||!s.pathname.includes("#"),ov("#","pathname","hash",s)),Tt(!s.search||!s.search.includes("#"),ov("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,c;if(i==null)c=n;else{let m=e.length-1;if(!r&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}c=m>=0?e[m]:"/"}let u=k5(s,c),h=i&&i!=="/"&&i.endsWith("/"),f=(o||i===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var po=t=>t.join("/").replace(/\/\/+/g,"/"),_5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function j5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var hj=["POST","PUT","PATCH","DELETE"];new Set(hj);var T5=["GET",...hj];new Set(T5);var Ql=w.createContext(null);Ql.displayName="DataRouter";var tm=w.createContext(null);tm.displayName="DataRouterState";w.createContext(!1);var fj=w.createContext({isTransitioning:!1});fj.displayName="ViewTransition";var M5=w.createContext(new Map);M5.displayName="Fetchers";var O5=w.createContext(null);O5.displayName="Await";var ls=w.createContext(null);ls.displayName="Navigation";var ou=w.createContext(null);ou.displayName="Location";var Hr=w.createContext({outlet:null,matches:[],isDataRoute:!1});Hr.displayName="Route";var _0=w.createContext(null);_0.displayName="RouteError";function P5(t,{relative:e}={}){Tt(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(ls),{hash:s,pathname:o,search:i}=iu(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:po([n,o])),r.createHref({pathname:c,search:i,hash:s})}function Zl(){return w.useContext(ou)!=null}function cs(){return Tt(Zl(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(ou).location}var pj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mj(t){w.useContext(ls).static||w.useLayoutEffect(t)}function Wr(){let{isDataRoute:t}=w.useContext(Hr);return t?Y5():A5()}function A5(){Tt(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Ql),{basename:e,navigator:n}=w.useContext(ls),{matches:r}=w.useContext(Hr),{pathname:s}=cs(),o=JSON.stringify(S0(r)),i=w.useRef(!1);return mj(()=>{i.current=!0}),w.useCallback((u,h={})=>{if(Fr(i.current,pj),!i.current)return;if(typeof u=="number"){n.go(u);return}let f=C0(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:po([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,o,s,t])}var R5=w.createContext(null);function I5(t){let e=w.useContext(Hr).outlet;return w.useMemo(()=>e&&w.createElement(R5.Provider,{value:t},e),[e,t])}function gj(){let{matches:t}=w.useContext(Hr),e=t[t.length-1];return e?e.params:{}}function iu(t,{relative:e}={}){let{matches:n}=w.useContext(Hr),{pathname:r}=cs(),s=JSON.stringify(S0(n));return w.useMemo(()=>C0(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function D5(t,e){return xj(t,e)}function xj(t,e,n,r,s){Tt(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=w.useContext(ls),{matches:i}=w.useContext(Hr),c=i[i.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let _=m&&m.path||"";vj(h,!m||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let g=cs(),y;if(e){let _=typeof e=="string"?Jl(e):e;Tt(f==="/"||_.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${_.pathname}" was given in the \`location\` prop.`),y=_}else y=g;let v=y.pathname||"/",b=v;if(f!=="/"){let _=f.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(_.length).join("/")}let k=cj(t,{pathname:b});Fr(m||k!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Fr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=z5(k&&k.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:po([f,o.encodeLocation?o.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:po([f,o.encodeLocation?o.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),i,n,r,s);return e&&C?w.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},C):C}function L5(){let t=q5(),e=j5(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",t),i=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,i)}var B5=w.createElement(L5,null),F5=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(Hr.Provider,{value:this.props.routeContext},w.createElement(_0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $5({routeContext:t,match:e,children:n}){let r=w.useContext(Ql);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Hr.Provider,{value:t},n)}function z5(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,i=n?.errors;if(i!=null){let h=o.findIndex(f=>f.route.id&&i?.[f.route.id]!==void 0);Tt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:g}=n,y=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let g,y=!1,v=null,b=null;n&&(g=i&&f.route.id?i[f.route.id]:void 0,v=f.route.errorElement||B5,c&&(u<0&&m===0?(vj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):u===m&&(y=!0,b=f.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,m+1)),C=()=>{let _;return g?_=v:y?_=b:f.route.Component?_=w.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,w.createElement($5,{match:f,routeContext:{outlet:h,matches:k,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(F5,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):C()},null)}function E0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U5(t){let e=w.useContext(Ql);return Tt(e,E0(t)),e}function H5(t){let e=w.useContext(tm);return Tt(e,E0(t)),e}function W5(t){let e=w.useContext(Hr);return Tt(e,E0(t)),e}function N0(t){let e=W5(t),n=e.matches[e.matches.length-1];return Tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function V5(){return N0("useRouteId")}function q5(){let t=w.useContext(_0),e=H5("useRouteError"),n=N0("useRouteError");return t!==void 0?t:e.errors?.[n]}function Y5(){let{router:t}=U5("useNavigate"),e=N0("useNavigate"),n=w.useRef(!1);return mj(()=>{n.current=!0}),w.useCallback(async(s,o={})=>{Fr(n.current,pj),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var v2={};function vj(t,e,n){!e&&!v2[t]&&(v2[t]=!0,Fr(!1,n))}w.memo(K5);function K5({routes:t,future:e,state:n,unstable_onError:r}){return xj(t,void 0,n,r,e)}function Sf({to:t,replace:e,state:n,relative:r}){Tt(Zl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(ls);Fr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=w.useContext(Hr),{pathname:i}=cs(),c=Wr(),u=C0(t,S0(o),i,r==="path"),h=JSON.stringify(u);return w.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:r})},[c,h,r,e,n]),null}function yj(t){return I5(t.context)}function Et(t){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X5({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){Tt(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:i,navigator:s,static:o,future:{}}),[i,s,o]);typeof n=="string"&&(n=Jl(n));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:g="default"}=n,y=w.useMemo(()=>{let v=go(u,i);return v==null?null:{location:{pathname:v,search:h,hash:f,state:m,key:g},navigationType:r}},[i,u,h,f,m,g,r]);return Fr(y!=null,`<Router basename="${i}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:w.createElement(ls.Provider,{value:c},w.createElement(ou.Provider,{children:e,value:y}))}function G5({children:t,location:e}){return D5(py(t),e)}function py(t,e=[]){let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let o=[...e,s];if(r.type===w.Fragment){n.push.apply(n,py(r.props.children,o));return}Tt(r.type===Et,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=py(r.props.children,o)),n.push(i)}),n}var Cf="get",_f="application/x-www-form-urlencoded";function nm(t){return t!=null&&typeof t.tagName=="string"}function J5(t){return nm(t)&&t.tagName.toLowerCase()==="button"}function Q5(t){return nm(t)&&t.tagName.toLowerCase()==="form"}function Z5(t){return nm(t)&&t.tagName.toLowerCase()==="input"}function e3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function t3(t,e){return t.button===0&&(!e||e==="_self")&&!e3(t)}function my(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function n3(t,e){let n=my(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}var zh=null;function r3(){if(zh===null)try{new FormData(document.createElement("form"),0),zh=!1}catch{zh=!0}return zh}var s3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iv(t){return t!=null&&!s3.has(t)?(Fr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_f}"`),null):t}function o3(t,e){let n,r,s,o,i;if(Q5(t)){let c=t.getAttribute("action");r=c?go(c,e):null,n=t.getAttribute("method")||Cf,s=iv(t.getAttribute("enctype"))||_f,o=new FormData(t)}else if(J5(t)||Z5(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?go(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Cf,s=iv(t.getAttribute("formenctype"))||iv(c.getAttribute("enctype"))||_f,o=new FormData(c,t),!r3()){let{name:h,type:f,value:m}=t;if(f==="image"){let g=h?`${h}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else h&&o.append(h,m)}}else{if(nm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cf,r=null,s=_f,i=t}return o&&s==="text/plain"&&(i=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function j0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function i3(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&go(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function a3(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function l3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function c3(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let i=await a3(o,n);return i.links?i.links():[]}return[]}));return f3(r.flat(1).filter(l3).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function y2(t,e,n,r,s,o){let i=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>n[h].pathname!==u.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==u.params["*"];return o==="assets"?e.filter((u,h)=>i(u,h)||c(u,h)):o==="data"?e.filter((u,h)=>{let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(i(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function d3(t,e,{includeHydrateFallback:n}={}){return u3(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function u3(t){return[...new Set(t)]}function h3(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function f3(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(h3(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function bj(){let t=w.useContext(Ql);return j0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function p3(){let t=w.useContext(tm);return j0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var T0=w.createContext(void 0);T0.displayName="FrameworkContext";function wj(){let t=w.useContext(T0);return j0(t,"You must render this element inside a <HydratedRouter> element"),t}function m3(t,e){let n=w.useContext(T0),[r,s]=w.useState(!1),[o,i]=w.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=e,g=w.useRef(null);w.useEffect(()=>{if(t==="render"&&i(!0),t==="viewport"){let b=C=>{C.forEach(_=>{i(_.isIntersecting)})},k=new IntersectionObserver(b,{threshold:.5});return g.current&&k.observe(g.current),()=>{k.disconnect()}}},[t]),w.useEffect(()=>{if(r){let b=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(b)}}},[r]);let y=()=>{s(!0)},v=()=>{s(!1),i(!1)};return n?t!=="intent"?[o,g,{}]:[o,g,{onFocus:td(c,y),onBlur:td(u,v),onMouseEnter:td(h,y),onMouseLeave:td(f,v),onTouchStart:td(m,y)}]:[!1,g,{}]}function td(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function g3({page:t,...e}){let{router:n}=bj(),r=w.useMemo(()=>cj(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(v3,{page:t,matches:r,...e}):null}function x3(t){let{manifest:e,routeModules:n}=wj(),[r,s]=w.useState([]);return w.useEffect(()=>{let o=!1;return c3(t,e,n).then(i=>{o||s(i)}),()=>{o=!0}},[t,e,n]),r}function v3({page:t,matches:e,...n}){let r=cs(),{manifest:s,routeModules:o}=wj(),{basename:i}=bj(),{loaderData:c,matches:u}=p3(),h=w.useMemo(()=>y2(t,e,u,s,r,"data"),[t,e,u,s,r]),f=w.useMemo(()=>y2(t,e,u,s,r,"assets"),[t,e,u,s,r]),m=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,b=!1;if(e.forEach(C=>{let _=s.routes[C.route.id];!_||!_.hasLoader||(!h.some(T=>T.route.id===C.route.id)&&C.route.id in c&&o[C.route.id]?.shouldRevalidate||_.hasClientLoader?b=!0:v.add(C.route.id))}),v.size===0)return[];let k=i3(t,i,"data");return b&&v.size>0&&k.searchParams.set("_routes",e.filter(C=>v.has(C.route.id)).map(C=>C.route.id).join(",")),[k.pathname+k.search]},[i,c,r,s,h,e,t,o]),g=w.useMemo(()=>d3(f,s),[f,s]),y=x3(f);return w.createElement(w.Fragment,null,m.map(v=>w.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),g.map(v=>w.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),y.map(({key:v,link:b})=>w.createElement("link",{key:v,nonce:n.nonce,...b})))}function y3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kj&&(window.__reactRouterVersion="7.9.4")}catch{}function b3({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=o5({window:n,v5Compat:!0}));let s=r.current,[o,i]=w.useState({action:s.action,location:s.location}),c=w.useCallback(u=>{w.startTransition(()=>i(u))},[i]);return w.useLayoutEffect(()=>s.listen(c),[s,c]),w.createElement(X5,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var Sj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:i,state:c,target:u,to:h,preventScrollReset:f,viewTransition:m,...g},y){let{basename:v}=w.useContext(ls),b=typeof h=="string"&&Sj.test(h),k,C=!1;if(typeof h=="string"&&b&&(k=h,kj))try{let L=new URL(window.location.href),$=h.startsWith("//")?new URL(L.protocol+h):new URL(h),V=go($.pathname,v);$.origin===L.origin&&V!=null?h=V+$.search+$.hash:C=!0}catch{Fr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=P5(h,{relative:s}),[T,N,j]=m3(r,g),P=C3(h,{replace:i,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:m});function I(L){e&&e(L),L.defaultPrevented||P(L)}let O=w.createElement("a",{...g,...j,href:k||_,onClick:C||o?e:I,ref:y3(y,N),target:u,"data-discover":!b&&n==="render"?"true":void 0});return T&&!b?w.createElement(w.Fragment,null,O,w.createElement(g3,{page:_})):O});rt.displayName="Link";var w3=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:i,viewTransition:c,children:u,...h},f){let m=iu(i,{relative:h.relative}),g=cs(),y=w.useContext(tm),{navigator:v,basename:b}=w.useContext(ls),k=y!=null&&M3(m)&&c===!0,C=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,_=g.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&b&&(T=go(T,b)||T);const N=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let j=_===C||!s&&_.startsWith(C)&&_.charAt(N)==="/",P=T!=null&&(T===C||!s&&T.startsWith(C)&&T.charAt(C.length)==="/"),I={isActive:j,isPending:P,isTransitioning:k},O=j?e:void 0,L;typeof r=="function"?L=r(I):L=[r,j?"active":null,P?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(I):o;return w.createElement(rt,{...h,"aria-current":O,className:L,ref:f,style:$,to:i,viewTransition:c},typeof u=="function"?u(I):u)});w3.displayName="NavLink";var k3=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:i=Cf,action:c,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:m,...g},y)=>{let v=j3(),b=T3(c,{relative:h}),k=i.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&Sj.test(c),_=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let N=T.nativeEvent.submitter,j=N?.getAttribute("formmethod")||i;v(N||T.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:s,state:o,relative:h,preventScrollReset:f,viewTransition:m})};return w.createElement("form",{ref:y,method:k,action:b,onSubmit:r?u:_,...g,"data-discover":!C&&t==="render"?"true":void 0})});k3.displayName="Form";function S3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cj(t){let e=w.useContext(Ql);return Tt(e,S3(t)),e}function C3(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:i}={}){let c=Wr(),u=cs(),h=iu(t,{relative:o});return w.useCallback(f=>{if(t3(f,e)){f.preventDefault();let m=n!==void 0?n:Pd(u)===Pd(h);c(t,{replace:m,state:r,preventScrollReset:s,relative:o,viewTransition:i})}},[u,c,h,n,r,e,t,s,o,i])}function _3(t){Fr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(my(t)),n=w.useRef(!1),r=cs(),s=w.useMemo(()=>n3(r.search,n.current?null:e.current),[r.search]),o=Wr(),i=w.useCallback((c,u)=>{const h=my(typeof c=="function"?c(new URLSearchParams(s)):c);n.current=!0,o("?"+h,u)},[o,s]);return[s,i]}var E3=0,N3=()=>`__${String(++E3)}__`;function j3(){let{router:t}=Cj("useSubmit"),{basename:e}=w.useContext(ls),n=V5();return w.useCallback(async(r,s={})=>{let{action:o,method:i,encType:c,formData:u,body:h}=o3(r,e);if(s.navigate===!1){let f=s.fetcherKey||N3();await t.fetch(f,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||i,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||i,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function T3(t,{relative:e}={}){let{basename:n}=w.useContext(ls),r=w.useContext(Hr);Tt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...iu(t||".",{relative:e})},i=cs();if(t==null){o.search=i.search;let c=new URLSearchParams(o.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let f=c.toString();o.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:po([n,o.pathname])),Pd(o)}function M3(t,{relative:e}={}){let n=w.useContext(fj);Tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Cj("useViewTransitionState"),s=iu(t,{relative:e});if(!n.isTransitioning)return!1;let o=go(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=go(n.nextLocation.pathname,r)||n.nextLocation.pathname;return tp(s.pathname,i)!=null||tp(s.pathname,o)!=null}var au=aj();const _j=ij(au);function b2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rm(...t){return e=>{let n=!1;const r=t.map(s=>{const o=b2(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():b2(t[s],null)}}}}function Ge(...t){return w.useCallback(rm(...t),t)}function vi(t){const e=O3(t),n=w.forwardRef((r,s)=>{const{children:o,...i}=r,c=w.Children.toArray(o),u=c.find(A3);if(u){const h=u.props.children,f=c.map(m=>m===u?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:m);return l.jsx(e,{...i,ref:s,children:w.isValidElement(h)?w.cloneElement(h,void 0,f):null})}return l.jsx(e,{...i,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var M0=vi("Slot");function O3(t){const e=w.forwardRef((n,r)=>{const{children:s,...o}=n;if(w.isValidElement(s)){const i=I3(s),c=R3(o,s.props);return s.type!==w.Fragment&&(c.ref=r?rm(r,i):i),w.cloneElement(s,c)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var P3=Symbol("radix.slottable");function A3(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===P3}function R3(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const u=o(...c);return s(...c),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function I3(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ej(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Ej(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Nj(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Ej(t))&&(r&&(r+=" "),r+=e);return r}const w2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,k2=Nj,jj=(t,e)=>n=>{var r;if(e?.variants==null)return k2(t,n?.class,n?.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(h=>{const f=n?.[h],m=o?.[h];if(f===null)return null;const g=w2(f)||w2(m);return s[h][g]}),c=n&&Object.entries(n).reduce((h,f)=>{let[m,g]=f;return g===void 0||(h[m]=g),h},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,f)=>{let{class:m,className:g,...y}=f;return Object.entries(y).every(v=>{let[b,k]=v;return Array.isArray(k)?k.includes({...o,...c}[b]):{...o,...c}[b]===k})?[...h,m,g]:h},[]);return k2(t,i,u,n?.class,n?.className)},O0="-",D3=t=>{const e=B3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const c=i.split(O0);return c[0]===""&&c.length!==1&&c.shift(),Tj(c,e)||L3(i)},getConflictingClassGroupIds:(i,c)=>{const u=n[i]||[];return c&&r[i]?[...u,...r[i]]:u}}},Tj=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Tj(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(O0);return e.validators.find(({validator:i})=>i(o))?.classGroupId},S2=/^\[(.+)\]$/,L3=t=>{if(S2.test(t)){const e=S2.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},B3=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)gy(n[s],r,s,e);return r},gy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:C2(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(F3(s)){gy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{gy(i,C2(e,o),n,r)})})},C2=(t,e)=>{let n=t;return e.split(O0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},F3=t=>t.isThemeGetter,$3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},xy="!",vy=":",z3=vy.length,U3=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let i=0,c=0,u=0,h;for(let v=0;v<s.length;v++){let b=s[v];if(i===0&&c===0){if(b===vy){o.push(s.slice(u,v)),u=v+z3;continue}if(b==="/"){h=v;continue}}b==="["?i++:b==="]"?i--:b==="("?c++:b===")"&&c--}const f=o.length===0?s:s.substring(u),m=H3(f),g=m!==f,y=h&&h>u?h-u:void 0;return{modifiers:o,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:y}};if(e){const s=e+vy,o=r;r=i=>i.startsWith(s)?o(i.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},H3=t=>t.endsWith(xy)?t.substring(0,t.length-1):t.startsWith(xy)?t.substring(1):t,W3=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(i=>{i[0]==="["||e[i]?(s.push(...o.sort(),i),o=[]):o.push(i)}),s.push(...o.sort()),s}},V3=t=>({cache:$3(t.cacheSize),parseClassName:U3(t),sortModifiers:W3(t),...D3(t)}),q3=/\s+/,Y3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,i=[],c=t.trim().split(q3);let u="";for(let h=c.length-1;h>=0;h-=1){const f=c[h],{isExternal:m,modifiers:g,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:b}=n(f);if(m){u=f+(u.length>0?" "+u:u);continue}let k=!!b,C=r(k?v.substring(0,b):v);if(!C){if(!k){u=f+(u.length>0?" "+u:u);continue}if(C=r(v),!C){u=f+(u.length>0?" "+u:u);continue}k=!1}const _=o(g).join(":"),T=y?_+xy:_,N=T+C;if(i.includes(N))continue;i.push(N);const j=s(C,k);for(let P=0;P<j.length;++P){const I=j[P];i.push(T+I)}u=f+(u.length>0?" "+u:u)}return u};function K3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Mj(e))&&(r&&(r+=" "),r+=n);return r}const Mj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Mj(t[r]))&&(n&&(n+=" "),n+=e);return n};function X3(t,...e){let n,r,s,o=i;function i(u){const h=e.reduce((f,m)=>m(f),t());return n=V3(h),r=n.cache.get,s=n.cache.set,o=c,c(u)}function c(u){const h=r(u);if(h)return h;const f=Y3(u,n);return s(u,f),f}return function(){return o(K3.apply(null,arguments))}}const Qt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Oj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Pj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,G3=/^\d+\/\d+$/,J3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Q3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Z3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,eB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dl=t=>G3.test(t),Ke=t=>!!t&&!Number.isNaN(Number(t)),Qo=t=>!!t&&Number.isInteger(Number(t)),av=t=>t.endsWith("%")&&Ke(t.slice(0,-1)),Qs=t=>J3.test(t),nB=()=>!0,rB=t=>Q3.test(t)&&!Z3.test(t),Aj=()=>!1,sB=t=>eB.test(t),oB=t=>tB.test(t),iB=t=>!Pe(t)&&!Ae(t),aB=t=>ec(t,Dj,Aj),Pe=t=>Oj.test(t),Ki=t=>ec(t,Lj,rB),lv=t=>ec(t,hB,Ke),_2=t=>ec(t,Rj,Aj),lB=t=>ec(t,Ij,oB),Uh=t=>ec(t,Bj,sB),Ae=t=>Pj.test(t),nd=t=>tc(t,Lj),cB=t=>tc(t,fB),E2=t=>tc(t,Rj),dB=t=>tc(t,Dj),uB=t=>tc(t,Ij),Hh=t=>tc(t,Bj,!0),ec=(t,e,n)=>{const r=Oj.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},tc=(t,e,n=!1)=>{const r=Pj.exec(t);return r?r[1]?e(r[1]):n:!1},Rj=t=>t==="position"||t==="percentage",Ij=t=>t==="image"||t==="url",Dj=t=>t==="length"||t==="size"||t==="bg-size",Lj=t=>t==="length",hB=t=>t==="number",fB=t=>t==="family-name",Bj=t=>t==="shadow",pB=()=>{const t=Qt("color"),e=Qt("font"),n=Qt("text"),r=Qt("font-weight"),s=Qt("tracking"),o=Qt("leading"),i=Qt("breakpoint"),c=Qt("container"),u=Qt("spacing"),h=Qt("radius"),f=Qt("shadow"),m=Qt("inset-shadow"),g=Qt("text-shadow"),y=Qt("drop-shadow"),v=Qt("blur"),b=Qt("perspective"),k=Qt("aspect"),C=Qt("ease"),_=Qt("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...N(),Ae,Pe],P=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],O=()=>[Ae,Pe,u],L=()=>[dl,"full","auto",...O()],$=()=>[Qo,"none","subgrid",Ae,Pe],V=()=>["auto",{span:["full",Qo,Ae,Pe]},Qo,Ae,Pe],Q=()=>[Qo,"auto",Ae,Pe],K=()=>["auto","min","max","fr",Ae,Pe],se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ne=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...O()],U=()=>[dl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],R=()=>[t,Ae,Pe],D=()=>[...N(),E2,_2,{position:[Ae,Pe]}],Z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",dB,aB,{size:[Ae,Pe]}],B=()=>[av,nd,Ki],q=()=>["","none","full",h,Ae,Pe],ee=()=>["",Ke,nd,Ki],ie=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[Ke,av,E2,_2],H=()=>["","none",v,Ae,Pe],F=()=>["none",Ke,Ae,Pe],J=()=>["none",Ke,Ae,Pe],me=()=>[Ke,Ae,Pe],ve=()=>[dl,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qs],breakpoint:[Qs],color:[nB],container:[Qs],"drop-shadow":[Qs],ease:["in","out","in-out"],font:[iB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qs],shadow:[Qs],spacing:["px",Ke],text:[Qs],"text-shadow":[Qs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",dl,Pe,Ae,k]}],container:["container"],columns:[{columns:[Ke,Pe,Ae,c]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Qo,"auto",Ae,Pe]}],basis:[{basis:[dl,"full","auto",c,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ke,dl,"auto","initial","none",Pe]}],grow:[{grow:["",Ke,Ae,Pe]}],shrink:[{shrink:["",Ke,Ae,Pe]}],order:[{order:[Qo,"first","last","none",Ae,Pe]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...se(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...se()]}],"align-items":[{items:[...ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":se()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[c,"screen",...U()]}],"min-w":[{"min-w":[c,"screen","none",...U()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[i]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",n,nd,Ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ae,lv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",av,Pe]}],"font-family":[{font:[cB,Pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ae,Pe]}],"line-clamp":[{"line-clamp":[Ke,"none",Ae,lv]}],leading:[{leading:[o,...O()]}],"list-image":[{"list-image":["none",Ae,Pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ae,Pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ke,"from-font","auto",Ae,Ki]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Ke,"auto",Ae,Pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae,Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae,Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:D()}],"bg-repeat":[{bg:Z()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Qo,Ae,Pe],radial:["",Ae,Pe],conic:[Qo,Ae,Pe]},uB,lB]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ke,Ae,Pe]}],"outline-w":[{outline:["",Ke,nd,Ki]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",f,Hh,Uh]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",m,Hh,Uh]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Ke,Ki]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",g,Hh,Uh]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Ke,Ae,Pe]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[Ae,Pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[Ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:D()}],"mask-repeat":[{mask:Z()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ae,Pe]}],filter:[{filter:["","none",Ae,Pe]}],blur:[{blur:H()}],brightness:[{brightness:[Ke,Ae,Pe]}],contrast:[{contrast:[Ke,Ae,Pe]}],"drop-shadow":[{"drop-shadow":["","none",y,Hh,Uh]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Ke,Ae,Pe]}],"hue-rotate":[{"hue-rotate":[Ke,Ae,Pe]}],invert:[{invert:["",Ke,Ae,Pe]}],saturate:[{saturate:[Ke,Ae,Pe]}],sepia:[{sepia:["",Ke,Ae,Pe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ae,Pe]}],"backdrop-blur":[{"backdrop-blur":H()}],"backdrop-brightness":[{"backdrop-brightness":[Ke,Ae,Pe]}],"backdrop-contrast":[{"backdrop-contrast":[Ke,Ae,Pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ke,Ae,Pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ke,Ae,Pe]}],"backdrop-invert":[{"backdrop-invert":["",Ke,Ae,Pe]}],"backdrop-opacity":[{"backdrop-opacity":[Ke,Ae,Pe]}],"backdrop-saturate":[{"backdrop-saturate":[Ke,Ae,Pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ke,Ae,Pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ae,Pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ke,"initial",Ae,Pe]}],ease:[{ease:["linear","initial",C,Ae,Pe]}],delay:[{delay:[Ke,Ae,Pe]}],animate:[{animate:["none",_,Ae,Pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ae,Pe]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:F()}],"rotate-x":[{"rotate-x":F()}],"rotate-y":[{"rotate-y":F()}],"rotate-z":[{"rotate-z":F()}],scale:[{scale:J()}],"scale-x":[{"scale-x":J()}],"scale-y":[{"scale-y":J()}],"scale-z":[{"scale-z":J()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[Ae,Pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ve()}],"translate-x":[{"translate-x":ve()}],"translate-y":[{"translate-y":ve()}],"translate-z":[{"translate-z":ve()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae,Pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae,Pe]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Ke,nd,Ki,lv]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mB=X3(pB);function ze(...t){return mB(Nj(t))}const gB=jj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),de=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?M0:"button";return l.jsx(i,{"data-slot":"button",className:ze(gB({variant:e,size:n,className:t})),ref:o,...s})});de.displayName="Button";function Ye({className:t,type:e,...n}){return l.jsx("input",{type:e,"data-slot":"input",className:ze("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var xB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],De=xB.reduce((t,e)=>{const n=vi(`Primitive.${e}`),r=w.forwardRef((s,o)=>{const{asChild:i,...c}=s,u=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Fj(t,e){t&&au.flushSync(()=>t.dispatchEvent(e))}var vB="Label",$j=w.forwardRef((t,e)=>l.jsx(De.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));$j.displayName=vB;var yB=$j;function ct({className:t,...e}){return l.jsx(yB,{"data-slot":"label",className:ze("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function bB(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const wB=t=>{switch(t){case"success":return CB;case"info":return EB;case"warning":return _B;case"error":return NB;default:return null}},kB=Array(12).fill(0),SB=({visible:t,className:e})=>Se.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Se.createElement("div",{className:"sonner-spinner"},kB.map((n,r)=>Se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),CB=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_B=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EB=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),NB=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jB=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),TB=()=>{const[t,e]=Se.useState(document.hidden);return Se.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let yy=1;class MB{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,o=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:yy++,i=this.toasts.find(u=>u.id===o),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...e,id:o,title:r}),{...u,...e,id:o,dismissible:c,title:r}):u):this.addToast({title:r,...s,dismissible:c,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,i;const c=s.then(async h=>{if(i=["resolve",h],Se.isValidElement(h))o=!1,this.create({id:r,type:"default",message:h});else if(PB(h)&&!h.ok){o=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,v=typeof m=="object"&&!Se.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:g,...v})}else if(h instanceof Error){o=!1;const m=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description,v=typeof m=="object"&&!Se.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:g,...v})}else if(n.success!==void 0){o=!1;const m=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description,v=typeof m=="object"&&!Se.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:g,...v})}}).catch(async h=>{if(i=["reject",h],n.error!==void 0){o=!1;const f=typeof n.error=="function"?await n.error(h):n.error,m=typeof n.description=="function"?await n.description(h):n.description,y=typeof f=="object"&&!Se.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:m,...y})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((h,f)=>c.then(()=>i[0]==="reject"?f(i[1]):h(i[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{const r=n?.id||yy++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Jn=new MB,OB=(t,e)=>{const n=e?.id||yy++;return Jn.addToast({title:t,...e,id:n}),n},PB=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",AB=OB,RB=()=>Jn.toasts,IB=()=>Jn.getActiveToasts(),ae=Object.assign(AB,{success:Jn.success,info:Jn.info,warning:Jn.warning,error:Jn.error,custom:Jn.custom,message:Jn.message,promise:Jn.promise,dismiss:Jn.dismiss,loading:Jn.loading},{getHistory:RB,getToasts:IB});bB("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Wh(t){return t.label!==void 0}const DB=3,LB="24px",BB="16px",N2=4e3,FB=356,$B=14,zB=45,UB=200;function vs(...t){return t.filter(Boolean).join(" ")}function HB(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const WB=t=>{var e,n,r,s,o,i,c,u,h;const{invert:f,toast:m,unstyled:g,interacting:y,setHeights:v,visibleToasts:b,heights:k,index:C,toasts:_,expanded:T,removeToast:N,defaultRichColors:j,closeButton:P,style:I,cancelButtonStyle:O,actionButtonStyle:L,className:$="",descriptionClassName:V="",duration:Q,position:K,gap:se,expandByDefault:ne,classNames:W,icons:U,closeButtonAriaLabel:R="Close toast"}=t,[D,Z]=Se.useState(null),[M,B]=Se.useState(null),[q,ee]=Se.useState(!1),[ie,ce]=Se.useState(!1),[X,H]=Se.useState(!1),[F,J]=Se.useState(!1),[me,ve]=Se.useState(!1),[ue,ge]=Se.useState(0),[he,xe]=Se.useState(0),fe=Se.useRef(m.duration||Q||N2),ye=Se.useRef(null),Te=Se.useRef(null),Le=C===0,et=C+1<=b,ht=m.type,Kt=m.dismissible!==!1,hs=m.className||"",Eo=m.descriptionClassName||"",Rn=Se.useMemo(()=>k.findIndex(Ve=>Ve.toastId===m.id)||0,[k,m.id]),br=Se.useMemo(()=>{var Ve;return(Ve=m.closeButton)!=null?Ve:P},[m.closeButton,P]),Ai=Se.useMemo(()=>m.duration||Q||N2,[m.duration,Q]),$a=Se.useRef(0),wr=Se.useRef(0),No=Se.useRef(0),jo=Se.useRef(null),[Pu,Au]=K.split("-"),Ru=Se.useMemo(()=>k.reduce((Ve,Lt,Xt)=>Xt>=Rn?Ve:Ve+Lt.height,0),[k,Rn]),za=TB(),xc=m.invert||f,Ri=ht==="loading";wr.current=Se.useMemo(()=>Rn*se+Ru,[Rn,Ru]),Se.useEffect(()=>{fe.current=Ai},[Ai]),Se.useEffect(()=>{ee(!0)},[]),Se.useEffect(()=>{const Ve=Te.current;if(Ve){const Lt=Ve.getBoundingClientRect().height;return xe(Lt),v(Xt=>[{toastId:m.id,height:Lt,position:m.position},...Xt]),()=>v(Xt=>Xt.filter(kn=>kn.toastId!==m.id))}},[v,m.id]),Se.useLayoutEffect(()=>{if(!q)return;const Ve=Te.current,Lt=Ve.style.height;Ve.style.height="auto";const Xt=Ve.getBoundingClientRect().height;Ve.style.height=Lt,xe(Xt),v(kn=>kn.find(Ut=>Ut.toastId===m.id)?kn.map(Ut=>Ut.toastId===m.id?{...Ut,height:Xt}:Ut):[{toastId:m.id,height:Xt,position:m.position},...kn])},[q,m.title,m.description,v,m.id]);const kr=Se.useCallback(()=>{ce(!0),ge(wr.current),v(Ve=>Ve.filter(Lt=>Lt.toastId!==m.id)),setTimeout(()=>{N(m)},UB)},[m,N,v,wr]);Se.useEffect(()=>{if(m.promise&&ht==="loading"||m.duration===1/0||m.type==="loading")return;let Ve;return T||y||za?(()=>{if(No.current<$a.current){const kn=new Date().getTime()-$a.current;fe.current=fe.current-kn}No.current=new Date().getTime()})():(()=>{fe.current!==1/0&&($a.current=new Date().getTime(),Ve=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),kr()},fe.current))})(),()=>clearTimeout(Ve)},[T,y,m,ht,za,kr]),Se.useEffect(()=>{m.delete&&kr()},[kr,m.delete]);function vc(){var Ve;if(U?.loading){var Lt;return Se.createElement("div",{className:vs(W?.loader,m==null||(Lt=m.classNames)==null?void 0:Lt.loader,"sonner-loader"),"data-visible":ht==="loading"},U.loading)}return Se.createElement(SB,{className:vs(W?.loader,m==null||(Ve=m.classNames)==null?void 0:Ve.loader),visible:ht==="loading"})}const To=m.icon||U?.[ht]||wB(ht);var Hs,yc;return Se.createElement("li",{tabIndex:0,ref:Te,className:vs($,hs,W?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,W?.default,W?.[ht],m==null||(n=m.classNames)==null?void 0:n[ht]),"data-sonner-toast":"","data-rich-colors":(Hs=m.richColors)!=null?Hs:j,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":q,"data-promise":!!m.promise,"data-swiped":me,"data-removed":ie,"data-visible":et,"data-y-position":Pu,"data-x-position":Au,"data-index":C,"data-front":Le,"data-swiping":X,"data-dismissible":Kt,"data-type":ht,"data-invert":xc,"data-swipe-out":F,"data-swipe-direction":M,"data-expanded":!!(T||ne&&q),style:{"--index":C,"--toasts-before":C,"--z-index":_.length-C,"--offset":`${ie?ue:wr.current}px`,"--initial-height":ne?"auto":`${he}px`,...I,...m.style},onDragEnd:()=>{H(!1),Z(null),jo.current=null},onPointerDown:Ve=>{Ri||!Kt||(ye.current=new Date,ge(wr.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(H(!0),jo.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,Lt,Xt;if(F||!Kt)return;jo.current=null;const kn=Number(((Ve=Te.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Mo=Number(((Lt=Te.current)==null?void 0:Lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ut=new Date().getTime()-((Xt=ye.current)==null?void 0:Xt.getTime()),an=D==="x"?kn:Mo,Oo=Math.abs(an)/Ut;if(Math.abs(an)>=zB||Oo>.11){ge(wr.current),m.onDismiss==null||m.onDismiss.call(m,m),B(D==="x"?kn>0?"right":"left":Mo>0?"down":"up"),kr(),J(!0);return}else{var xn,sr;(xn=Te.current)==null||xn.style.setProperty("--swipe-amount-x","0px"),(sr=Te.current)==null||sr.style.setProperty("--swipe-amount-y","0px")}ve(!1),H(!1),Z(null)},onPointerMove:Ve=>{var Lt,Xt,kn;if(!jo.current||!Kt||((Lt=window.getSelection())==null?void 0:Lt.toString().length)>0)return;const Ut=Ve.clientY-jo.current.y,an=Ve.clientX-jo.current.x;var Oo;const xn=(Oo=t.swipeDirections)!=null?Oo:HB(K);!D&&(Math.abs(an)>1||Math.abs(Ut)>1)&&Z(Math.abs(an)>Math.abs(Ut)?"x":"y");let sr={x:0,y:0};const Po=Sr=>1/(1.5+Math.abs(Sr)/20);if(D==="y"){if(xn.includes("top")||xn.includes("bottom"))if(xn.includes("top")&&Ut<0||xn.includes("bottom")&&Ut>0)sr.y=Ut;else{const Sr=Ut*Po(Ut);sr.y=Math.abs(Sr)<Math.abs(Ut)?Sr:Ut}}else if(D==="x"&&(xn.includes("left")||xn.includes("right")))if(xn.includes("left")&&an<0||xn.includes("right")&&an>0)sr.x=an;else{const Sr=an*Po(an);sr.x=Math.abs(Sr)<Math.abs(an)?Sr:an}(Math.abs(sr.x)>0||Math.abs(sr.y)>0)&&ve(!0),(Xt=Te.current)==null||Xt.style.setProperty("--swipe-amount-x",`${sr.x}px`),(kn=Te.current)==null||kn.style.setProperty("--swipe-amount-y",`${sr.y}px`)}},br&&!m.jsx&&ht!=="loading"?Se.createElement("button",{"aria-label":R,"data-disabled":Ri,"data-close-button":!0,onClick:Ri||!Kt?()=>{}:()=>{kr(),m.onDismiss==null||m.onDismiss.call(m,m)},className:vs(W?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(yc=U?.close)!=null?yc:jB):null,(ht||m.icon||m.promise)&&m.icon!==null&&(U?.[ht]!==null||m.icon)?Se.createElement("div",{"data-icon":"",className:vs(W?.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||vc():null,m.type!=="loading"?To:null):null,Se.createElement("div",{"data-content":"",className:vs(W?.content,m==null||(o=m.classNames)==null?void 0:o.content)},Se.createElement("div",{"data-title":"",className:vs(W?.title,m==null||(i=m.classNames)==null?void 0:i.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Se.createElement("div",{"data-description":"",className:vs(V,Eo,W?.description,m==null||(c=m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),Se.isValidElement(m.cancel)?m.cancel:m.cancel&&Wh(m.cancel)?Se.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||O,onClick:Ve=>{Wh(m.cancel)&&Kt&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Ve),kr())},className:vs(W?.cancelButton,m==null||(u=m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,Se.isValidElement(m.action)?m.action:m.action&&Wh(m.action)?Se.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||L,onClick:Ve=>{Wh(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Ve),!Ve.defaultPrevented&&kr())},className:vs(W?.actionButton,m==null||(h=m.classNames)==null?void 0:h.actionButton)},m.action.label):null)};function j2(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function VB(t,e){const n={};return[t,e].forEach((r,s)=>{const o=s===1,i=o?"--mobile-offset":"--offset",c=o?BB:LB;function u(h){["top","right","bottom","left"].forEach(f=>{n[`${i}-${f}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${i}-${h}`]=c:n[`${i}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):u(c)}),n}const qB=Se.forwardRef(function(e,n){const{invert:r,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:i,closeButton:c,className:u,offset:h,mobileOffset:f,theme:m="light",richColors:g,duration:y,style:v,visibleToasts:b=DB,toastOptions:k,dir:C=j2(),gap:_=$B,icons:T,containerAriaLabel:N="Notifications"}=e,[j,P]=Se.useState([]),I=Se.useMemo(()=>Array.from(new Set([s].concat(j.filter(M=>M.position).map(M=>M.position)))),[j,s]),[O,L]=Se.useState([]),[$,V]=Se.useState(!1),[Q,K]=Se.useState(!1),[se,ne]=Se.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=Se.useRef(null),U=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=Se.useRef(null),D=Se.useRef(!1),Z=Se.useCallback(M=>{P(B=>{var q;return(q=B.find(ee=>ee.id===M.id))!=null&&q.delete||Jn.dismiss(M.id),B.filter(({id:ee})=>ee!==M.id)})},[]);return Se.useEffect(()=>Jn.subscribe(M=>{if(M.dismiss){requestAnimationFrame(()=>{P(B=>B.map(q=>q.id===M.id?{...q,delete:!0}:q))});return}setTimeout(()=>{_j.flushSync(()=>{P(B=>{const q=B.findIndex(ee=>ee.id===M.id);return q!==-1?[...B.slice(0,q),{...B[q],...M},...B.slice(q+1)]:[M,...B]})})})}),[j]),Se.useEffect(()=>{if(m!=="system"){ne(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:B})=>{ne(B?"dark":"light")})}catch{M.addListener(({matches:q})=>{try{ne(q?"dark":"light")}catch(ee){console.error(ee)}})}},[m]),Se.useEffect(()=>{j.length<=1&&V(!1)},[j]),Se.useEffect(()=>{const M=B=>{var q;if(o.every(ce=>B[ce]||B.code===ce)){var ie;V(!0),(ie=W.current)==null||ie.focus()}B.code==="Escape"&&(document.activeElement===W.current||(q=W.current)!=null&&q.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[o]),Se.useEffect(()=>{if(W.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,D.current=!1)}},[W.current]),Se.createElement("section",{ref:n,"aria-label":`${N} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((M,B)=>{var q;const[ee,ie]=M.split("-");return j.length?Se.createElement("ol",{key:M,dir:C==="auto"?j2():C,tabIndex:-1,ref:W,className:u,"data-sonner-toaster":!0,"data-sonner-theme":se,"data-y-position":ee,"data-lifted":$&&j.length>1&&!i,"data-x-position":ie,style:{"--front-toast-height":`${((q=O[0])==null?void 0:q.height)||0}px`,"--width":`${FB}px`,"--gap":`${_}px`,...v,...VB(h,f)},onBlur:ce=>{D.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(D.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||D.current||(D.current=!0,R.current=ce.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{Q||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},j.filter(ce=>!ce.position&&B===0||ce.position===M).map((ce,X)=>{var H,F;return Se.createElement(WB,{key:ce.id,icons:T,index:X,toast:ce,defaultRichColors:g,duration:(H=k?.duration)!=null?H:y,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:r,visibleToasts:b,closeButton:(F=k?.closeButton)!=null?F:c,interacting:Q,position:M,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:Z,toasts:j.filter(J=>J.position==ce.position),heights:O.filter(J=>J.position==ce.position),setHeights:L,expandByDefault:i,gap:_,expanded:$,swipeDirections:e.swipeDirections})})):null}))});function zj(t,e){return function(){return t.apply(e,arguments)}}const{toString:YB}=Object.prototype,{getPrototypeOf:P0}=Object,{iterator:sm,toStringTag:Uj}=Symbol,om=(t=>e=>{const n=YB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ds=t=>(t=t.toLowerCase(),e=>om(e)===t),im=t=>e=>typeof e===t,{isArray:nc}=Array,Ll=im("undefined");function lu(t){return t!==null&&!Ll(t)&&t.constructor!==null&&!Ll(t.constructor)&&er(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Hj=ds("ArrayBuffer");function KB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Hj(t.buffer),e}const XB=im("string"),er=im("function"),Wj=im("number"),cu=t=>t!==null&&typeof t=="object",GB=t=>t===!0||t===!1,Ef=t=>{if(om(t)!=="object")return!1;const e=P0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Uj in t)&&!(sm in t)},JB=t=>{if(!cu(t)||lu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},QB=ds("Date"),ZB=ds("File"),e6=ds("Blob"),t6=ds("FileList"),n6=t=>cu(t)&&er(t.pipe),r6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||er(t.append)&&((e=om(t))==="formdata"||e==="object"&&er(t.toString)&&t.toString()==="[object FormData]"))},s6=ds("URLSearchParams"),[o6,i6,a6,l6]=["ReadableStream","Request","Response","Headers"].map(ds),c6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function du(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),nc(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(lu(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let c;for(r=0;r<i;r++)c=o[r],e.call(null,t[c],c,t)}}function Vj(t,e){if(lu(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const sa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qj=t=>!Ll(t)&&t!==sa;function by(){const{caseless:t,skipUndefined:e}=qj(this)&&this||{},n={},r=(s,o)=>{const i=t&&Vj(n,o)||o;Ef(n[i])&&Ef(s)?n[i]=by(n[i],s):Ef(s)?n[i]=by({},s):nc(s)?n[i]=s.slice():(!e||!Ll(s))&&(n[i]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&du(arguments[s],r);return n}const d6=(t,e,n,{allOwnKeys:r}={})=>(du(e,(s,o)=>{n&&er(s)?t[o]=zj(s,n):t[o]=s},{allOwnKeys:r}),t),u6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),h6=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},f6=(t,e,n,r)=>{let s,o,i;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)i=s[o],(!r||r(i,t,e))&&!c[i]&&(e[i]=t[i],c[i]=!0);t=n!==!1&&P0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},p6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},m6=t=>{if(!t)return null;if(nc(t))return t;let e=t.length;if(!Wj(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},g6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&P0(Uint8Array)),x6=(t,e)=>{const r=(t&&t[sm]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},v6=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},y6=ds("HTMLFormElement"),b6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),T2=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),w6=ds("RegExp"),Yj=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};du(n,(s,o)=>{let i;(i=e(s,o,t))!==!1&&(r[o]=i||s)}),Object.defineProperties(t,r)},k6=t=>{Yj(t,(e,n)=>{if(er(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(er(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},S6=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return nc(t)?r(t):r(String(t).split(e)),n},C6=()=>{},_6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function E6(t){return!!(t&&er(t.append)&&t[Uj]==="FormData"&&t[sm])}const N6=t=>{const e=new Array(10),n=(r,s)=>{if(cu(r)){if(e.indexOf(r)>=0)return;if(lu(r))return r;if(!("toJSON"in r)){e[s]=r;const o=nc(r)?[]:{};return du(r,(i,c)=>{const u=n(i,s+1);!Ll(u)&&(o[c]=u)}),e[s]=void 0,o}}return r};return n(t,0)},j6=ds("AsyncFunction"),T6=t=>t&&(cu(t)||er(t))&&er(t.then)&&er(t.catch),Kj=((t,e)=>t?setImmediate:e?((n,r)=>(sa.addEventListener("message",({source:s,data:o})=>{s===sa&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),sa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",er(sa.postMessage)),M6=typeof queueMicrotask<"u"?queueMicrotask.bind(sa):typeof process<"u"&&process.nextTick||Kj,O6=t=>t!=null&&er(t[sm]),le={isArray:nc,isArrayBuffer:Hj,isBuffer:lu,isFormData:r6,isArrayBufferView:KB,isString:XB,isNumber:Wj,isBoolean:GB,isObject:cu,isPlainObject:Ef,isEmptyObject:JB,isReadableStream:o6,isRequest:i6,isResponse:a6,isHeaders:l6,isUndefined:Ll,isDate:QB,isFile:ZB,isBlob:e6,isRegExp:w6,isFunction:er,isStream:n6,isURLSearchParams:s6,isTypedArray:g6,isFileList:t6,forEach:du,merge:by,extend:d6,trim:c6,stripBOM:u6,inherits:h6,toFlatObject:f6,kindOf:om,kindOfTest:ds,endsWith:p6,toArray:m6,forEachEntry:x6,matchAll:v6,isHTMLForm:y6,hasOwnProperty:T2,hasOwnProp:T2,reduceDescriptors:Yj,freezeMethods:k6,toObjectSet:S6,toCamelCase:b6,noop:C6,toFiniteNumber:_6,findKey:Vj,global:sa,isContextDefined:qj,isSpecCompliantForm:E6,toJSONObject:N6,isAsyncFn:j6,isThenable:T6,setImmediate:Kj,asap:M6,isIterable:O6};function qe(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}le.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:le.toJSONObject(this.config),code:this.code,status:this.status}}});const Xj=qe.prototype,Gj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Gj[t]={value:t}});Object.defineProperties(qe,Gj);Object.defineProperty(Xj,"isAxiosError",{value:!0});qe.from=(t,e,n,r,s,o)=>{const i=Object.create(Xj);le.toFlatObject(t,i,function(f){return f!==Error.prototype},h=>h!=="isAxiosError");const c=t&&t.message?t.message:"Error",u=e==null&&t?t.code:e;return qe.call(i,c,u,n,r,s),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",o&&Object.assign(i,o),i};const P6=null;function wy(t){return le.isPlainObject(t)||le.isArray(t)}function Jj(t){return le.endsWith(t,"[]")?t.slice(0,-2):t}function M2(t,e,n){return t?t.concat(e).map(function(s,o){return s=Jj(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function A6(t){return le.isArray(t)&&!t.some(wy)}const R6=le.toFlatObject(le,{},null,function(e){return/^is[A-Z]/.test(e)});function am(t,e,n){if(!le.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=le.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,k){return!le.isUndefined(k[b])});const r=n.metaTokens,s=n.visitor||f,o=n.dots,i=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&le.isSpecCompliantForm(e);if(!le.isFunction(s))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(le.isDate(v))return v.toISOString();if(le.isBoolean(v))return v.toString();if(!u&&le.isBlob(v))throw new qe("Blob is not supported. Use a Buffer instead.");return le.isArrayBuffer(v)||le.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,b,k){let C=v;if(v&&!k&&typeof v=="object"){if(le.endsWith(b,"{}"))b=r?b:b.slice(0,-2),v=JSON.stringify(v);else if(le.isArray(v)&&A6(v)||(le.isFileList(v)||le.endsWith(b,"[]"))&&(C=le.toArray(v)))return b=Jj(b),C.forEach(function(T,N){!(le.isUndefined(T)||T===null)&&e.append(i===!0?M2([b],N,o):i===null?b:b+"[]",h(T))}),!1}return wy(v)?!0:(e.append(M2(k,b,o),h(v)),!1)}const m=[],g=Object.assign(R6,{defaultVisitor:f,convertValue:h,isVisitable:wy});function y(v,b){if(!le.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(v),le.forEach(v,function(C,_){(!(le.isUndefined(C)||C===null)&&s.call(e,C,le.isString(_)?_.trim():_,b,g))===!0&&y(C,b?b.concat(_):[_])}),m.pop()}}if(!le.isObject(t))throw new TypeError("data must be an object");return y(t),e}function O2(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function A0(t,e){this._pairs=[],t&&am(t,this,e)}const Qj=A0.prototype;Qj.append=function(e,n){this._pairs.push([e,n])};Qj.toString=function(e){const n=e?function(r){return e.call(this,r,O2)}:O2;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function I6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Zj(t,e,n){if(!e)return t;const r=n&&n.encode||I6;le.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=le.isURLSearchParams(e)?e.toString():new A0(e,n).toString(r),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class P2{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){le.forEach(this.handlers,function(r){r!==null&&e(r)})}}const eT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},D6=typeof URLSearchParams<"u"?URLSearchParams:A0,L6=typeof FormData<"u"?FormData:null,B6=typeof Blob<"u"?Blob:null,F6={isBrowser:!0,classes:{URLSearchParams:D6,FormData:L6,Blob:B6},protocols:["http","https","file","blob","url","data"]},R0=typeof window<"u"&&typeof document<"u",ky=typeof navigator=="object"&&navigator||void 0,$6=R0&&(!ky||["ReactNative","NativeScript","NS"].indexOf(ky.product)<0),z6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",U6=R0&&window.location.href||"http://localhost",H6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:R0,hasStandardBrowserEnv:$6,hasStandardBrowserWebWorkerEnv:z6,navigator:ky,origin:U6},Symbol.toStringTag,{value:"Module"})),jn={...H6,...F6};function W6(t,e){return am(t,new jn.classes.URLSearchParams,{visitor:function(n,r,s,o){return jn.isNode&&le.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function V6(t){return le.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function q6(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function tT(t){function e(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),u=o>=n.length;return i=!i&&le.isArray(s)?s.length:i,u?(le.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!c):((!s[i]||!le.isObject(s[i]))&&(s[i]=[]),e(n,r,s[i],o)&&le.isArray(s[i])&&(s[i]=q6(s[i])),!c)}if(le.isFormData(t)&&le.isFunction(t.entries)){const n={};return le.forEachEntry(t,(r,s)=>{e(V6(r),s,n,0)}),n}return null}function Y6(t,e,n){if(le.isString(t))try{return(e||JSON.parse)(t),le.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const uu={transitional:eT,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=le.isObject(e);if(o&&le.isHTMLForm(e)&&(e=new FormData(e)),le.isFormData(e))return s?JSON.stringify(tT(e)):e;if(le.isArrayBuffer(e)||le.isBuffer(e)||le.isStream(e)||le.isFile(e)||le.isBlob(e)||le.isReadableStream(e))return e;if(le.isArrayBufferView(e))return e.buffer;if(le.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return W6(e,this.formSerializer).toString();if((c=le.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return am(c?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),Y6(e)):e}],transformResponse:[function(e){const n=this.transitional||uu.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(le.isResponse(e)||le.isReadableStream(e))return e;if(e&&le.isString(e)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(c){if(i)throw c.name==="SyntaxError"?qe.from(c,qe.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jn.classes.FormData,Blob:jn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};le.forEach(["delete","get","head","post","put","patch"],t=>{uu.headers[t]={}});const K6=le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X6=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||e[n]&&K6[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},A2=Symbol("internals");function rd(t){return t&&String(t).trim().toLowerCase()}function Nf(t){return t===!1||t==null?t:le.isArray(t)?t.map(Nf):String(t)}function G6(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const J6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function cv(t,e,n,r,s){if(le.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!le.isString(e)){if(le.isString(r))return e.indexOf(r)!==-1;if(le.isRegExp(r))return r.test(e)}}function Q6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Z6(t,e){const n=le.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,i){return this[r].call(this,e,s,o,i)},configurable:!0})})}let tr=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function o(c,u,h){const f=rd(u);if(!f)throw new Error("header name must be a non-empty string");const m=le.findKey(s,f);(!m||s[m]===void 0||h===!0||h===void 0&&s[m]!==!1)&&(s[m||u]=Nf(c))}const i=(c,u)=>le.forEach(c,(h,f)=>o(h,f,u));if(le.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(le.isString(e)&&(e=e.trim())&&!J6(e))i(X6(e),n);else if(le.isObject(e)&&le.isIterable(e)){let c={},u,h;for(const f of e){if(!le.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[h=f[0]]=(u=c[h])?le.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}i(c,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=rd(e),e){const r=le.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return G6(s);if(le.isFunction(n))return n.call(this,s,r);if(le.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=rd(e),e){const r=le.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||cv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function o(i){if(i=rd(i),i){const c=le.findKey(r,i);c&&(!n||cv(r,r[c],c,n))&&(delete r[c],s=!0)}}return le.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!e||cv(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,r={};return le.forEach(this,(s,o)=>{const i=le.findKey(r,o);if(i){n[i]=Nf(s),delete n[o];return}const c=e?Q6(o):String(o).trim();c!==o&&delete n[o],n[c]=Nf(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return le.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&le.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[A2]=this[A2]={accessors:{}}).accessors,s=this.prototype;function o(i){const c=rd(i);r[c]||(Z6(s,i),r[c]=!0)}return le.isArray(e)?e.forEach(o):o(e),this}};tr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);le.reduceDescriptors(tr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});le.freezeMethods(tr);function dv(t,e){const n=this||uu,r=e||n,s=tr.from(r.headers);let o=r.data;return le.forEach(t,function(c){o=c.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function nT(t){return!!(t&&t.__CANCEL__)}function rc(t,e,n){qe.call(this,t??"canceled",qe.ERR_CANCELED,e,n),this.name="CanceledError"}le.inherits(rc,qe,{__CANCEL__:!0});function rT(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new qe("Request failed with status code "+n.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function eF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function tF(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,i;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),f=r[o];i||(i=h),n[s]=u,r[s]=h;let m=o,g=0;for(;m!==s;)g+=n[m++],m=m%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),h-i<e)return;const y=f&&h-f;return y?Math.round(g*1e3/y):void 0}}function nF(t,e){let n=0,r=1e3/e,s,o;const i=(h,f=Date.now())=>{n=f,s=null,o&&(clearTimeout(o),o=null),t(...h)};return[(...h)=>{const f=Date.now(),m=f-n;m>=r?i(h,f):(s=h,o||(o=setTimeout(()=>{o=null,i(s)},r-m)))},()=>s&&i(s)]}const np=(t,e,n=3)=>{let r=0;const s=tF(50,250);return nF(o=>{const i=o.loaded,c=o.lengthComputable?o.total:void 0,u=i-r,h=s(u),f=i<=c;r=i;const m={loaded:i,total:c,progress:c?i/c:void 0,bytes:u,rate:h||void 0,estimated:h&&c&&f?(c-i)/h:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(m)},n)},R2=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},I2=t=>(...e)=>le.asap(()=>t(...e)),rF=jn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,jn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(jn.origin),jn.navigator&&/(msie|trident)/i.test(jn.navigator.userAgent)):()=>!0,sF=jn.hasStandardBrowserEnv?{write(t,e,n,r,s,o,i){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];le.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),le.isString(r)&&c.push(`path=${r}`),le.isString(s)&&c.push(`domain=${s}`),o===!0&&c.push("secure"),le.isString(i)&&c.push(`SameSite=${i}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function oF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function iF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function sT(t,e,n){let r=!oF(e);return t&&(r||n==!1)?iF(t,e):e}const D2=t=>t instanceof tr?{...t}:t;function ma(t,e){e=e||{};const n={};function r(h,f,m,g){return le.isPlainObject(h)&&le.isPlainObject(f)?le.merge.call({caseless:g},h,f):le.isPlainObject(f)?le.merge({},f):le.isArray(f)?f.slice():f}function s(h,f,m,g){if(le.isUndefined(f)){if(!le.isUndefined(h))return r(void 0,h,m,g)}else return r(h,f,m,g)}function o(h,f){if(!le.isUndefined(f))return r(void 0,f)}function i(h,f){if(le.isUndefined(f)){if(!le.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function c(h,f,m){if(m in e)return r(h,f);if(m in t)return r(void 0,h)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(h,f,m)=>s(D2(h),D2(f),m,!0)};return le.forEach(Object.keys({...t,...e}),function(f){const m=u[f]||s,g=m(t[f],e[f],f);le.isUndefined(g)&&m!==c||(n[f]=g)}),n}const oT=t=>{const e=ma({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:c}=e;if(e.headers=i=tr.from(i),e.url=Zj(sT(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),le.isFormData(n)){if(jn.hasStandardBrowserEnv||jn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(le.isFunction(n.getHeaders)){const u=n.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([f,m])=>{h.includes(f.toLowerCase())&&i.set(f,m)})}}if(jn.hasStandardBrowserEnv&&(r&&le.isFunction(r)&&(r=r(e)),r||r!==!1&&rF(e.url))){const u=s&&o&&sF.read(o);u&&i.set(s,u)}return e},aF=typeof XMLHttpRequest<"u",lF=aF&&function(t){return new Promise(function(n,r){const s=oT(t);let o=s.data;const i=tr.from(s.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:h}=s,f,m,g,y,v;function b(){y&&y(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let k=new XMLHttpRequest;k.open(s.method.toUpperCase(),s.url,!0),k.timeout=s.timeout;function C(){if(!k)return;const T=tr.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),j={data:!c||c==="text"||c==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:T,config:t,request:k};rT(function(I){n(I),b()},function(I){r(I),b()},j),k=null}"onloadend"in k?k.onloadend=C:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(C)},k.onabort=function(){k&&(r(new qe("Request aborted",qe.ECONNABORTED,t,k)),k=null)},k.onerror=function(N){const j=N&&N.message?N.message:"Network Error",P=new qe(j,qe.ERR_NETWORK,t,k);P.event=N||null,r(P),k=null},k.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||eT;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),r(new qe(N,j.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,t,k)),k=null},o===void 0&&i.setContentType(null),"setRequestHeader"in k&&le.forEach(i.toJSON(),function(N,j){k.setRequestHeader(j,N)}),le.isUndefined(s.withCredentials)||(k.withCredentials=!!s.withCredentials),c&&c!=="json"&&(k.responseType=s.responseType),h&&([g,v]=np(h,!0),k.addEventListener("progress",g)),u&&k.upload&&([m,y]=np(u),k.upload.addEventListener("progress",m),k.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(f=T=>{k&&(r(!T||T.type?new rc(null,t,k):T),k.abort(),k=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const _=eF(s.url);if(_&&jn.protocols.indexOf(_)===-1){r(new qe("Unsupported protocol "+_+":",qe.ERR_BAD_REQUEST,t));return}k.send(o||null)})},cF=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const o=function(h){if(!s){s=!0,c();const f=h instanceof Error?h:this.reason;r.abort(f instanceof qe?f:new rc(f instanceof Error?f.message:f))}};let i=e&&setTimeout(()=>{i=null,o(new qe(`timeout ${e} of ms exceeded`,qe.ETIMEDOUT))},e);const c=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>le.asap(c),u}},dF=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},uF=async function*(t,e){for await(const n of hF(t))yield*dF(n,e)},hF=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},L2=(t,e,n,r)=>{const s=uF(t,e);let o=0,i,c=u=>{i||(i=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await s.next();if(h){c(),u.close();return}let m=f.byteLength;if(n){let g=o+=m;n(g)}u.enqueue(new Uint8Array(f))}catch(h){throw c(h),h}},cancel(u){return c(u),s.return()}},{highWaterMark:2})},B2=64*1024,{isFunction:Vh}=le,fF=(({Request:t,Response:e})=>({Request:t,Response:e}))(le.global),{ReadableStream:F2,TextEncoder:$2}=le.global,z2=(t,...e)=>{try{return!!t(...e)}catch{return!1}},pF=t=>{t=le.merge.call({skipUndefined:!0},fF,t);const{fetch:e,Request:n,Response:r}=t,s=e?Vh(e):typeof fetch=="function",o=Vh(n),i=Vh(r);if(!s)return!1;const c=s&&Vh(F2),u=s&&(typeof $2=="function"?(v=>b=>v.encode(b))(new $2):async v=>new Uint8Array(await new n(v).arrayBuffer())),h=o&&c&&z2(()=>{let v=!1;const b=new n(jn.origin,{body:new F2,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!b}),f=i&&c&&z2(()=>le.isReadableStream(new r("").body)),m={stream:f&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!m[v]&&(m[v]=(b,k)=>{let C=b&&b[v];if(C)return C.call(b);throw new qe(`Response type '${v}' is not supported`,qe.ERR_NOT_SUPPORT,k)})});const g=async v=>{if(v==null)return 0;if(le.isBlob(v))return v.size;if(le.isSpecCompliantForm(v))return(await new n(jn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(le.isArrayBufferView(v)||le.isArrayBuffer(v))return v.byteLength;if(le.isURLSearchParams(v)&&(v=v+""),le.isString(v))return(await u(v)).byteLength},y=async(v,b)=>{const k=le.toFiniteNumber(v.getContentLength());return k??g(b)};return async v=>{let{url:b,method:k,data:C,signal:_,cancelToken:T,timeout:N,onDownloadProgress:j,onUploadProgress:P,responseType:I,headers:O,withCredentials:L="same-origin",fetchOptions:$}=oT(v),V=e||fetch;I=I?(I+"").toLowerCase():"text";let Q=cF([_,T&&T.toAbortSignal()],N),K=null;const se=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let ne;try{if(P&&h&&k!=="get"&&k!=="head"&&(ne=await y(O,C))!==0){let M=new n(b,{method:"POST",body:C,duplex:"half"}),B;if(le.isFormData(C)&&(B=M.headers.get("content-type"))&&O.setContentType(B),M.body){const[q,ee]=R2(ne,np(I2(P)));C=L2(M.body,B2,q,ee)}}le.isString(L)||(L=L?"include":"omit");const W=o&&"credentials"in n.prototype,U={...$,signal:Q,method:k.toUpperCase(),headers:O.normalize().toJSON(),body:C,duplex:"half",credentials:W?L:void 0};K=o&&new n(b,U);let R=await(o?V(K,$):V(b,U));const D=f&&(I==="stream"||I==="response");if(f&&(j||D&&se)){const M={};["status","statusText","headers"].forEach(ie=>{M[ie]=R[ie]});const B=le.toFiniteNumber(R.headers.get("content-length")),[q,ee]=j&&R2(B,np(I2(j),!0))||[];R=new r(L2(R.body,B2,q,()=>{ee&&ee(),se&&se()}),M)}I=I||"text";let Z=await m[le.findKey(m,I)||"text"](R,v);return!D&&se&&se(),await new Promise((M,B)=>{rT(M,B,{data:Z,headers:tr.from(R.headers),status:R.status,statusText:R.statusText,config:v,request:K})})}catch(W){throw se&&se(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,v,K),{cause:W.cause||W}):qe.from(W,W&&W.code,v,K)}}},mF=new Map,iT=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:s}=e,o=[r,s,n];let i=o.length,c=i,u,h,f=mF;for(;c--;)u=o[c],h=f.get(u),h===void 0&&f.set(u,h=c?new Map:pF(e)),f=h;return h};iT();const I0={http:P6,xhr:lF,fetch:{get:iT}};le.forEach(I0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const U2=t=>`- ${t}`,gF=t=>le.isFunction(t)||t===null||t===!1;function xF(t,e){t=le.isArray(t)?t:[t];const{length:n}=t;let r,s;const o={};for(let i=0;i<n;i++){r=t[i];let c;if(s=r,!gF(r)&&(s=I0[(c=String(r)).toLowerCase()],s===void 0))throw new qe(`Unknown adapter '${c}'`);if(s&&(le.isFunction(s)||(s=s.get(e))))break;o[c||"#"+i]=s}if(!s){const i=Object.entries(o).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=n?i.length>1?`since :
`+i.map(U2).join(`
`):" "+U2(i[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s}const aT={getAdapter:xF,adapters:I0};function uv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new rc(null,t)}function H2(t){return uv(t),t.headers=tr.from(t.headers),t.data=dv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),aT.getAdapter(t.adapter||uu.adapter,t)(t).then(function(r){return uv(t),r.data=dv.call(t,t.transformResponse,r),r.headers=tr.from(r.headers),r},function(r){return nT(r)||(uv(t),r&&r.response&&(r.response.data=dv.call(t,t.transformResponse,r.response),r.response.headers=tr.from(r.response.headers))),Promise.reject(r)})}const lT="1.13.0",lm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{lm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const W2={};lm.transitional=function(e,n,r){function s(o,i){return"[Axios v"+lT+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,c)=>{if(e===!1)throw new qe(s(i," has been removed"+(n?" in "+n:"")),qe.ERR_DEPRECATED);return n&&!W2[i]&&(W2[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,c):!0}};lm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function vF(t,e,n){if(typeof t!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],i=e[o];if(i){const c=t[o],u=c===void 0||i(c,o,t);if(u!==!0)throw new qe("option "+o+" must be "+u,qe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new qe("Unknown option "+o,qe.ERR_BAD_OPTION)}}const jf={assertOptions:vF,validators:lm},ys=jf.validators;let aa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new P2,response:new P2}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ma(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&jf.assertOptions(r,{silentJSONParsing:ys.transitional(ys.boolean),forcedJSONParsing:ys.transitional(ys.boolean),clarifyTimeoutError:ys.transitional(ys.boolean)},!1),s!=null&&(le.isFunction(s)?n.paramsSerializer={serialize:s}:jf.assertOptions(s,{encode:ys.function,serialize:ys.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),jf.assertOptions(n,{baseUrl:ys.spelling("baseURL"),withXsrfToken:ys.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&le.merge(o.common,o[n.method]);o&&le.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),n.headers=tr.concat(i,o);const c=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(u=u&&b.synchronous,c.unshift(b.fulfilled,b.rejected))});const h=[];this.interceptors.response.forEach(function(b){h.push(b.fulfilled,b.rejected)});let f,m=0,g;if(!u){const v=[H2.bind(this),void 0];for(v.unshift(...c),v.push(...h),g=v.length,f=Promise.resolve(n);m<g;)f=f.then(v[m++],v[m++]);return f}g=c.length;let y=n;for(;m<g;){const v=c[m++],b=c[m++];try{y=v(y)}catch(k){b.call(this,k);break}}try{f=H2.call(this,y)}catch(v){return Promise.reject(v)}for(m=0,g=h.length;m<g;)f=f.then(h[m++],h[m++]);return f}getUri(e){e=ma(this.defaults,e);const n=sT(e.baseURL,e.url,e.allowAbsoluteUrls);return Zj(n,e.params,e.paramsSerializer)}};le.forEach(["delete","get","head","options"],function(e){aa.prototype[e]=function(n,r){return this.request(ma(r||{},{method:e,url:n,data:(r||{}).data}))}});le.forEach(["post","put","patch"],function(e){function n(r){return function(o,i,c){return this.request(ma(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}aa.prototype[e]=n(),aa.prototype[e+"Form"]=n(!0)});let yF=class cT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(c=>{r.subscribe(c),o=c}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},e(function(o,i,c){r.reason||(r.reason=new rc(o,i,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new cT(function(s){e=s}),cancel:e}}};function bF(t){return function(n){return t.apply(null,n)}}function wF(t){return le.isObject(t)&&t.isAxiosError===!0}const Sy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Sy).forEach(([t,e])=>{Sy[e]=t});function dT(t){const e=new aa(t),n=zj(aa.prototype.request,e);return le.extend(n,aa.prototype,e,{allOwnKeys:!0}),le.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return dT(ma(t,s))},n}const xt=dT(uu);xt.Axios=aa;xt.CanceledError=rc;xt.CancelToken=yF;xt.isCancel=nT;xt.VERSION=lT;xt.toFormData=am;xt.AxiosError=qe;xt.Cancel=xt.CanceledError;xt.all=function(e){return Promise.all(e)};xt.spread=bF;xt.isAxiosError=wF;xt.mergeConfig=ma;xt.AxiosHeaders=tr;xt.formToJSON=t=>tT(le.isHTMLForm(t)?new FormData(t):t);xt.getAdapter=aT.getAdapter;xt.HttpStatusCode=Sy;xt.default=xt;const{Axios:wle,AxiosError:kle,CanceledError:Sle,isCancel:Cle,CancelToken:_le,VERSION:Ele,all:Nle,Cancel:jle,isAxiosError:Tle,spread:Mle,toFormData:Ole,AxiosHeaders:Ple,HttpStatusCode:Ale,formToJSON:Rle,getAdapter:Ile,mergeConfig:Dle}=xt,kF={VITE_API_URL:"http://localhost:3000"},SF=kF,jt=SF.VITE_API_URL,gn="access_token",$e=xt.create({baseURL:jt,withCredentials:!1,timeout:1e4});$e.interceptors.request.use(t=>{const e=localStorage.getItem(gn);return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));$e.interceptors.response.use(t=>t,t=>{if(t.response?.status===401){const e=t.config?.url??"";e.includes("/auth/login")||e.includes("/auth/forgetPassword")||(console.error("Unauthorized - redirecting to login"),localStorage.removeItem(gn),window.location.pathname!=="/login"&&(window.location.href="/login"))}return Promise.reject(t)});const D0={get:t=>localStorage.getItem(t),set:(t,e)=>localStorage.setItem(t,e),del:t=>localStorage.removeItem(t)};async function L0(t){const{data:e}=await $e.post("/auth/login",t),n=e?.token,r=n?.token||n?.accessToken;return r&&D0.set(gn,r),e}function CF(){D0.del(gn)}function uT(){return!!D0.get(gn)}async function hT(t){const{data:e}=await $e.post("/auth/forgetPassword",{email:t});return e}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EF=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),V2=t=>{const e=EF(t);return e.charAt(0).toUpperCase()+e.slice(1)},fT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...c},u)=>w.createElement("svg",{ref:u,...NF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fT("lucide",s),...c},[...i.map(([h,f])=>w.createElement(h,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const n=w.forwardRef(({className:r,...s},o)=>w.createElement(jF,{ref:o,iconNode:e,className:fT(`lucide-${_F(V2(t))}`,`lucide-${t}`,r),...s}));return n.displayName=V2(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],MF=_e("activity",TF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],PF=_e("arrow-down",OF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rp=_e("arrow-right",AF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],hv=_e("arrow-up",RF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],DF=_e("bell",IF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],BF=_e("brain",LF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],B0=_e("calendar",FF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],q2=_e("camera",$F);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],cm=_e("chart-column",zF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bl=_e("check",UF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pT=_e("chevron-down",HF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Tf=_e("chevron-left",WF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pi=_e("chevron-right",VF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],YF=_e("chevron-up",qF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Y2=_e("circle-alert",KF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],K2=_e("circle-check-big",XF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Cd=_e("clock",GF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],mT=_e("copy",JF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ZF=_e("dollar-sign",QF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],t8=_e("download",e8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],X2=_e("ellipsis-vertical",n8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sp=_e("eye-off",r8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],op=_e("eye",s8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],i8=_e("file-down",o8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$n=_e("file-text",a8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]],G2=_e("folder-input",l8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],tn=_e("folder",c8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],u8=_e("heading-1",d8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],f8=_e("heading-2",h8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],m8=_e("heading-3",p8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v3a1 1 0 0 0 1 1h3",key:"tj5zdr"}],["path",{d:"M21 10v8",key:"1kdml4"}],["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}]],x8=_e("heading-4",g8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],dm=_e("house",v8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],b8=_e("layout-grid",y8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],k8=_e("layout-list",w8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],J2=_e("lightbulb",S8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ar=_e("loader-circle",C8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Q2=_e("lock",_8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],N8=_e("log-in",E8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],T8=_e("log-out",j8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],gT=_e("mail",M8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],P8=_e("menu",O8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ga=_e("message-square",A8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],I8=_e("mic-off",R8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],F0=_e("mic",D8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],B8=_e("monitor",L8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],hu=_e("moon",F8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],z8=_e("pause",$8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]],H8=_e("phone-off",U8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],V8=_e("play",W8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ad=_e("plus",q8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ip=_e("refresh-cw",Y8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],X8=_e("rotate-ccw",K8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Cy=_e("save",G8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],um=_e("search",J8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ra=_e("send",Q8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xT=_e("settings",Z8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Z2=_e("share-2",e$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],n$=_e("shield",t$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],e_=_e("sliders-horizontal",r$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],o$=_e("smile",s$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],li=_e("sparkles",i$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],l$=_e("square-pen",a$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ap=_e("star",c$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],hm=_e("sun",d$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],vT=_e("trash-2",u$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Rd=_e("trending-up",h$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fv=_e("triangle-alert",f$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],t_=_e("trophy",p$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],g$=_e("user",m$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],yi=_e("users",x$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],y$=_e("video-off",v$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],fm=_e("video",b$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],k$=_e("volume-2",w$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],C$=_e("wifi-off",S$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],E$=_e("wifi",_$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yr=_e("x",N$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_y=_e("zap",j$),yT=w.createContext(void 0),pv="xplanb_theme";function T$({children:t}){const[e,n]=w.useState(()=>{const o=localStorage.getItem(pv);return o==="light"||o==="dark"?o:typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});w.useEffect(()=>{const o=document.documentElement;e==="dark"?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem(pv,e)},[e]);const r=()=>{n(o=>o==="dark"?"light":"dark")},s=o=>{n(o)};return w.useEffect(()=>{if(typeof window>"u")return;const o=window.matchMedia("(prefers-color-scheme: dark)"),i=c=>{localStorage.getItem(pv)||n(c.matches?"dark":"light")};return o.addEventListener("change",i),()=>o.removeEventListener("change",i)},[]),l.jsx(yT.Provider,{value:{theme:e,toggleTheme:r,setTheme:s},children:t})}function sc(){const t=w.useContext(yT);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const bT="/assets/xplanb_logo-kvlZ0dnU.png",$0="/assets/xplanb-logo-dark-Bhly297H.png";function M$({onSignUp:t}){const{theme:e,toggleTheme:n}=sc(),[r,s]=w.useState(""),[o,i]=w.useState(""),[c,u]=w.useState(""),[h,f]=w.useState(!1),[m,g]=w.useState(""),[y,v]=w.useState(!1),[b,k]=w.useState(!1),C=Wr(),_=async T=>{if(T.preventDefault(),c!==m){ae.error("Passwords do not match");return}if(c.length<6){ae.error("Password must be at least 6 characters");return}try{k(!0);const N=r.trim().split(" "),j=N[0]||"",P=N.slice(1).join(" ")||N[0]||"";await $e.post("/auth/signup",{firstName:j,lastName:P,email:o,password:c,confirmPassword:c}),await L0({email:o,password:c}),localStorage.setItem("xplanb_onboarding","true"),ae.success("Account created successfully!"),t?.(),C("/dashboard",{replace:!0})}catch(N){ae.error(N?.response?.data?.message||"Sign up failed. Please try again.")}finally{k(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-background px-4",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsxs("div",{className:"bg-white dark:bg-card rounded-xl shadow-lg p-8 relative",children:[l.jsx(de,{variant:"ghost",size:"icon",onClick:n,className:"rounded-full hover:bg-secondary transition-colors","aria-label":"Toggle theme",title:e==="dark"?"Switch to light":"Switch to dark",children:e==="dark"?l.jsx(hm,{className:"w-4 h-4"}):l.jsx(hu,{className:"w-4 h-4"})}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("img",{src:e==="dark"?$0:bT,alt:"Logo",className:"w-20 h-auto mb-4 mx-auto"}),l.jsx("h1",{className:"text-[24px] mb-2",children:"Create your account"}),l.jsx("p",{className:"text-muted-foreground text-[14px]",children:"Join XPlanB and start collaborating"})]}),l.jsxs("form",{onSubmit:_,className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"fullName",children:"Full Name"}),l.jsx(Ye,{id:"fullName",type:"text",value:r,onChange:T=>s(T.target.value),className:"mt-1.5 rounded-xl",placeholder:"John Doe",required:!0})]}),l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"email",children:"Email"}),l.jsx(Ye,{id:"email",type:"email",value:o,onChange:T=>i(T.target.value),className:"mt-1.5 rounded-xl",placeholder:"john@example.com",required:!0})]}),l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative mt-1.5",children:[l.jsx(Ye,{id:"password",type:h?"text":"password",value:c,onChange:T=>u(T.target.value),className:"rounded-xl pr-10",placeholder:"",required:!0}),l.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute inset-y-0 right-3 flex items-center justify-center text-muted-foreground hover:text-foreground transition-colors z-10","aria-label":h?"Hide password":"Show password",title:h?"Hide password":"Show password",children:h?l.jsx(sp,{className:"w-4 h-4"}):l.jsx(op,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"confirmPassword",children:"Confirm Password"}),l.jsxs("div",{className:"relative mt-1.5",children:[l.jsx(Ye,{id:"confirmPassword",type:y?"text":"password",value:m,onChange:T=>g(T.target.value),className:"rounded-xl pr-10",placeholder:"",required:!0}),l.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute inset-y-0 right-3 flex items-center justify-center text-muted-foreground hover:text-foreground transition-colors z-10",title:y?"Hide password":"Show password","aria-label":y?"Hide password":"Show password",children:y?l.jsx(sp,{className:"w-4 h-4"}):l.jsx(op,{className:"w-4 h-4"})})]})]}),l.jsx(de,{type:"submit",className:"w-full rounded-xl",disabled:b,children:b?"Creating account...":"Sign Up"})]}),l.jsxs("p",{className:"text-center mt-6 text-[14px] text-muted-foreground",children:["Already have an account?"," ",l.jsx(rt,{to:"/login",className:"text-primary hover:underline",children:"Log in"})]})]})})})}async function O$(t,e){const n=P$(e);try{const r=await $e.post("/email/send",{to:[t],subject:`Meeting Invitation: ${e.title}`,html:n,text:`You've been invited to a meeting: ${e.title}

Join at: ${e.joinUrl}`});return console.log(" Meeting invitation email sent successfully",r.data),r.data}catch(r){throw console.error(" Resend error:",r),new Error("Failed to send email via Resend")}}function P$(t){return`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meeting Invitation</title>
</head>
<body style="margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background-color: #f5f5f5;">
    <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f5f5f5; padding: 40px 0;">
        <tr>
            <td align="center">
                <table width="600" cellpadding="0" cellspacing="0" style="background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <!-- Header -->
                    <tr>
                        <td style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px 30px; text-align: center;">
                            <h1 style="color: #ffffff; margin: 0; font-size: 28px; font-weight: 600;"> Meeting Invitation</h1>
                        </td>
                    </tr>
                    
                    <!-- Content -->
                    <tr>
                        <td style="padding: 40px 30px;">
                            <h2 style="color: #333333; margin: 0 0 20px 0; font-size: 24px; font-weight: 600;">
                                ${t.title}
                            </h2>
                            
                            <p style="color: #666666; margin: 0 0 10px 0; font-size: 16px; line-height: 1.6;">
                                <strong style="color: #333333;"> Date & Time:</strong><br>
                                ${new Date(t.startTime).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}
                            </p>
                            
                            <p style="color: #666666; margin: 20px 0 10px 0; font-size: 16px; line-height: 1.6;">
                                <strong style="color: #333333;"> Organizer:</strong><br>
                                ${t.createdBy}
                            </p>
                            
                            ${t.description?`
                            <p style="color: #666666; margin: 20px 0 10px 0; font-size: 16px; line-height: 1.6;">
                                <strong style="color: #333333;"> Description:</strong><br>
                                ${t.description}
                            </p>
                            `:""}
                            
                            <!-- CTA Button -->
                            <table width="100%" cellpadding="0" cellspacing="0" style="margin: 30px 0;">
                                <tr>
                                    <td align="center">
                                        <a href="${t.joinUrl}" 
                                           style="display: inline-block; background-color: #667eea; color: #ffffff; text-decoration: none; padding: 15px 40px; border-radius: 6px; font-size: 16px; font-weight: 600; box-shadow: 0 4px 6px rgba(102, 126, 234, 0.4);">
                                            Join Meeting
                                        </a>
                                    </td>
                                </tr>
                            </table>
                            
                            <!-- Alternative Link -->
                            <p style="color: #999999; margin: 30px 0 0 0; font-size: 14px; text-align: center;">
                                Or copy this link: <br>
                                <a href="${t.joinUrl}" style="color: #667eea; word-break: break-all;">
                                    ${t.joinUrl}
                                </a>
                            </p>
                        </td>
                    </tr>
                    
                    <!-- Footer -->
                    <tr>
                        <td style="background-color: #f9f9f9; padding: 20px 30px; text-align: center; border-top: 1px solid #eeeeee;">
                            <p style="color: #999999; margin: 0; font-size: 12px;">
                                Powered by <strong style="color: #667eea;">XPlanB</strong> - Your collaborative workspace
                            </p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
  `.trim()}async function A$(t,e){const n=R$(e);try{const r=await $e.post("/email/send",{to:[t],subject:`Document Shared: ${e.documentName}`,html:n,text:`You've been granted access to the document "${e.documentName}". Access level: ${e.accessLevel}

Open document: ${e.joinUrl}`});return console.log(" Document share email sent successfully",r.data),r.data}catch(r){throw console.error(" Resend error:",r),new Error("Failed to send email via Resend")}}function R$(t){return`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document Shared</title>
</head>
<body style="margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background-color: #f5f5f5;">
    <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f5f5f5; padding: 40px 0;">
        <tr>
            <td align="center">
                <table width="600" cellpadding="0" cellspacing="0" style="background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <!-- Header -->
                    <tr>
                        <td style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px 30px; text-align: center;">
                            <h1 style="color: #ffffff; margin: 0; font-size: 28px; font-weight: 600;"> Document Shared</h1>
                        </td>
                    </tr>
                    
                    <!-- Content -->
                    <tr>
                        <td style="padding: 40px 30px;">
                            <h2 style="color: #333333; margin: 0 0 20px 0; font-size: 24px; font-weight: 600;">
                                ${t.documentName}
                            </h2>
                            
                            <p style="color: #666666; margin: 0 0 10px 0; font-size: 16px; line-height: 1.6;">
                                <strong style="color: #333333;"> Shared by:</strong><br>
                                ${t.sharedBy}
                            </p>
                            
                            <p style="color: #666666; margin: 20px 0 10px 0; font-size: 16px; line-height: 1.6;">
                                <strong style="color: #333333;"> Access Level:</strong><br>
                                ${t.accessLevel==="edit"?" Can Edit":t.accessLevel==="update"?" Can Update":" View Only"}
                            </p>
                            
                            ${t.description?`
                            <p style="color: #666666; margin: 20px 0 10px 0; font-size: 16px; line-height: 1.6;">
                                <strong style="color: #333333;"> Note:</strong><br>
                                ${t.description}
                            </p>
                            `:""}
                            
                            <!-- CTA Button -->
                            <table width="100%" cellpadding="0" cellspacing="0" style="margin: 30px 0;">
                                <tr>
                                    <td align="center">
                                        <a href="${t.joinUrl}" 
                                           style="display: inline-block; background-color: #667eea; color: #ffffff; text-decoration: none; padding: 15px 40px; border-radius: 6px; font-size: 16px; font-weight: 600; box-shadow: 0 4px 6px rgba(102, 126, 234, 0.4);">
                                            Open Document
                                        </a>
                                    </td>
                                </tr>
                            </table>
                            
                            <!-- Alternative Link -->
                            <p style="color: #999999; margin: 30px 0 0 0; font-size: 14px; text-align: center;">
                                Or copy this link: <br>
                                <a href="${t.joinUrl}" style="color: #667eea; word-break: break-all;">
                                    ${t.joinUrl}
                                </a>
                            </p>
                        </td>
                    </tr>
                    
                    <!-- Footer -->
                    <tr>
                        <td style="background-color: #f9f9f9; padding: 20px 30px; text-align: center; border-top: 1px solid #eeeeee;">
                            <p style="color: #999999; margin: 0; font-size: 12px;">
                                Powered by <strong style="color: #667eea;">XPlanB</strong> - Your collaborative workspace
                            </p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
  `.trim()}async function wT(t,e){const n=I$(e);try{const r=await $e.post("/email/send",{to:[t],subject:`Folder Shared: ${e.folderName}`,html:n,text:`You've been granted access to the folder "${e.folderName}". Access level: ${e.accessLevel}

Open folder: ${e.joinUrl}`});return console.log(" Folder share email sent successfully",r.data),r.data}catch(r){throw console.error(" Resend error:",r),new Error("Failed to send email via Resend")}}function I$(t){return`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Folder Shared</title>
</head>
<body style="margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background-color: #f5f5f5;">
    <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f5f5f5; padding: 40px 0;">
        <tr>
            <td align="center">
                <table width="600" cellpadding="0" cellspacing="0" style="background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <!-- Header -->
                    <tr>
                        <td style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px 30px; text-align: center;">
                            <h1 style="color: #ffffff; margin: 0; font-size: 28px; font-weight: 600;"> Folder Shared</h1>
                        </td>
                    </tr>
                    
                    <!-- Content -->
                    <tr>
                        <td style="padding: 40px 30px;">
                            <h2 style="color: #333333; margin: 0 0 20px 0; font-size: 24px; font-weight: 600;">
                                ${t.folderName}
                            </h2>
                            
                            <p style="color: #666666; margin: 0 0 10px 0; font-size: 16px; line-height: 1.6;">
                                <strong style="color: #333333;"> Shared by:</strong><br>
                                ${t.sharedBy}
                            </p>
                            
                            <p style="color: #666666; margin: 20px 0 10px 0; font-size: 16px; line-height: 1.6;">
                                <strong style="color: #333333;"> Access Level:</strong><br>
                                ${t.accessLevel==="update"?" Can Edit":" View Only"}
                            </p>
                            
                            ${t.description?`
                            <p style="color: #666666; margin: 20px 0 10px 0; font-size: 16px; line-height: 1.6;">
                                <strong style="color: #333333;"> Note:</strong><br>
                                ${t.description}
                            </p>
                            `:""}
                            
                            <!-- CTA Button -->
                            <table width="100%" cellpadding="0" cellspacing="0" style="margin: 30px 0;">
                                <tr>
                                    <td align="center">
                                        <a href="${t.joinUrl}" 
                                           style="display: inline-block; background-color: #667eea; color: #ffffff; text-decoration: none; padding: 15px 40px; border-radius: 6px; font-size: 16px; font-weight: 600; box-shadow: 0 4px 6px rgba(102, 126, 234, 0.4);">
                                            Open Folder
                                        </a>
                                    </td>
                                </tr>
                            </table>
                            
                            <!-- Alternative Link -->
                            <p style="color: #999999; margin: 30px 0 0 0; font-size: 14px; text-align: center;">
                                Or copy this link: <br>
                                <a href="${t.joinUrl}" style="color: #667eea; word-break: break-all;">
                                    ${t.joinUrl}
                                </a>
                            </p>
                        </td>
                    </tr>
                    
                    <!-- Footer -->
                    <tr>
                        <td style="background-color: #f9f9f9; padding: 20px 30px; text-align: center; border-top: 1px solid #eeeeee;">
                            <p style="color: #999999; margin: 0; font-size: 12px;">
                                Powered by <strong style="color: #667eea;">XPlanB</strong> - Your collaborative workspace
                            </p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
  `.trim()}async function kT(t,e){const n=D$(e);try{console.log(" Sending password reset email to:",t);const r=await $e.post("/email/send",{to:[t],subject:"Reset Your Password - XPlanB",html:n,text:`You requested to reset your password. Click here: ${e.resetUrl}

This link expires in ${e.expiresIn||"1 hour"}.`});return console.log(" Password reset email sent successfully",r.data),r.data}catch(r){console.error(" Resend error details:",r),console.error(" Response data:",r?.response?.data),console.error(" Response status:",r?.response?.status);const s=r?.response?.data?.message||r?.message||"Failed to send email via Resend";throw new Error(s)}}function D$(t){return`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Your Password</title>
</head>
<body style="margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background-color: #f5f5f5;">
    <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f5f5f5; padding: 40px 0;">
        <tr>
            <td align="center">
                <table width="600" cellpadding="0" cellspacing="0" style="background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <!-- Header -->
                    <tr>
                        <td style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px 30px; text-align: center;">
                            <h1 style="color: #ffffff; margin: 0; font-size: 28px; font-weight: 600;"> Password Reset</h1>
                        </td>
                    </tr>
                    
                    <!-- Content -->
                    <tr>
                        <td style="padding: 40px 30px;">
                            <h2 style="color: #333333; margin: 0 0 20px 0; font-size: 24px; font-weight: 600;">
                                ${t.userName?`Hello ${t.userName},`:"Hello,"}
                            </h2>
                            
                            <p style="color: #666666; margin: 0 0 20px 0; font-size: 16px; line-height: 1.6;">
                                We received a request to reset your password for your XPlanB account. Click the button below to create a new password:
                            </p>
                            
                            <!-- CTA Button -->
                            <table width="100%" cellpadding="0" cellspacing="0" style="margin: 30px 0;">
                                <tr>
                                    <td align="center">
                                        <a href="${t.resetUrl}" 
                                           style="display: inline-block; background-color: #667eea; color: #ffffff; text-decoration: none; padding: 15px 40px; border-radius: 6px; font-size: 16px; font-weight: 600; box-shadow: 0 4px 6px rgba(102, 126, 234, 0.4);">
                                            Reset Password
                                        </a>
                                    </td>
                                </tr>
                            </table>
                            
                            <!-- Alternative Link -->
                            <p style="color: #999999; margin: 30px 0 0 0; font-size: 14px; text-align: center;">
                                Or copy this link: <br>
                                <a href="${t.resetUrl}" style="color: #667eea; word-break: break-all;">
                                    ${t.resetUrl}
                                </a>
                            </p>
                            
                            <p style="color: #666666; margin: 30px 0 10px 0; font-size: 14px; line-height: 1.6;">
                                <strong style="color: #333333;"> Important:</strong> This link will expire in ${t.expiresIn||"1 hour"}. If you didn't request a password reset, please ignore this email or contact support if you have concerns.
                            </p>
                            
                            <p style="color: #666666; margin: 20px 0 0 0; font-size: 14px; line-height: 1.6;">
                                For security reasons, we recommend choosing a strong password that you haven't used before.
                            </p>
                        </td>
                    </tr>
                    
                    <!-- Footer -->
                    <tr>
                        <td style="background-color: #f9f9f9; padding: 20px 30px; text-align: center; border-top: 1px solid #eeeeee;">
                            <p style="color: #999999; margin: 0; font-size: 12px;">
                                Powered by <strong style="color: #667eea;">XPlanB</strong> - Your collaborative workspace
                            </p>
                            <p style="color: #999999; margin: 10px 0 0 0; font-size: 11px;">
                                This is an automated email. Please do not reply to this message.
                            </p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
  `.trim()}function L$({onLogin:t}){const{theme:e,toggleTheme:n}=sc(),[r,s]=w.useState(""),[o,i]=w.useState(""),[c,u]=w.useState(!1),[h,f]=w.useState(!1),[m,g]=w.useState(!1),[y,v]=w.useState(""),[b,k]=w.useState(!1),C=Wr(),_=async N=>{if(N.preventDefault(),!r||!o){ae.error("Please fill in all fields");return}try{f(!0),await L0({email:r,password:o}),localStorage.setItem("xplanb_onboarding","true"),ae.success("Welcome back!"),t?.(),C("/dashboard",{replace:!0})}catch(j){const P=j?.response?.status,I=j?.response?.data?.message;P===401||P===400?ae.error("Incorrect email or password"):ae.error(I||"Login failed. Please try again.")}finally{f(!1)}},T=async N=>{if(N.preventDefault(),!y){ae.error("Please enter your email address");return}try{k(!0);const j=await hT(y);if(j?.resetUrl&&j?.email)try{await kT(j.email,{resetUrl:j.resetUrl,userName:j.userName,expiresIn:"1 hour"}),ae.success("Password reset email sent! Please check your inbox."),g(!1),v("")}catch(P){console.error("Failed to send email via Resend:",P);const I=P?.message||"Failed to send email. Please try again.";ae.error(I)}else ae.success(j?.message||"If an account with that email exists, a password reset link has been sent."),g(!1),v("")}catch(j){console.error("Password reset error:",j);const P=j?.response?.data?.message||j?.message||"Failed to initiate password reset. Please try again.";ae.error(P)}finally{k(!1)}};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-secondary px-4 py-8",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"bg-card rounded-2xl shadow-2xl p-8 space-y-8 border border-border/50",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:e==="dark"?$0:bT,alt:"XPlanB logo",className:"w-10 h-auto"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"XPlanB"}),l.jsx("p",{className:"text-sm font-medium text-foreground",children:"Workspace"})]})]}),l.jsx(de,{variant:"ghost",size:"icon",onClick:n,className:"rounded-full hover:bg-secondary transition-colors","aria-label":"Toggle theme",title:e==="dark"?"Switch to light":"Switch to dark",children:e==="dark"?l.jsx(hm,{className:"w-4 h-4"}):l.jsx(hu,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-[24px] mb-2",children:"Welcome back"}),l.jsx("p",{className:"text-muted-foreground text-[14px]",children:"Enter your credentials to access your workspace"})]})]}),l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ct,{htmlFor:"email",className:"text-sm font-medium",children:"Email address"}),l.jsx(Ye,{id:"email",type:"email",value:r,onChange:N=>s(N.target.value),className:"rounded-lg h-10 text-sm",placeholder:"john@example.com",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx(ct,{htmlFor:"password",className:"text-sm font-medium",children:"Password"})}),l.jsxs("div",{className:"relative",children:[l.jsx(Ye,{id:"password",type:c?"text":"password",value:o,onChange:N=>i(N.target.value),className:"rounded-lg h-10 text-sm pr-10",placeholder:"",required:!0,"aria-describedby":"password-help"}),l.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute inset-y-0 right-3 flex items-center justify-center text-muted-foreground hover:text-foreground transition-colors","aria-label":c?"Hide password":"Show password",title:c?"Hide password":"Show password",children:c?l.jsx(sp,{className:"w-4 h-4"}):l.jsx(op,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-[14px] text-blue-600 hover:underline",children:"Forgot password?"})}),l.jsx(de,{type:"submit",className:"w-full rounded-lg h-10 text-sm font-medium group transition-all duration-200",disabled:h,children:h?"Signing in...":l.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Log In",l.jsx(rp,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]}),l.jsx("br",{}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-border/50"})}),l.jsx("div",{className:"relative flex justify-center text-xs",children:l.jsx("span",{className:"px-2 bg-card text-muted-foreground",children:"Don't have an account?"})})]}),l.jsx(rt,{to:"/signup",className:"w-full",children:l.jsx(de,{variant:"outline",className:"w-full rounded-lg h-10 text-sm font-medium transition-colors",children:"Create account"})})]}),l.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-6",children:["Having trouble?"," ",l.jsx("a",{href:"#",className:"text-primary hover:text-primary/80 transition-colors",children:"Contact support"})]})]})}),m&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-card rounded-2xl shadow-2xl max-w-md w-full border border-border/50 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-border/30 flex items-center justify-between bg-secondary/20",children:[l.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Reset your password"}),l.jsx(de,{variant:"ghost",size:"icon",onClick:()=>{g(!1),v("")},className:"rounded-lg hover:bg-secondary transition-colors",children:l.jsx(yr,{className:"w-4 h-4"})})]}),l.jsxs("form",{onSubmit:T,className:"p-6 space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(ct,{htmlFor:"forgot-email",className:"text-sm font-medium",children:"Email address"}),l.jsx(Ye,{id:"forgot-email",type:"email",value:y,onChange:N=>v(N.target.value),className:"rounded-lg h-10 text-sm",placeholder:"john@example.com",required:!0,autoFocus:!0}),l.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"We'll send you a secure link to reset your password. Check your inbox within the next few minutes."})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx(de,{type:"button",variant:"outline",onClick:()=>{g(!1),v("")},className:"rounded-lg h-10 text-sm font-medium",children:"Cancel"}),l.jsx(de,{type:"submit",className:"rounded-lg h-10 text-sm font-medium group",disabled:b,children:b?"Sending...":l.jsxs("span",{className:"flex items-center gap-2",children:["Send link",l.jsx(rp,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})]})]})})]})}const B$="/assets/logo-B4Blhzfw.png",F$="/assets/logodark-5v3bUQ_s.png";function $$({onLogin:t}){const{theme:e,toggleTheme:n}=sc(),[r,s]=w.useState(""),[o,i]=w.useState(""),[c,u]=w.useState(!1),[h,f]=w.useState(!1),[m,g]=w.useState(!1),[y,v]=w.useState(""),[b,k]=w.useState(!1),C=Wr(),_=async N=>{if(N.preventDefault(),!r||!o){ae.error("Please fill in all fields");return}try{f(!0),await L0({email:r,password:o}),localStorage.setItem("xplanb_onboarding","true"),ae.success("Welcome back!"),t?.(),C("/dashboard",{replace:!0})}catch(j){const P=j?.response?.status,I=j?.response?.data?.message;P===401||P===400?ae.error("Incorrect email or password"):ae.error(I||"Login failed. Please try again.")}finally{f(!1)}},T=async N=>{if(N.preventDefault(),!y){ae.error("Please enter your email address");return}try{k(!0);const j=await hT(y);if(j?.resetUrl&&j?.email)try{await kT(j.email,{resetUrl:j.resetUrl,userName:j.userName,expiresIn:"1 hour"}),ae.success("Password reset email sent! Please check your inbox."),g(!1),v("")}catch(P){console.error("Failed to send email via Resend:",P);const I=P?.message||"Failed to send email. Please try again.";ae.error(I)}else ae.success(j?.message||"If an account with that email exists, a password reset link has been sent."),g(!1),v("")}catch(j){console.error("Password reset error:",j);const P=j?.response?.data?.message||j?.message||"Failed to initiate password reset. Please try again.";ae.error(P)}finally{k(!1)}};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-secondary px-4 py-8",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"bg-card rounded-2xl shadow-2xl p-8 space-y-8 border border-border/50",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:e==="dark"?F$:B$,alt:"XPlanB logo",className:"w-10 h-auto"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"XPlanB"}),l.jsx("p",{className:"text-sm font-medium text-foreground",children:"Workspace"})]})]}),l.jsx(de,{variant:"ghost",size:"icon",onClick:n,className:"rounded-full hover:bg-secondary transition-colors","aria-label":"Toggle theme",title:e==="dark"?"Switch to light":"Switch to dark",children:e==="dark"?l.jsx(hm,{className:"w-4 h-4"}):l.jsx(hu,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Welcome back"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your credentials to access your workspace"})]})]}),l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ct,{htmlFor:"email",className:"text-sm font-medium",children:"Email address"}),l.jsx(Ye,{id:"email",type:"email",value:r,onChange:N=>s(N.target.value),className:"rounded-lg h-10 text-sm",placeholder:"john@example.com",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(ct,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),l.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-xs text-primary hover:text-primary/80 transition-colors font-medium",children:"Forgot?"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Ye,{id:"password",type:c?"text":"password",value:o,onChange:N=>i(N.target.value),className:"rounded-lg h-10 text-sm pr-10",placeholder:"",required:!0,"aria-describedby":"password-help"}),l.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute inset-y-0 right-3 flex items-center justify-center text-muted-foreground hover:text-foreground transition-colors","aria-label":c?"Hide password":"Show password",title:c?"Hide password":"Show password",children:c?l.jsx(sp,{className:"w-4 h-4"}):l.jsx(op,{className:"w-4 h-4"})})]})]}),l.jsx(de,{type:"submit",className:"w-full rounded-lg h-10 text-sm font-medium group transition-all duration-200",disabled:h,children:h?"Signing in...":l.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Log In",l.jsx(rp,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-border/50"})}),l.jsx("div",{className:"relative flex justify-center text-xs",children:l.jsx("span",{className:"px-2 bg-card text-muted-foreground",children:"Don't have an account?"})})]}),l.jsx(rt,{to:"/signup",className:"w-full",children:l.jsx(de,{variant:"outline",className:"w-full rounded-lg h-10 text-sm font-medium transition-colors",children:"Create account"})})]}),l.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-6",children:["Having trouble? ",l.jsx("a",{href:"#",className:"text-primary hover:text-primary/80 transition-colors",children:"Contact support"})]})]})}),m&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-card rounded-2xl shadow-2xl max-w-md w-full border border-border/50 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-border/30 flex items-center justify-between bg-secondary/20",children:[l.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Reset your password"}),l.jsx(de,{variant:"ghost",size:"icon",onClick:()=>{g(!1),v("")},className:"rounded-lg hover:bg-secondary transition-colors",children:l.jsx(yr,{className:"w-4 h-4"})})]}),l.jsxs("form",{onSubmit:T,className:"p-6 space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(ct,{htmlFor:"forgot-email",className:"text-sm font-medium",children:"Email address"}),l.jsx(Ye,{id:"forgot-email",type:"email",value:y,onChange:N=>v(N.target.value),className:"rounded-lg h-10 text-sm",placeholder:"john@example.com",required:!0,autoFocus:!0}),l.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"We'll send you a secure link to reset your password. Check your inbox within the next few minutes."})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx(de,{type:"button",variant:"outline",onClick:()=>{g(!1),v("")},className:"rounded-lg h-10 text-sm font-medium",children:"Cancel"}),l.jsx(de,{type:"submit",className:"rounded-lg h-10 text-sm font-medium group",disabled:b,children:b?"Sending...":l.jsxs("span",{className:"flex items-center gap-2",children:["Send link",l.jsx(rp,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})]})]})})]})}function z$(){return uT()?l.jsx(yj,{}):l.jsx(Sf,{to:"/login",replace:!0})}const ST="/assets/xplanb_logo-removebg-preview-CLK93FR6.png",U$=[{name:"Home",href:"/dashboard",icon:dm},{name:"Folders",href:"/folders",icon:tn},{name:"Analytics",href:"/analytics",icon:cm},{name:"Calendar",href:"/calendar",icon:B0},{name:"Meetings",href:"/meetings",icon:fm},{name:"Chat",href:"/chat",icon:ga},{name:"AI Assistant",href:"/ai-assistant",icon:li}];function H$({isOpen:t,onToggle:e,onShowPomodoro:n}){const r=cs();return l.jsxs(l.Fragment,{children:[t&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden",onClick:e}),l.jsxs("aside",{className:ze("fixed lg:static inset-y-0 left-0 z-30 flex flex-col bg-white dark:bg-card border-r border-border transition-all duration-300",t?"w-64":"w-0 lg:w-16"),children:[l.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-border",children:[t&&l.jsxs(rt,{to:"/dashboard",className:"flex items-center space-x-2",children:[l.jsxs("div",{className:"w-8 h-8 bg-white-600 rounded-lg flex items-center justify-center",children:[l.jsx("img",{src:ST,alt:"XPlanB logo",className:"w-10 h-auto"})," "]}),l.jsx("span",{className:"text-[18px]",children:"XPlanB"})]}),l.jsx(de,{variant:"ghost",size:"icon",onClick:e,className:"rounded-xl",children:l.jsx(Tf,{className:ze("w-5 h-5 transition-transform",!t&&"rotate-180")})})]}),l.jsx("nav",{className:"flex-1 overflow-y-auto p-3 space-y-1",children:U$.map(s=>{const o=r.pathname===s.href||r.pathname.startsWith(s.href+"/");return l.jsxs(rt,{to:s.href,className:ze("flex items-center px-3 py-2.5 rounded-xl transition-colors group",o?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[l.jsx(s.icon,{className:"w-5 h-5 flex-shrink-0"}),t&&l.jsx("span",{className:"ml-3",children:s.name})]},s.name)})})]})]})}const W$=jt.replace("/api",""),ea=xt.create({baseURL:W$,headers:{"Content-Type":"application/json"}});ea.interceptors.request.use(t=>{const e=localStorage.getItem(gn);return e&&(t.headers.Authorization=`Bearer ${e}`),t});const n_={getAll:()=>ea.get("/notifications").then(t=>t.data),getUnread:()=>ea.get("/notifications",{params:{read:"false"}}).then(t=>t.data),getUnreadCount:()=>ea.get("/notifications/unread/count").then(t=>t.data),markAsRead:t=>ea.put(`/notifications/${t}/read`).then(()=>{}),markAllAsRead:()=>ea.put("/notifications/mark-all-read").then(()=>{}),delete:t=>ea.delete(`/notifications/${t}`).then(()=>{})};function Ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function V$(t,e){const n=w.createContext(e),r=o=>{const{children:i,...c}=o,u=w.useMemo(()=>c,Object.values(c));return l.jsx(n.Provider,{value:u,children:i})};r.displayName=t+"Provider";function s(o){const i=w.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function rr(t,e=[]){let n=[];function r(o,i){const c=w.createContext(i),u=n.length;n=[...n,i];const h=m=>{const{scope:g,children:y,...v}=m,b=g?.[t]?.[u]||c,k=w.useMemo(()=>v,Object.values(v));return l.jsx(b.Provider,{value:k,children:y})};h.displayName=o+"Provider";function f(m,g){const y=g?.[t]?.[u]||c,v=w.useContext(y);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[h,f]}const s=()=>{const o=n.map(i=>w.createContext(i));return function(c){const u=c?.[t]||o;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[r,q$(s,...e)]}function q$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((c,{useScope:u,scopeName:h})=>{const m=u(o)[`__scope${h}`];return{...c,...m}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var Yt=globalThis?.document?w.useLayoutEffect:()=>{},Y$=lj[" useInsertionEffect ".trim().toString()]||Yt;function xo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,i]=K$({defaultProp:e,onChange:n}),c=t!==void 0,u=c?t:s;{const f=w.useRef(t!==void 0);w.useEffect(()=>{const m=f.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,r])}const h=w.useCallback(f=>{if(c){const m=X$(f)?f(t):f;m!==t&&i.current?.(m)}else o(f)},[c,t,o,i]);return[u,h]}function K$({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),s=w.useRef(n),o=w.useRef(e);return Y$(()=>{o.current=e},[e]),w.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,r,o]}function X$(t){return typeof t=="function"}function z0(t){const e=t+"CollectionProvider",[n,r]=rr(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=b=>{const{scope:k,children:C}=b,_=Se.useRef(null),T=Se.useRef(new Map).current;return l.jsx(s,{scope:k,itemMap:T,collectionRef:_,children:C})};i.displayName=e;const c=t+"CollectionSlot",u=vi(c),h=Se.forwardRef((b,k)=>{const{scope:C,children:_}=b,T=o(c,C),N=Ge(k,T.collectionRef);return l.jsx(u,{ref:N,children:_})});h.displayName=c;const f=t+"CollectionItemSlot",m="data-radix-collection-item",g=vi(f),y=Se.forwardRef((b,k)=>{const{scope:C,children:_,...T}=b,N=Se.useRef(null),j=Ge(k,N),P=o(f,C);return Se.useEffect(()=>(P.itemMap.set(N,{ref:N,...T}),()=>void P.itemMap.delete(N))),l.jsx(g,{[m]:"",ref:j,children:_})});y.displayName=f;function v(b){const k=o(t+"CollectionConsumer",b);return Se.useCallback(()=>{const _=k.collectionRef.current;if(!_)return[];const T=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(k.itemMap.values()).sort((P,I)=>T.indexOf(P.ref.current)-T.indexOf(I.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:i,Slot:h,ItemSlot:y},v,r]}var G$=w.createContext(void 0);function fu(t){const e=w.useContext(G$);return t||e||"ltr"}function pn(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}function J$(t,e=globalThis?.document){const n=pn(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Q$="DismissableLayer",Ey="dismissableLayer.update",Z$="dismissableLayer.pointerDownOutside",e9="dismissableLayer.focusOutside",r_,CT=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pu=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:c,...u}=t,h=w.useContext(CT),[f,m]=w.useState(null),g=f?.ownerDocument??globalThis?.document,[,y]=w.useState({}),v=Ge(e,I=>m(I)),b=Array.from(h.layers),[k]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),C=b.indexOf(k),_=f?b.indexOf(f):-1,T=h.layersWithOutsidePointerEventsDisabled.size>0,N=_>=C,j=r9(I=>{const O=I.target,L=[...h.branches].some($=>$.contains(O));!N||L||(s?.(I),i?.(I),I.defaultPrevented||c?.())},g),P=s9(I=>{const O=I.target;[...h.branches].some($=>$.contains(O))||(o?.(I),i?.(I),I.defaultPrevented||c?.())},g);return J$(I=>{_===h.layers.size-1&&(r?.(I),!I.defaultPrevented&&c&&(I.preventDefault(),c()))},g),w.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(r_=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),s_(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=r_)}},[f,g,n,h]),w.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),s_())},[f,h]),w.useEffect(()=>{const I=()=>y({});return document.addEventListener(Ey,I),()=>document.removeEventListener(Ey,I)},[]),l.jsx(De.div,{...u,ref:v,style:{pointerEvents:T?N?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,j.onPointerDownCapture)})});pu.displayName=Q$;var t9="DismissableLayerBranch",n9=w.forwardRef((t,e)=>{const n=w.useContext(CT),r=w.useRef(null),s=Ge(e,r);return w.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(De.div,{...t,ref:s})});n9.displayName=t9;function r9(t,e=globalThis?.document){const n=pn(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let u=function(){_T(Z$,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function s9(t,e=globalThis?.document){const n=pn(t),r=w.useRef(!1);return w.useEffect(()=>{const s=o=>{o.target&&!r.current&&_T(e9,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function s_(){const t=new CustomEvent(Ey);document.dispatchEvent(t)}function _T(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Fj(s,o):s.dispatchEvent(o)}var mv=0;function pm(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??o_()),document.body.insertAdjacentElement("beforeend",t[1]??o_()),mv++,()=>{mv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),mv--}},[])}function o_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gv="focusScope.autoFocusOnMount",xv="focusScope.autoFocusOnUnmount",i_={bubbles:!1,cancelable:!0},o9="FocusScope",mu=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[c,u]=w.useState(null),h=pn(s),f=pn(o),m=w.useRef(null),g=Ge(e,b=>u(b)),y=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let b=function(T){if(y.paused||!c)return;const N=T.target;c.contains(N)?m.current=N:Zo(m.current,{select:!0})},k=function(T){if(y.paused||!c)return;const N=T.relatedTarget;N!==null&&(c.contains(N)||Zo(m.current,{select:!0}))},C=function(T){if(document.activeElement===document.body)for(const j of T)j.removedNodes.length>0&&Zo(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",k);const _=new MutationObserver(C);return c&&_.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",k),_.disconnect()}}},[r,c,y.paused]),w.useEffect(()=>{if(c){l_.add(y);const b=document.activeElement;if(!c.contains(b)){const C=new CustomEvent(gv,i_);c.addEventListener(gv,h),c.dispatchEvent(C),C.defaultPrevented||(i9(u9(ET(c)),{select:!0}),document.activeElement===b&&Zo(c))}return()=>{c.removeEventListener(gv,h),setTimeout(()=>{const C=new CustomEvent(xv,i_);c.addEventListener(xv,f),c.dispatchEvent(C),C.defaultPrevented||Zo(b??document.body,{select:!0}),c.removeEventListener(xv,f),l_.remove(y)},0)}}},[c,h,f,y]);const v=w.useCallback(b=>{if(!n&&!r||y.paused)return;const k=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,C=document.activeElement;if(k&&C){const _=b.currentTarget,[T,N]=a9(_);T&&N?!b.shiftKey&&C===N?(b.preventDefault(),n&&Zo(T,{select:!0})):b.shiftKey&&C===T&&(b.preventDefault(),n&&Zo(N,{select:!0})):C===_&&b.preventDefault()}},[n,r,y.paused]);return l.jsx(De.div,{tabIndex:-1,...i,ref:g,onKeyDown:v})});mu.displayName=o9;function i9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Zo(r,{select:e}),document.activeElement!==n)return}function a9(t){const e=ET(t),n=a_(e,t),r=a_(e.reverse(),t);return[n,r]}function ET(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function a_(t,e){for(const n of t)if(!l9(n,{upTo:e}))return n}function l9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function c9(t){return t instanceof HTMLInputElement&&"select"in t}function Zo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&c9(t)&&e&&t.select()}}var l_=d9();function d9(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=c_(t,e),t.unshift(e)},remove(e){t=c_(t,e),t[0]?.resume()}}}function c_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function u9(t){return t.filter(e=>e.tagName!=="A")}var h9=lj[" useId ".trim().toString()]||(()=>{}),f9=0;function ss(t){const[e,n]=w.useState(h9());return Yt(()=>{n(r=>r??String(f9++))},[t]),t||(e?`radix-${e}`:"")}const p9=["top","right","bottom","left"],bi=Math.min,fr=Math.max,lp=Math.round,qh=Math.floor,Os=t=>({x:t,y:t}),m9={left:"right",right:"left",bottom:"top",top:"bottom"},g9={start:"end",end:"start"};function Ny(t,e,n){return fr(t,bi(e,n))}function vo(t,e){return typeof t=="function"?t(e):t}function yo(t){return t.split("-")[0]}function oc(t){return t.split("-")[1]}function U0(t){return t==="x"?"y":"x"}function H0(t){return t==="y"?"height":"width"}const x9=new Set(["top","bottom"]);function js(t){return x9.has(yo(t))?"y":"x"}function W0(t){return U0(js(t))}function v9(t,e,n){n===void 0&&(n=!1);const r=oc(t),s=W0(t),o=H0(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=cp(i)),[i,cp(i)]}function y9(t){const e=cp(t);return[jy(t),e,jy(e)]}function jy(t){return t.replace(/start|end/g,e=>g9[e])}const d_=["left","right"],u_=["right","left"],b9=["top","bottom"],w9=["bottom","top"];function k9(t,e,n){switch(t){case"top":case"bottom":return n?e?u_:d_:e?d_:u_;case"left":case"right":return e?b9:w9;default:return[]}}function S9(t,e,n,r){const s=oc(t);let o=k9(yo(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(jy)))),o}function cp(t){return t.replace(/left|right|bottom|top/g,e=>m9[e])}function C9(t){return{top:0,right:0,bottom:0,left:0,...t}}function NT(t){return typeof t!="number"?C9(t):{top:t,right:t,bottom:t,left:t}}function dp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function h_(t,e,n){let{reference:r,floating:s}=t;const o=js(e),i=W0(e),c=H0(i),u=yo(e),h=o==="y",f=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,g=r[c]/2-s[c]/2;let y;switch(u){case"top":y={x:f,y:r.y-s.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-s.width,y:m};break;default:y={x:r.x,y:r.y}}switch(oc(e)){case"start":y[i]-=g*(n&&h?-1:1);break;case"end":y[i]+=g*(n&&h?-1:1);break}return y}const _9=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,c=o.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(e));let h=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:m}=h_(h,r,u),g=r,y={},v=0;for(let b=0;b<c.length;b++){const{name:k,fn:C}=c[b],{x:_,y:T,data:N,reset:j}=await C({x:f,y:m,initialPlacement:r,placement:g,strategy:s,middlewareData:y,rects:h,platform:i,elements:{reference:t,floating:e}});f=_??f,m=T??m,y={...y,[k]:{...y[k],...N}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(g=j.placement),j.rects&&(h=j.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:f,y:m}=h_(h,g,u)),b=-1)}return{x:f,y:m,placement:g,strategy:s,middlewareData:y}};async function Id(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:c,strategy:u}=t,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=vo(e,t),v=NT(y),k=c[g?m==="floating"?"reference":"floating":m],C=dp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(k)))==null||n?k:k.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:f,strategy:u})),_=m==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),N=await(o.isElement==null?void 0:o.isElement(T))?await(o.getScale==null?void 0:o.getScale(T))||{x:1,y:1}:{x:1,y:1},j=dp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:_,offsetParent:T,strategy:u}):_);return{top:(C.top-j.top+v.top)/N.y,bottom:(j.bottom-C.bottom+v.bottom)/N.y,left:(C.left-j.left+v.left)/N.x,right:(j.right-C.right+v.right)/N.x}}const E9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:c,middlewareData:u}=e,{element:h,padding:f=0}=vo(t,e)||{};if(h==null)return{};const m=NT(f),g={x:n,y:r},y=W0(s),v=H0(y),b=await i.getDimensions(h),k=y==="y",C=k?"top":"left",_=k?"bottom":"right",T=k?"clientHeight":"clientWidth",N=o.reference[v]+o.reference[y]-g[y]-o.floating[v],j=g[y]-o.reference[y],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(h));let I=P?P[T]:0;(!I||!await(i.isElement==null?void 0:i.isElement(P)))&&(I=c.floating[T]||o.floating[v]);const O=N/2-j/2,L=I/2-b[v]/2-1,$=bi(m[C],L),V=bi(m[_],L),Q=$,K=I-b[v]-V,se=I/2-b[v]/2+O,ne=Ny(Q,se,K),W=!u.arrow&&oc(s)!=null&&se!==ne&&o.reference[v]/2-(se<Q?$:V)-b[v]/2<0,U=W?se<Q?se-Q:se-K:0;return{[y]:g[y]+U,data:{[y]:ne,centerOffset:se-ne-U,...W&&{alignmentOffset:U}},reset:W}}}),N9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:c,platform:u,elements:h}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:b=!0,...k}=vo(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const C=yo(s),_=js(c),T=yo(c)===c,N=await(u.isRTL==null?void 0:u.isRTL(h.floating)),j=g||(T||!b?[cp(c)]:y9(c)),P=v!=="none";!g&&P&&j.push(...S9(c,b,v,N));const I=[c,...j],O=await Id(e,k),L=[];let $=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&L.push(O[C]),m){const se=v9(s,i,N);L.push(O[se[0]],O[se[1]])}if($=[...$,{placement:s,overflows:L}],!L.every(se=>se<=0)){var V,Q;const se=(((V=o.flip)==null?void 0:V.index)||0)+1,ne=I[se];if(ne&&(!(m==="alignment"?_!==js(ne):!1)||$.every(R=>js(R.placement)===_?R.overflows[0]>0:!0)))return{data:{index:se,overflows:$},reset:{placement:ne}};let W=(Q=$.filter(U=>U.overflows[0]<=0).sort((U,R)=>U.overflows[1]-R.overflows[1])[0])==null?void 0:Q.placement;if(!W)switch(y){case"bestFit":{var K;const U=(K=$.filter(R=>{if(P){const D=js(R.placement);return D===_||D==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(D=>D>0).reduce((D,Z)=>D+Z,0)]).sort((R,D)=>R[1]-D[1])[0])==null?void 0:K[0];U&&(W=U);break}case"initialPlacement":W=c;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function f_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function p_(t){return p9.some(e=>t[e]>=0)}const j9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=vo(t,e);switch(r){case"referenceHidden":{const o=await Id(e,{...s,elementContext:"reference"}),i=f_(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:p_(i)}}}case"escaped":{const o=await Id(e,{...s,altBoundary:!0}),i=f_(o,n.floating);return{data:{escapedOffsets:i,escaped:p_(i)}}}default:return{}}}}},jT=new Set(["left","top"]);async function T9(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=yo(n),c=oc(n),u=js(n)==="y",h=jT.has(i)?-1:1,f=o&&u?-1:1,m=vo(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof v=="number"&&(y=c==="end"?v*-1:v),u?{x:y*f,y:g*h}:{x:g*h,y:y*f}}const M9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:c}=e,u=await T9(e,t);return i===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:o+u.y,data:{...u,placement:i}}}}},O9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:c={fn:k=>{let{x:C,y:_}=k;return{x:C,y:_}}},...u}=vo(t,e),h={x:n,y:r},f=await Id(e,u),m=js(yo(s)),g=U0(m);let y=h[g],v=h[m];if(o){const k=g==="y"?"top":"left",C=g==="y"?"bottom":"right",_=y+f[k],T=y-f[C];y=Ny(_,y,T)}if(i){const k=m==="y"?"top":"left",C=m==="y"?"bottom":"right",_=v+f[k],T=v-f[C];v=Ny(_,v,T)}const b=c.fn({...e,[g]:y,[m]:v});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[g]:o,[m]:i}}}}}},P9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=vo(t,e),f={x:n,y:r},m=js(s),g=U0(m);let y=f[g],v=f[m];const b=vo(c,e),k=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const T=g==="y"?"height":"width",N=o.reference[g]-o.floating[T]+k.mainAxis,j=o.reference[g]+o.reference[T]-k.mainAxis;y<N?y=N:y>j&&(y=j)}if(h){var C,_;const T=g==="y"?"width":"height",N=jT.has(yo(s)),j=o.reference[m]-o.floating[T]+(N&&((C=i.offset)==null?void 0:C[m])||0)+(N?0:k.crossAxis),P=o.reference[m]+o.reference[T]+(N?0:((_=i.offset)==null?void 0:_[m])||0)-(N?k.crossAxis:0);v<j?v=j:v>P&&(v=P)}return{[g]:y,[m]:v}}}},A9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:c}=e,{apply:u=()=>{},...h}=vo(t,e),f=await Id(e,h),m=yo(s),g=oc(s),y=js(s)==="y",{width:v,height:b}=o.floating;let k,C;m==="top"||m==="bottom"?(k=m,C=g===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(C=m,k=g==="end"?"top":"bottom");const _=b-f.top-f.bottom,T=v-f.left-f.right,N=bi(b-f[k],_),j=bi(v-f[C],T),P=!e.middlewareData.shift;let I=N,O=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=_),P&&!g){const $=fr(f.left,0),V=fr(f.right,0),Q=fr(f.top,0),K=fr(f.bottom,0);y?O=v-2*($!==0||V!==0?$+V:fr(f.left,f.right)):I=b-2*(Q!==0||K!==0?Q+K:fr(f.top,f.bottom))}await u({...e,availableWidth:O,availableHeight:I});const L=await i.getDimensions(c.floating);return v!==L.width||b!==L.height?{reset:{rects:!0}}:{}}}};function mm(){return typeof window<"u"}function ic(t){return TT(t)?(t.nodeName||"").toLowerCase():"#document"}function xr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zs(t){var e;return(e=(TT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function TT(t){return mm()?t instanceof Node||t instanceof xr(t).Node:!1}function is(t){return mm()?t instanceof Element||t instanceof xr(t).Element:!1}function Ds(t){return mm()?t instanceof HTMLElement||t instanceof xr(t).HTMLElement:!1}function m_(t){return!mm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xr(t).ShadowRoot}const R9=new Set(["inline","contents"]);function gu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=as(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!R9.has(s)}const I9=new Set(["table","td","th"]);function D9(t){return I9.has(ic(t))}const L9=[":popover-open",":modal"];function gm(t){return L9.some(e=>{try{return t.matches(e)}catch{return!1}})}const B9=["transform","translate","scale","rotate","perspective"],F9=["transform","translate","scale","rotate","perspective","filter"],$9=["paint","layout","strict","content"];function V0(t){const e=q0(),n=is(t)?as(t):t;return B9.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||F9.some(r=>(n.willChange||"").includes(r))||$9.some(r=>(n.contain||"").includes(r))}function z9(t){let e=wi(t);for(;Ds(e)&&!Fl(e);){if(V0(e))return e;if(gm(e))return null;e=wi(e)}return null}function q0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const U9=new Set(["html","body","#document"]);function Fl(t){return U9.has(ic(t))}function as(t){return xr(t).getComputedStyle(t)}function xm(t){return is(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wi(t){if(ic(t)==="html")return t;const e=t.assignedSlot||t.parentNode||m_(t)&&t.host||zs(t);return m_(e)?e.host:e}function MT(t){const e=wi(t);return Fl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ds(e)&&gu(e)?e:MT(e)}function Dd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=MT(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=xr(s);if(o){const c=Ty(i);return e.concat(i,i.visualViewport||[],gu(s)?s:[],c&&n?Dd(c):[])}return e.concat(s,Dd(s,[],n))}function Ty(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function OT(t){const e=as(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ds(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,c=lp(n)!==o||lp(r)!==i;return c&&(n=o,r=i),{width:n,height:r,$:c}}function Y0(t){return is(t)?t:t.contextElement}function El(t){const e=Y0(t);if(!Ds(e))return Os(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=OT(e);let i=(o?lp(n.width):n.width)/r,c=(o?lp(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const H9=Os(0);function PT(t){const e=xr(t);return!q0()||!e.visualViewport?H9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function W9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xr(t)?!1:e}function xa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=Y0(t);let i=Os(1);e&&(r?is(r)&&(i=El(r)):i=El(t));const c=W9(o,n,r)?PT(o):Os(0);let u=(s.left+c.x)/i.x,h=(s.top+c.y)/i.y,f=s.width/i.x,m=s.height/i.y;if(o){const g=xr(o),y=r&&is(r)?xr(r):r;let v=g,b=Ty(v);for(;b&&r&&y!==v;){const k=El(b),C=b.getBoundingClientRect(),_=as(b),T=C.left+(b.clientLeft+parseFloat(_.paddingLeft))*k.x,N=C.top+(b.clientTop+parseFloat(_.paddingTop))*k.y;u*=k.x,h*=k.y,f*=k.x,m*=k.y,u+=T,h+=N,v=xr(b),b=Ty(v)}}return dp({width:f,height:m,x:u,y:h})}function vm(t,e){const n=xm(t).scrollLeft;return e?e.left+n:xa(zs(t)).left+n}function AT(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-vm(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function V9(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=zs(r),c=e?gm(e.floating):!1;if(r===i||c&&o)return n;let u={scrollLeft:0,scrollTop:0},h=Os(1);const f=Os(0),m=Ds(r);if((m||!m&&!o)&&((ic(r)!=="body"||gu(i))&&(u=xm(r)),Ds(r))){const y=xa(r);h=El(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const g=i&&!m&&!o?AT(i,u):Os(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-u.scrollLeft*h.x+f.x+g.x,y:n.y*h.y-u.scrollTop*h.y+f.y+g.y}}function q9(t){return Array.from(t.getClientRects())}function Y9(t){const e=zs(t),n=xm(t),r=t.ownerDocument.body,s=fr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=fr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+vm(t);const c=-n.scrollTop;return as(r).direction==="rtl"&&(i+=fr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:c}}const g_=25;function K9(t,e){const n=xr(t),r=zs(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,c=0,u=0;if(s){o=s.width,i=s.height;const f=q0();(!f||f&&e==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}const h=vm(r);if(h<=0){const f=r.ownerDocument,m=f.body,g=getComputedStyle(m),y=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,v=Math.abs(r.clientWidth-m.clientWidth-y);v<=g_&&(o-=v)}else h<=g_&&(o+=h);return{width:o,height:i,x:c,y:u}}const X9=new Set(["absolute","fixed"]);function G9(t,e){const n=xa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Ds(t)?El(t):Os(1),i=t.clientWidth*o.x,c=t.clientHeight*o.y,u=s*o.x,h=r*o.y;return{width:i,height:c,x:u,y:h}}function x_(t,e,n){let r;if(e==="viewport")r=K9(t,n);else if(e==="document")r=Y9(zs(t));else if(is(e))r=G9(e,n);else{const s=PT(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return dp(r)}function RT(t,e){const n=wi(t);return n===e||!is(n)||Fl(n)?!1:as(n).position==="fixed"||RT(n,e)}function J9(t,e){const n=e.get(t);if(n)return n;let r=Dd(t,[],!1).filter(c=>is(c)&&ic(c)!=="body"),s=null;const o=as(t).position==="fixed";let i=o?wi(t):t;for(;is(i)&&!Fl(i);){const c=as(i),u=V0(i);!u&&c.position==="fixed"&&(s=null),(o?!u&&!s:!u&&c.position==="static"&&!!s&&X9.has(s.position)||gu(i)&&!u&&RT(t,i))?r=r.filter(f=>f!==i):s=c,i=wi(i)}return e.set(t,r),r}function Q9(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?gm(e)?[]:J9(e,this._c):[].concat(n),r],c=i[0],u=i.reduce((h,f)=>{const m=x_(e,f,s);return h.top=fr(m.top,h.top),h.right=bi(m.right,h.right),h.bottom=bi(m.bottom,h.bottom),h.left=fr(m.left,h.left),h},x_(e,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Z9(t){const{width:e,height:n}=OT(t);return{width:e,height:n}}function e7(t,e,n){const r=Ds(e),s=zs(e),o=n==="fixed",i=xa(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const u=Os(0);function h(){u.x=vm(s)}if(r||!r&&!o)if((ic(e)!=="body"||gu(s))&&(c=xm(e)),r){const y=xa(e,!0,o,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else s&&h();o&&!r&&s&&h();const f=s&&!r&&!o?AT(s,c):Os(0),m=i.left+c.scrollLeft-u.x-f.x,g=i.top+c.scrollTop-u.y-f.y;return{x:m,y:g,width:i.width,height:i.height}}function vv(t){return as(t).position==="static"}function v_(t,e){if(!Ds(t)||as(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return zs(t)===n&&(n=n.ownerDocument.body),n}function IT(t,e){const n=xr(t);if(gm(t))return n;if(!Ds(t)){let s=wi(t);for(;s&&!Fl(s);){if(is(s)&&!vv(s))return s;s=wi(s)}return n}let r=v_(t,e);for(;r&&D9(r)&&vv(r);)r=v_(r,e);return r&&Fl(r)&&vv(r)&&!V0(r)?n:r||z9(t)||n}const t7=async function(t){const e=this.getOffsetParent||IT,n=this.getDimensions,r=await n(t.floating);return{reference:e7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n7(t){return as(t).direction==="rtl"}const r7={convertOffsetParentRelativeRectToViewportRelativeRect:V9,getDocumentElement:zs,getClippingRect:Q9,getOffsetParent:IT,getElementRects:t7,getClientRects:q9,getDimensions:Z9,getScale:El,isElement:is,isRTL:n7};function DT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function s7(t,e){let n=null,r;const s=zs(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function i(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),o();const h=t.getBoundingClientRect(),{left:f,top:m,width:g,height:y}=h;if(c||e(),!g||!y)return;const v=qh(m),b=qh(s.clientWidth-(f+g)),k=qh(s.clientHeight-(m+y)),C=qh(f),T={rootMargin:-v+"px "+-b+"px "+-k+"px "+-C+"px",threshold:fr(0,bi(1,u))||1};let N=!0;function j(P){const I=P[0].intersectionRatio;if(I!==u){if(!N)return i();I?i(!1,I):r=setTimeout(()=>{i(!1,1e-7)},1e3)}I===1&&!DT(h,t.getBoundingClientRect())&&i(),N=!1}try{n=new IntersectionObserver(j,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,T)}n.observe(t)}return i(!0),o}function o7(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,h=Y0(t),f=s||o?[...h?Dd(h):[],...Dd(e)]:[];f.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),o&&C.addEventListener("resize",n)});const m=h&&c?s7(h,n):null;let g=-1,y=null;i&&(y=new ResizeObserver(C=>{let[_]=C;_&&_.target===h&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),h&&!u&&y.observe(h),y.observe(e));let v,b=u?xa(t):null;u&&k();function k(){const C=xa(t);b&&!DT(b,C)&&n(),b=C,v=requestAnimationFrame(k)}return n(),()=>{var C;f.forEach(_=>{s&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),m?.(),(C=y)==null||C.disconnect(),y=null,u&&cancelAnimationFrame(v)}}const i7=M9,a7=O9,l7=N9,c7=A9,d7=j9,y_=E9,u7=P9,h7=(t,e,n)=>{const r=new Map,s={platform:r7,...n},o={...s.platform,_c:r};return _9(t,e,{...s,platform:o})};var f7=typeof document<"u",p7=function(){},Mf=f7?w.useLayoutEffect:p7;function up(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!up(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!up(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function LT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function b_(t,e){const n=LT(t);return Math.round(e*n)/n}function yv(t){const e=w.useRef(t);return Mf(()=>{e.current=t}),e}function m7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:c=!0,whileElementsMounted:u,open:h}=t,[f,m]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=w.useState(r);up(g,r)||y(r);const[v,b]=w.useState(null),[k,C]=w.useState(null),_=w.useCallback(R=>{R!==P.current&&(P.current=R,b(R))},[]),T=w.useCallback(R=>{R!==I.current&&(I.current=R,C(R))},[]),N=o||v,j=i||k,P=w.useRef(null),I=w.useRef(null),O=w.useRef(f),L=u!=null,$=yv(u),V=yv(s),Q=yv(h),K=w.useCallback(()=>{if(!P.current||!I.current)return;const R={placement:e,strategy:n,middleware:g};V.current&&(R.platform=V.current),h7(P.current,I.current,R).then(D=>{const Z={...D,isPositioned:Q.current!==!1};se.current&&!up(O.current,Z)&&(O.current=Z,au.flushSync(()=>{m(Z)}))})},[g,e,n,V,Q]);Mf(()=>{h===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,m(R=>({...R,isPositioned:!1})))},[h]);const se=w.useRef(!1);Mf(()=>(se.current=!0,()=>{se.current=!1}),[]),Mf(()=>{if(N&&(P.current=N),j&&(I.current=j),N&&j){if($.current)return $.current(N,j,K);K()}},[N,j,K,$,L]);const ne=w.useMemo(()=>({reference:P,floating:I,setReference:_,setFloating:T}),[_,T]),W=w.useMemo(()=>({reference:N,floating:j}),[N,j]),U=w.useMemo(()=>{const R={position:n,left:0,top:0};if(!W.floating)return R;const D=b_(W.floating,f.x),Z=b_(W.floating,f.y);return c?{...R,transform:"translate("+D+"px, "+Z+"px)",...LT(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:Z}},[n,c,W.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:K,refs:ne,elements:W,floatingStyles:U}),[f,K,ne,W,U])}const g7=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?y_({element:r.current,padding:s}).fn(n):{}:r?y_({element:r,padding:s}).fn(n):{}}}},x7=(t,e)=>({...i7(t),options:[t,e]}),v7=(t,e)=>({...a7(t),options:[t,e]}),y7=(t,e)=>({...u7(t),options:[t,e]}),b7=(t,e)=>({...l7(t),options:[t,e]}),w7=(t,e)=>({...c7(t),options:[t,e]}),k7=(t,e)=>({...d7(t),options:[t,e]}),S7=(t,e)=>({...g7(t),options:[t,e]});var C7="Arrow",BT=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return l.jsx(De.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});BT.displayName=C7;var _7=BT;function K0(t){const[e,n]=w.useState(void 0);return Yt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,c;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;i=h.inlineSize,c=h.blockSize}else i=t.offsetWidth,c=t.offsetHeight;n({width:i,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var X0="Popper",[FT,ac]=rr(X0),[E7,$T]=FT(X0),zT=t=>{const{__scopePopper:e,children:n}=t,[r,s]=w.useState(null);return l.jsx(E7,{scope:e,anchor:r,onAnchorChange:s,children:n})};zT.displayName=X0;var UT="PopperAnchor",HT=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=$T(UT,n),i=w.useRef(null),c=Ge(e,i),u=w.useRef(null);return w.useEffect(()=>{const h=u.current;u.current=r?.current||i.current,h!==u.current&&o.onAnchorChange(u.current)}),r?null:l.jsx(De.div,{...s,ref:c})});HT.displayName=UT;var G0="PopperContent",[N7,j7]=FT(G0),WT=w.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:v,...b}=t,k=$T(G0,n),[C,_]=w.useState(null),T=Ge(e,X=>_(X)),[N,j]=w.useState(null),P=K0(N),I=P?.width??0,O=P?.height??0,L=r+(o!=="center"?"-"+o:""),$=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},V=Array.isArray(h)?h:[h],Q=V.length>0,K={padding:$,boundary:V.filter(M7),altBoundary:Q},{refs:se,floatingStyles:ne,placement:W,isPositioned:U,middlewareData:R}=m7({strategy:"fixed",placement:L,whileElementsMounted:(...X)=>o7(...X,{animationFrame:y==="always"}),elements:{reference:k.anchor},middleware:[x7({mainAxis:s+O,alignmentAxis:i}),u&&v7({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?y7():void 0,...K}),u&&b7({...K}),w7({...K,apply:({elements:X,rects:H,availableWidth:F,availableHeight:J})=>{const{width:me,height:ve}=H.reference,ue=X.floating.style;ue.setProperty("--radix-popper-available-width",`${F}px`),ue.setProperty("--radix-popper-available-height",`${J}px`),ue.setProperty("--radix-popper-anchor-width",`${me}px`),ue.setProperty("--radix-popper-anchor-height",`${ve}px`)}}),N&&S7({element:N,padding:c}),O7({arrowWidth:I,arrowHeight:O}),g&&k7({strategy:"referenceHidden",...K})]}),[D,Z]=YT(W),M=pn(v);Yt(()=>{U&&M?.()},[U,M]);const B=R.arrow?.x,q=R.arrow?.y,ee=R.arrow?.centerOffset!==0,[ie,ce]=w.useState();return Yt(()=>{C&&ce(window.getComputedStyle(C).zIndex)},[C]),l.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:U?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(N7,{scope:n,placedSide:D,onArrowChange:j,arrowX:B,arrowY:q,shouldHideArrow:ee,children:l.jsx(De.div,{"data-side":D,"data-align":Z,...b,ref:T,style:{...b.style,animation:U?void 0:"none"}})})})});WT.displayName=G0;var VT="PopperArrow",T7={top:"bottom",right:"left",bottom:"top",left:"right"},qT=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=j7(VT,r),i=T7[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(_7,{...s,ref:n,style:{...s.style,display:"block"}})})});qT.displayName=VT;function M7(t){return t!==null}var O7=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,i=s.arrow?.centerOffset!==0,c=i?0:t.arrowWidth,u=i?0:t.arrowHeight,[h,f]=YT(n),m={start:"0%",center:"50%",end:"100%"}[f],g=(s.arrow?.x??0)+c/2,y=(s.arrow?.y??0)+u/2;let v="",b="";return h==="bottom"?(v=i?m:`${g}px`,b=`${-u}px`):h==="top"?(v=i?m:`${g}px`,b=`${r.floating.height+u}px`):h==="right"?(v=`${-u}px`,b=i?m:`${y}px`):h==="left"&&(v=`${r.floating.width+u}px`,b=i?m:`${y}px`),{data:{x:v,y:b}}}});function YT(t){const[e,n="center"]=t.split("-");return[e,n]}var J0=zT,ym=HT,Q0=WT,Z0=qT,P7="Portal",xu=w.forwardRef((t,e)=>{const{container:n,...r}=t,[s,o]=w.useState(!1);Yt(()=>o(!0),[]);const i=n||s&&globalThis?.document?.body;return i?_j.createPortal(l.jsx(De.div,{...r,ref:e}),i):null});xu.displayName=P7;function A7(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var An=t=>{const{present:e,children:n}=t,r=R7(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),o=Ge(r.ref,I7(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:o}):null};An.displayName="Presence";function R7(t){const[e,n]=w.useState(),r=w.useRef(null),s=w.useRef(t),o=w.useRef("none"),i=t?"mounted":"unmounted",[c,u]=A7(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=Yh(r.current);o.current=c==="mounted"?h:"none"},[c]),Yt(()=>{const h=r.current,f=s.current;if(f!==t){const g=o.current,y=Yh(h);t?u("MOUNT"):y==="none"||h?.display==="none"?u("UNMOUNT"):u(f&&g!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Yt(()=>{if(e){let h;const f=e.ownerDocument.defaultView??window,m=y=>{const b=Yh(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&b&&(u("ANIMATION_END"),!s.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",h=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},g=y=>{y.target===e&&(o.current=Yh(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(h),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Yh(t){return t?.animationName||"none"}function I7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var bv="rovingFocusGroup.onEntryFocus",D7={bubbles:!1,cancelable:!0},vu="RovingFocusGroup",[My,KT,L7]=z0(vu),[B7,bm]=rr(vu,[L7]),[F7,$7]=B7(vu),XT=w.forwardRef((t,e)=>l.jsx(My.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(My.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(z7,{...t,ref:e})})}));XT.displayName=vu;var z7=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...m}=t,g=w.useRef(null),y=Ge(e,g),v=fu(o),[b,k]=xo({prop:i,defaultProp:c??null,onChange:u,caller:vu}),[C,_]=w.useState(!1),T=pn(h),N=KT(n),j=w.useRef(!1),[P,I]=w.useState(0);return w.useEffect(()=>{const O=g.current;if(O)return O.addEventListener(bv,T),()=>O.removeEventListener(bv,T)},[T]),l.jsx(F7,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:b,onItemFocus:w.useCallback(O=>k(O),[k]),onItemShiftTab:w.useCallback(()=>_(!0),[]),onFocusableItemAdd:w.useCallback(()=>I(O=>O+1),[]),onFocusableItemRemove:w.useCallback(()=>I(O=>O-1),[]),children:l.jsx(De.div,{tabIndex:C||P===0?-1:0,"data-orientation":r,...m,ref:y,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{j.current=!0}),onFocus:Ee(t.onFocus,O=>{const L=!j.current;if(O.target===O.currentTarget&&L&&!C){const $=new CustomEvent(bv,D7);if(O.currentTarget.dispatchEvent($),!$.defaultPrevented){const V=N().filter(W=>W.focusable),Q=V.find(W=>W.active),K=V.find(W=>W.id===b),ne=[Q,K,...V].filter(Boolean).map(W=>W.ref.current);QT(ne,f)}}j.current=!1}),onBlur:Ee(t.onBlur,()=>_(!1))})})}),GT="RovingFocusGroupItem",JT=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...c}=t,u=ss(),h=o||u,f=$7(GT,n),m=f.currentTabStopId===h,g=KT(n),{onFocusableItemAdd:y,onFocusableItemRemove:v,currentTabStopId:b}=f;return w.useEffect(()=>{if(r)return y(),()=>v()},[r,y,v]),l.jsx(My.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:l.jsx(De.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...c,ref:e,onMouseDown:Ee(t.onMouseDown,k=>{r?f.onItemFocus(h):k.preventDefault()}),onFocus:Ee(t.onFocus,()=>f.onItemFocus(h)),onKeyDown:Ee(t.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){f.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const C=W7(k,f.orientation,f.dir);if(C!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let T=g().filter(N=>N.focusable).map(N=>N.ref.current);if(C==="last")T.reverse();else if(C==="prev"||C==="next"){C==="prev"&&T.reverse();const N=T.indexOf(k.currentTarget);T=f.loop?V7(T,N+1):T.slice(N+1)}setTimeout(()=>QT(T))}}),children:typeof i=="function"?i({isCurrentTabStop:m,hasTabStop:b!=null}):i})})});JT.displayName=GT;var U7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function H7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function W7(t,e,n){const r=H7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return U7[r]}function QT(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function V7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ZT=XT,eM=JT,q7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ul=new WeakMap,Kh=new WeakMap,Xh={},wv=0,tM=function(t){return t&&(t.host||tM(t.parentNode))},Y7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=tM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},K7=function(t,e,n,r){var s=Y7(e,Array.isArray(t)?t:[t]);Xh[n]||(Xh[n]=new WeakMap);var o=Xh[n],i=[],c=new Set,u=new Set(s),h=function(m){!m||c.has(m)||(c.add(m),h(m.parentNode))};s.forEach(h);var f=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(g){if(c.has(g))f(g);else try{var y=g.getAttribute(r),v=y!==null&&y!=="false",b=(ul.get(g)||0)+1,k=(o.get(g)||0)+1;ul.set(g,b),o.set(g,k),i.push(g),b===1&&v&&Kh.set(g,!0),k===1&&g.setAttribute(n,"true"),v||g.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",g,C)}})};return f(e),c.clear(),wv++,function(){i.forEach(function(m){var g=ul.get(m)-1,y=o.get(m)-1;ul.set(m,g),o.set(m,y),g||(Kh.has(m)||m.removeAttribute(r),Kh.delete(m)),y||m.removeAttribute(n)}),wv--,wv||(ul=new WeakMap,ul=new WeakMap,Kh=new WeakMap,Xh={})}},wm=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=q7(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),K7(r,s,n,"aria-hidden")):function(){return null}},Es=function(){return Es=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Es.apply(this,arguments)};function nM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function X7(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Of="right-scroll-bar-position",Pf="width-before-scroll-bar",G7="with-scroll-bars-hidden",J7="--removed-body-scroll-bar-size";function kv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Q7(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Z7=typeof window<"u"?w.useLayoutEffect:w.useEffect,w_=new WeakMap;function ez(t,e){var n=Q7(null,function(r){return t.forEach(function(s){return kv(s,r)})});return Z7(function(){var r=w_.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(c){o.has(c)||kv(c,null)}),o.forEach(function(c){s.has(c)||kv(c,i)})}w_.set(n,t)},[t]),n}function tz(t){return t}function nz(t,e){e===void 0&&(e=tz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(c){return c!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var c=n;n=[],c.forEach(o),i=n}var u=function(){var f=i;i=[],f.forEach(o)},h=function(){return Promise.resolve().then(u)};h(),n={push:function(f){i.push(f),h()},filter:function(f){return i=i.filter(f),n}}}};return s}function rz(t){t===void 0&&(t={});var e=nz(null);return e.options=Es({async:!0,ssr:!1},t),e}var rM=function(t){var e=t.sideCar,n=nM(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Es({},n))};rM.isSideCarExport=!0;function sz(t,e){return t.useMedium(e),rM}var sM=rz(),Sv=function(){},km=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:Sv,onWheelCapture:Sv,onTouchMoveCapture:Sv}),s=r[0],o=r[1],i=t.forwardProps,c=t.children,u=t.className,h=t.removeScrollBar,f=t.enabled,m=t.shards,g=t.sideCar,y=t.noRelative,v=t.noIsolation,b=t.inert,k=t.allowPinchZoom,C=t.as,_=C===void 0?"div":C,T=t.gapMode,N=nM(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=g,P=ez([n,e]),I=Es(Es({},N),s);return w.createElement(w.Fragment,null,f&&w.createElement(j,{sideCar:sM,removeScrollBar:h,shards:m,noRelative:y,noIsolation:v,inert:b,setCallbacks:o,allowPinchZoom:!!k,lockRef:n,gapMode:T}),i?w.cloneElement(w.Children.only(c),Es(Es({},I),{ref:P})):w.createElement(_,Es({},I,{className:u,ref:P}),c))});km.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};km.classNames={fullWidth:Pf,zeroRight:Of};var oz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=oz();return e&&t.setAttribute("nonce",e),t}function az(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function lz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var cz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=iz())&&(az(e,n),lz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},dz=function(){var t=cz();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},oM=function(){var t=dz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},uz={left:0,top:0,right:0,gap:0},Cv=function(t){return parseInt(t||"",10)||0},hz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Cv(n),Cv(r),Cv(s)]},fz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return uz;var e=hz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},pz=oM(),Nl="data-scroll-locked",mz=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(G7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Nl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Of,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Pf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Of," .").concat(Of,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pf," .").concat(Pf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Nl,`] {
    `).concat(J7,": ").concat(c,`px;
  }
`)},k_=function(){var t=parseInt(document.body.getAttribute(Nl)||"0",10);return isFinite(t)?t:0},gz=function(){w.useEffect(function(){return document.body.setAttribute(Nl,(k_()+1).toString()),function(){var t=k_()-1;t<=0?document.body.removeAttribute(Nl):document.body.setAttribute(Nl,t.toString())}},[])},xz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;gz();var o=w.useMemo(function(){return fz(s)},[s]);return w.createElement(pz,{styles:mz(o,!e,s,n?"":"!important")})},Oy=!1;if(typeof window<"u")try{var Gh=Object.defineProperty({},"passive",{get:function(){return Oy=!0,!0}});window.addEventListener("test",Gh,Gh),window.removeEventListener("test",Gh,Gh)}catch{Oy=!1}var hl=Oy?{passive:!1}:!1,vz=function(t){return t.tagName==="TEXTAREA"},iM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!vz(t)&&n[e]==="visible")},yz=function(t){return iM(t,"overflowY")},bz=function(t){return iM(t,"overflowX")},S_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=aM(t,r);if(s){var o=lM(t,r),i=o[1],c=o[2];if(i>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},kz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},aM=function(t,e){return t==="v"?yz(e):bz(e)},lM=function(t,e){return t==="v"?wz(e):kz(e)},Sz=function(t,e){return t==="h"&&e==="rtl"?-1:1},Cz=function(t,e,n,r,s){var o=Sz(t,window.getComputedStyle(e).direction),i=o*r,c=n.target,u=e.contains(c),h=!1,f=i>0,m=0,g=0;do{if(!c)break;var y=lM(t,c),v=y[0],b=y[1],k=y[2],C=b-k-o*v;(v||C)&&aM(t,c)&&(m+=C,g+=v);var _=c.parentNode;c=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(f&&Math.abs(m)<1||!f&&Math.abs(g)<1)&&(h=!0),h},Jh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},C_=function(t){return[t.deltaX,t.deltaY]},__=function(t){return t&&"current"in t?t.current:t},_z=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Ez=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Nz=0,fl=[];function jz(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(Nz++)[0],o=w.useState(oM)[0],i=w.useRef(t);w.useEffect(function(){i.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var b=X7([t.lockRef.current],(t.shards||[]).map(__),!0).filter(Boolean);return b.forEach(function(k){return k.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=w.useCallback(function(b,k){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!i.current.allowPinchZoom;var C=Jh(b),_=n.current,T="deltaX"in b?b.deltaX:_[0]-C[0],N="deltaY"in b?b.deltaY:_[1]-C[1],j,P=b.target,I=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in b&&I==="h"&&P.type==="range")return!1;var O=S_(I,P);if(!O)return!0;if(O?j=I:(j=I==="v"?"h":"v",O=S_(I,P)),!O)return!1;if(!r.current&&"changedTouches"in b&&(T||N)&&(r.current=j),!j)return!0;var L=r.current||j;return Cz(L,k,b,L==="h"?T:N)},[]),u=w.useCallback(function(b){var k=b;if(!(!fl.length||fl[fl.length-1]!==o)){var C="deltaY"in k?C_(k):Jh(k),_=e.current.filter(function(j){return j.name===k.type&&(j.target===k.target||k.target===j.shadowParent)&&_z(j.delta,C)})[0];if(_&&_.should){k.cancelable&&k.preventDefault();return}if(!_){var T=(i.current.shards||[]).map(__).filter(Boolean).filter(function(j){return j.contains(k.target)}),N=T.length>0?c(k,T[0]):!i.current.noIsolation;N&&k.cancelable&&k.preventDefault()}}},[]),h=w.useCallback(function(b,k,C,_){var T={name:b,delta:k,target:C,should:_,shadowParent:Tz(C)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(N){return N!==T})},1)},[]),f=w.useCallback(function(b){n.current=Jh(b),r.current=void 0},[]),m=w.useCallback(function(b){h(b.type,C_(b),b.target,c(b,t.lockRef.current))},[]),g=w.useCallback(function(b){h(b.type,Jh(b),b.target,c(b,t.lockRef.current))},[]);w.useEffect(function(){return fl.push(o),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",u,hl),document.addEventListener("touchmove",u,hl),document.addEventListener("touchstart",f,hl),function(){fl=fl.filter(function(b){return b!==o}),document.removeEventListener("wheel",u,hl),document.removeEventListener("touchmove",u,hl),document.removeEventListener("touchstart",f,hl)}},[]);var y=t.removeScrollBar,v=t.inert;return w.createElement(w.Fragment,null,v?w.createElement(o,{styles:Ez(s)}):null,y?w.createElement(xz,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Tz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Mz=sz(sM,jz);var yu=w.forwardRef(function(t,e){return w.createElement(km,Es({},t,{ref:e,sideCar:Mz}))});yu.classNames=km.classNames;var Py=["Enter"," "],Oz=["ArrowDown","PageUp","Home"],cM=["ArrowUp","PageDown","End"],Pz=[...Oz,...cM],Az={ltr:[...Py,"ArrowRight"],rtl:[...Py,"ArrowLeft"]},Rz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bu="Menu",[Ld,Iz,Dz]=z0(bu),[Ma,dM]=rr(bu,[Dz,ac,bm]),Sm=ac(),uM=bm(),[Lz,Oa]=Ma(bu),[Bz,wu]=Ma(bu),hM=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=t,c=Sm(e),[u,h]=w.useState(null),f=w.useRef(!1),m=pn(o),g=fu(s);return w.useEffect(()=>{const y=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(J0,{...c,children:l.jsx(Lz,{scope:e,open:n,onOpenChange:m,content:u,onContentChange:h,children:l.jsx(Bz,{scope:e,onClose:w.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:g,modal:i,children:r})})})};hM.displayName=bu;var Fz="MenuAnchor",eb=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Sm(n);return l.jsx(ym,{...s,...r,ref:e})});eb.displayName=Fz;var tb="MenuPortal",[$z,fM]=Ma(tb,{forceMount:void 0}),pM=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,o=Oa(tb,e);return l.jsx($z,{scope:e,forceMount:n,children:l.jsx(An,{present:n||o.open,children:l.jsx(xu,{asChild:!0,container:s,children:r})})})};pM.displayName=tb;var Br="MenuContent",[zz,nb]=Ma(Br),mM=w.forwardRef((t,e)=>{const n=fM(Br,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=Oa(Br,t.__scopeMenu),i=wu(Br,t.__scopeMenu);return l.jsx(Ld.Provider,{scope:t.__scopeMenu,children:l.jsx(An,{present:r||o.open,children:l.jsx(Ld.Slot,{scope:t.__scopeMenu,children:i.modal?l.jsx(Uz,{...s,ref:e}):l.jsx(Hz,{...s,ref:e})})})})}),Uz=w.forwardRef((t,e)=>{const n=Oa(Br,t.__scopeMenu),r=w.useRef(null),s=Ge(e,r);return w.useEffect(()=>{const o=r.current;if(o)return wm(o)},[]),l.jsx(rb,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ee(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Hz=w.forwardRef((t,e)=>{const n=Oa(Br,t.__scopeMenu);return l.jsx(rb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Wz=vi("MenuContent.ScrollLock"),rb=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,onDismiss:y,disableOutsideScroll:v,...b}=t,k=Oa(Br,n),C=wu(Br,n),_=Sm(n),T=uM(n),N=Iz(n),[j,P]=w.useState(null),I=w.useRef(null),O=Ge(e,I,k.onContentChange),L=w.useRef(0),$=w.useRef(""),V=w.useRef(0),Q=w.useRef(null),K=w.useRef("right"),se=w.useRef(0),ne=v?yu:w.Fragment,W=v?{as:Wz,allowPinchZoom:!0}:void 0,U=D=>{const Z=$.current+D,M=N().filter(X=>!X.disabled),B=document.activeElement,q=M.find(X=>X.ref.current===B)?.textValue,ee=M.map(X=>X.textValue),ie=nU(ee,Z,q),ce=M.find(X=>X.textValue===ie)?.ref.current;(function X(H){$.current=H,window.clearTimeout(L.current),H!==""&&(L.current=window.setTimeout(()=>X(""),1e3))})(Z),ce&&setTimeout(()=>ce.focus())};w.useEffect(()=>()=>window.clearTimeout(L.current),[]),pm();const R=w.useCallback(D=>K.current===Q.current?.side&&sU(D,Q.current?.area),[]);return l.jsx(zz,{scope:n,searchRef:$,onItemEnter:w.useCallback(D=>{R(D)&&D.preventDefault()},[R]),onItemLeave:w.useCallback(D=>{R(D)||(I.current?.focus(),P(null))},[R]),onTriggerLeave:w.useCallback(D=>{R(D)&&D.preventDefault()},[R]),pointerGraceTimerRef:V,onPointerGraceIntentChange:w.useCallback(D=>{Q.current=D},[]),children:l.jsx(ne,{...W,children:l.jsx(mu,{asChild:!0,trapped:s,onMountAutoFocus:Ee(o,D=>{D.preventDefault(),I.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(pu,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,onDismiss:y,children:l.jsx(ZT,{asChild:!0,...T,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:P,onEntryFocus:Ee(u,D=>{C.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Q0,{role:"menu","aria-orientation":"vertical","data-state":OM(k.open),"data-radix-menu-content":"",dir:C.dir,..._,...b,ref:O,style:{outline:"none",...b.style},onKeyDown:Ee(b.onKeyDown,D=>{const M=D.target.closest("[data-radix-menu-content]")===D.currentTarget,B=D.ctrlKey||D.altKey||D.metaKey,q=D.key.length===1;M&&(D.key==="Tab"&&D.preventDefault(),!B&&q&&U(D.key));const ee=I.current;if(D.target!==ee||!Pz.includes(D.key))return;D.preventDefault();const ce=N().filter(X=>!X.disabled).map(X=>X.ref.current);cM.includes(D.key)&&ce.reverse(),eU(ce)}),onBlur:Ee(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(L.current),$.current="")}),onPointerMove:Ee(t.onPointerMove,Bd(D=>{const Z=D.target,M=se.current!==D.clientX;if(D.currentTarget.contains(Z)&&M){const B=D.clientX>se.current?"right":"left";K.current=B,se.current=D.clientX}}))})})})})})})});mM.displayName=Br;var Vz="MenuGroup",sb=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(De.div,{role:"group",...r,ref:e})});sb.displayName=Vz;var qz="MenuLabel",gM=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(De.div,{...r,ref:e})});gM.displayName=qz;var hp="MenuItem",E_="menu.itemSelect",Cm=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,o=w.useRef(null),i=wu(hp,t.__scopeMenu),c=nb(hp,t.__scopeMenu),u=Ge(e,o),h=w.useRef(!1),f=()=>{const m=o.current;if(!n&&m){const g=new CustomEvent(E_,{bubbles:!0,cancelable:!0});m.addEventListener(E_,y=>r?.(y),{once:!0}),Fj(m,g),g.defaultPrevented?h.current=!1:i.onClose()}};return l.jsx(xM,{...s,ref:u,disabled:n,onClick:Ee(t.onClick,f),onPointerDown:m=>{t.onPointerDown?.(m),h.current=!0},onPointerUp:Ee(t.onPointerUp,m=>{h.current||m.currentTarget?.click()}),onKeyDown:Ee(t.onKeyDown,m=>{const g=c.searchRef.current!=="";n||g&&m.key===" "||Py.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Cm.displayName=hp;var xM=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=t,i=nb(hp,n),c=uM(n),u=w.useRef(null),h=Ge(e,u),[f,m]=w.useState(!1),[g,y]=w.useState("");return w.useEffect(()=>{const v=u.current;v&&y((v.textContent??"").trim())},[o.children]),l.jsx(Ld.ItemSlot,{scope:n,disabled:r,textValue:s??g,children:l.jsx(eM,{asChild:!0,...c,focusable:!r,children:l.jsx(De.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:h,onPointerMove:Ee(t.onPointerMove,Bd(v=>{r?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(t.onPointerLeave,Bd(v=>i.onItemLeave(v))),onFocus:Ee(t.onFocus,()=>m(!0)),onBlur:Ee(t.onBlur,()=>m(!1))})})})}),Yz="MenuCheckboxItem",vM=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return l.jsx(SM,{scope:t.__scopeMenu,checked:n,children:l.jsx(Cm,{role:"menuitemcheckbox","aria-checked":fp(n)?"mixed":n,...s,ref:e,"data-state":ib(n),onSelect:Ee(s.onSelect,()=>r?.(fp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});vM.displayName=Yz;var yM="MenuRadioGroup",[Kz,Xz]=Ma(yM,{value:void 0,onValueChange:()=>{}}),bM=w.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,o=pn(r);return l.jsx(Kz,{scope:t.__scopeMenu,value:n,onValueChange:o,children:l.jsx(sb,{...s,ref:e})})});bM.displayName=yM;var wM="MenuRadioItem",kM=w.forwardRef((t,e)=>{const{value:n,...r}=t,s=Xz(wM,t.__scopeMenu),o=n===s.value;return l.jsx(SM,{scope:t.__scopeMenu,checked:o,children:l.jsx(Cm,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":ib(o),onSelect:Ee(r.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});kM.displayName=wM;var ob="MenuItemIndicator",[SM,Gz]=Ma(ob,{checked:!1}),CM=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,o=Gz(ob,n);return l.jsx(An,{present:r||fp(o.checked)||o.checked===!0,children:l.jsx(De.span,{...s,ref:e,"data-state":ib(o.checked)})})});CM.displayName=ob;var Jz="MenuSeparator",_M=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(De.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});_M.displayName=Jz;var Qz="MenuArrow",EM=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Sm(n);return l.jsx(Z0,{...s,...r,ref:e})});EM.displayName=Qz;var Zz="MenuSub",[Lle,NM]=Ma(Zz),md="MenuSubTrigger",jM=w.forwardRef((t,e)=>{const n=Oa(md,t.__scopeMenu),r=wu(md,t.__scopeMenu),s=NM(md,t.__scopeMenu),o=nb(md,t.__scopeMenu),i=w.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=o,h={__scopeMenu:t.__scopeMenu},f=w.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return w.useEffect(()=>f,[f]),w.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),u(null)}},[c,u]),l.jsx(eb,{asChild:!0,...h,children:l.jsx(xM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":OM(n.open),...t,ref:rm(e,s.onTriggerChange),onClick:m=>{t.onClick?.(m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ee(t.onPointerMove,Bd(m=>{o.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Ee(t.onPointerLeave,Bd(m=>{f();const g=n.content?.getBoundingClientRect();if(g){const y=n.content?.dataset.side,v=y==="right",b=v?-5:5,k=g[v?"left":"right"],C=g[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+b,y:m.clientY},{x:k,y:g.top},{x:C,y:g.top},{x:C,y:g.bottom},{x:k,y:g.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(t.onKeyDown,m=>{const g=o.searchRef.current!=="";t.disabled||g&&m.key===" "||Az[r.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});jM.displayName=md;var TM="MenuSubContent",MM=w.forwardRef((t,e)=>{const n=fM(Br,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=Oa(Br,t.__scopeMenu),i=wu(Br,t.__scopeMenu),c=NM(TM,t.__scopeMenu),u=w.useRef(null),h=Ge(e,u);return l.jsx(Ld.Provider,{scope:t.__scopeMenu,children:l.jsx(An,{present:r||o.open,children:l.jsx(Ld.Slot,{scope:t.__scopeMenu,children:l.jsx(rb,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{i.isUsingKeyboardRef.current&&u.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ee(t.onFocusOutside,f=>{f.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ee(t.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:Ee(t.onKeyDown,f=>{const m=f.currentTarget.contains(f.target),g=Rz[i.dir].includes(f.key);m&&g&&(o.onOpenChange(!1),c.trigger?.focus(),f.preventDefault())})})})})})});MM.displayName=TM;function OM(t){return t?"open":"closed"}function fp(t){return t==="indeterminate"}function ib(t){return fp(t)?"indeterminate":t?"checked":"unchecked"}function eU(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function tU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function nU(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=tU(t,Math.max(o,0));s.length===1&&(i=i.filter(h=>h!==n));const u=i.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function rU(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const c=e[o],u=e[i],h=c.x,f=c.y,m=u.x,g=u.y;f>r!=g>r&&n<(m-h)*(r-f)/(g-f)+h&&(s=!s)}return s}function sU(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return rU(n,e)}function Bd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var oU=hM,iU=eb,aU=pM,lU=mM,cU=sb,dU=gM,uU=Cm,hU=vM,fU=bM,pU=kM,mU=CM,gU=_M,xU=EM,vU=jM,yU=MM,_m="DropdownMenu",[bU]=rr(_m,[dM]),Un=dM(),[wU,PM]=bU(_m),AM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:c=!0}=t,u=Un(e),h=w.useRef(null),[f,m]=xo({prop:s,defaultProp:o??!1,onChange:i,caller:_m});return l.jsx(wU,{scope:e,triggerId:ss(),triggerRef:h,contentId:ss(),open:f,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),modal:c,children:l.jsx(oU,{...u,open:f,onOpenChange:m,dir:r,modal:c,children:n})})};AM.displayName=_m;var RM="DropdownMenuTrigger",IM=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,o=PM(RM,n),i=Un(n);return l.jsx(iU,{asChild:!0,...i,children:l.jsx(De.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:rm(e,o.triggerRef),onPointerDown:Ee(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:Ee(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});IM.displayName=RM;var kU="DropdownMenuPortal",DM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Un(e);return l.jsx(aU,{...r,...n})};DM.displayName=kU;var LM="DropdownMenuContent",BM=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=PM(LM,n),o=Un(n),i=w.useRef(!1);return l.jsx(lU,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:Ee(t.onCloseAutoFocus,c=>{i.current||s.triggerRef.current?.focus(),i.current=!1,c.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,f=u.button===2||h;(!s.modal||f)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});BM.displayName=LM;var SU="DropdownMenuGroup",CU=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return l.jsx(cU,{...s,...r,ref:e})});CU.displayName=SU;var _U="DropdownMenuLabel",FM=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return l.jsx(dU,{...s,...r,ref:e})});FM.displayName=_U;var EU="DropdownMenuItem",$M=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return l.jsx(uU,{...s,...r,ref:e})});$M.displayName=EU;var NU="DropdownMenuCheckboxItem",jU=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return l.jsx(hU,{...s,...r,ref:e})});jU.displayName=NU;var TU="DropdownMenuRadioGroup",MU=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return l.jsx(fU,{...s,...r,ref:e})});MU.displayName=TU;var OU="DropdownMenuRadioItem",PU=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return l.jsx(pU,{...s,...r,ref:e})});PU.displayName=OU;var AU="DropdownMenuItemIndicator",RU=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return l.jsx(mU,{...s,...r,ref:e})});RU.displayName=AU;var IU="DropdownMenuSeparator",zM=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return l.jsx(gU,{...s,...r,ref:e})});zM.displayName=IU;var DU="DropdownMenuArrow",LU=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return l.jsx(xU,{...s,...r,ref:e})});LU.displayName=DU;var BU="DropdownMenuSubTrigger",FU=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return l.jsx(vU,{...s,...r,ref:e})});FU.displayName=BU;var $U="DropdownMenuSubContent",zU=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return l.jsx(yU,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zU.displayName=$U;var UU=AM,HU=IM,WU=DM,VU=BM,qU=FM,YU=$M,KU=zM;function pp({...t}){return l.jsx(UU,{"data-slot":"dropdown-menu",...t})}function mp({...t}){return l.jsx(HU,{"data-slot":"dropdown-menu-trigger",...t})}function gp({className:t,sideOffset:e=4,...n}){return l.jsx(WU,{children:l.jsx(VU,{"data-slot":"dropdown-menu-content",sideOffset:e,className:ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function xp({className:t,inset:e,variant:n="default",...r}){return l.jsx(YU,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:ze("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function vp({className:t,inset:e,...n}){return l.jsx(qU,{"data-slot":"dropdown-menu-label","data-inset":e,className:ze("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function _d({className:t,...e}){return l.jsx(KU,{"data-slot":"dropdown-menu-separator",className:ze("bg-border -mx-1 my-1 h-px",t),...e})}var _v={exports:{}},Ev={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function XU(){if(N_)return Ev;N_=1;var t=em();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,i=t.useDebugValue;function c(m,g){var y=g(),v=r({inst:{value:y,getSnapshot:g}}),b=v[0].inst,k=v[1];return o(function(){b.value=y,b.getSnapshot=g,u(b)&&k({inst:b})},[m,y,g]),s(function(){return u(b)&&k({inst:b}),m(function(){u(b)&&k({inst:b})})},[m]),i(y),y}function u(m){var g=m.getSnapshot;m=m.value;try{var y=g();return!n(m,y)}catch{return!0}}function h(m,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Ev.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Ev}var j_;function GU(){return j_||(j_=1,_v.exports=XU()),_v.exports}var JU=GU();function QU(){return JU.useSyncExternalStore(ZU,()=>!0,()=>!1)}function ZU(){return()=>{}}var ab="Avatar",[eH]=rr(ab),[tH,UM]=eH(ab),HM=w.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,o]=w.useState("idle");return l.jsx(tH,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:l.jsx(De.span,{...r,ref:e})})});HM.displayName=ab;var WM="AvatarImage",VM=w.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=t,i=UM(WM,n),c=nH(r,o),u=pn(h=>{s(h),i.onImageLoadingStatusChange(h)});return Yt(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?l.jsx(De.img,{...o,ref:e,src:r}):null});VM.displayName=WM;var qM="AvatarFallback",YM=w.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,o=UM(qM,n),[i,c]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(u)}},[r]),i&&o.imageLoadingStatus!=="loaded"?l.jsx(De.span,{...s,ref:e}):null});YM.displayName=qM;function T_(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function nH(t,{referrerPolicy:e,crossOrigin:n}){const r=QU(),s=w.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,c]=w.useState(()=>T_(o,t));return Yt(()=>{c(T_(o,t))},[o,t]),Yt(()=>{const u=m=>()=>{c(m)};if(!o)return;const h=u("loaded"),f=u("error");return o.addEventListener("load",h),o.addEventListener("error",f),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",h),o.removeEventListener("error",f)}},[o,n,e]),i}var rH=HM,sH=VM,oH=YM;function Zt({className:t,...e}){return l.jsx(rH,{"data-slot":"avatar",className:ze("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function Fd({className:t,...e}){return l.jsx(sH,{"data-slot":"avatar-image",className:ze("aspect-square size-full",t),...e})}function Wt({className:t,...e}){return l.jsx(oH,{"data-slot":"avatar-fallback",className:ze("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}const iH=jj("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function bt({className:t,variant:e,asChild:n=!1,...r}){const s=n?M0:"span";return l.jsx(s,{"data-slot":"badge",className:ze(iH({variant:e}),t),...r})}const va=async t=>(await $e.get(`/users/${t}`)).data,Nv=async(t,e)=>(await $e.put(`/users/${t}`,e)).data;function ya(t,e){const n=t?.[0]?.toUpperCase()||"",r=e?.[0]?.toUpperCase()||"";return`${n}${r}`||"?"}const jv=[{name:"Home",href:"/dashboard",icon:dm},{name:"Documents",href:"/documents",icon:$n},{name:"Folders",href:"/folders",icon:tn},{name:"Analytics",href:"/analytics",icon:cm},{name:"Calendar",href:"/calendar",icon:B0},{name:"Meetings",href:"/meetings",icon:fm},{name:"Chat",href:"/chat",icon:ga},{name:"AI Assistant",href:"/ai-assistant",icon:li},{name:"Settings",href:"/settings",icon:xT}];function aH({onLogout:t,onShowPomodoro:e}){const{theme:n,toggleTheme:r}=sc(),s=Wr(),o=w.useRef(null),[i,c]=w.useState(!1),[u,h]=w.useState(""),[f,m]=w.useState(!1),[g,y]=w.useState([]),[v,b]=w.useState(0),[k,C]=w.useState(null),[_,T]=w.useState(!0);w.useEffect(()=>{const P=I=>{o.current&&!o.current.contains(I.target)&&m(!1)};if(f)return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[f]);const N=P=>P?.code==="ERR_NETWORK"||P?.code==="ECONNREFUSED"||P?.message?.includes("ERR_CONNECTION_REFUSED")||P?.message?.includes("Network Error")||!P?.response;w.useEffect(()=>{const P=async()=>{try{const $=await n_.getUnread();y($),b($.length)}catch($){N($)?(console.warn("Backend connection unavailable. Notifications will not be loaded."),y([]),b(0)):console.error("Error loading notifications:",$)}},I=async()=>{try{const $=localStorage.getItem("access_token");if(!$){T(!1);return}const Q=$.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),K=decodeURIComponent(atob(Q).split("").map(U=>"%"+("00"+U.charCodeAt(0).toString(16)).slice(-2)).join("")),se=JSON.parse(K),ne=se.id||se._id||se.userId,W=await va(ne);C(W)}catch($){N($)?(console.warn("Backend connection unavailable. User data will not be loaded."),C(null)):console.error("Error loading user:",$)}finally{T(!1)}};P(),I();const O=setInterval(P,3e4),L=()=>{I()};return window.addEventListener("userProfileUpdated",L),()=>{clearInterval(O),window.removeEventListener("userProfileUpdated",L)}},[]);const j=P=>{if(P.key==="Escape")m(!1);else if(P.key==="Enter"&&f){const I=jv.filter(O=>O.name.toLowerCase().includes(u.toLowerCase()));I.length>0&&(h(""),m(!1),s(I[0].href))}};return l.jsxs("header",{className:"h-16 bg-white dark:bg-card border-b border-border flex items-center justify-between px-6",children:[l.jsxs("div",{ref:o,className:"flex-1 max-w-2xl relative",children:[l.jsx("div",{className:"relative flex items-center gap-2",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(um,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"}),l.jsx(Ye,{type:"text",placeholder:"Search documents, folders, or tasks...",value:u,onChange:P=>h(P.target.value),onFocus:()=>m(!0),onKeyDown:j,className:"pl-10 pr-4 rounded-xl bg-gray-50 dark:bg-gray-800 border-0 cursor-pointer"})]})}),f&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-card border border-border rounded-xl shadow-lg z-50 max-h-[300px] overflow-y-auto",children:jv.filter(P=>P.name.toLowerCase().includes(u.toLowerCase())).length>0?l.jsx("div",{className:"p-2",children:jv.filter(P=>P.name.toLowerCase().includes(u.toLowerCase())).map(P=>{const I=P.icon;return l.jsxs("button",{onClick:()=>{h(""),m(!1),s(P.href)},className:"w-full flex items-center px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-left",children:[l.jsx(I,{className:"w-4 h-4 mr-3 text-muted-foreground"}),l.jsx("span",{children:P.name})]},P.href)})}):l.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No results found"})})]}),l.jsxs("div",{className:"flex items-center space-x-3 ml-4",children:[l.jsx(de,{variant:"ghost",size:"icon",onClick:r,className:"rounded-xl","aria-label":"Toggle theme",children:n==="dark"?l.jsx(hm,{className:"w-5 h-5"}):l.jsx(hu,{className:"w-5 h-5"})}),l.jsxs(pp,{children:[l.jsx(mp,{asChild:!0,children:l.jsxs(de,{variant:"ghost",size:"icon",className:"relative rounded-xl",children:[l.jsx(DF,{className:"w-5 h-5"}),l.jsx(bt,{className:"absolute -top-1 -right-1 w-5 h-5 p-0 flex items-center justify-center text-[10px]",children:v})]})}),l.jsxs(gp,{align:"end",className:"w-80 rounded-xl",children:[l.jsx(vp,{children:"Notifications"}),l.jsx(_d,{}),g.length===0?l.jsx("div",{className:"p-6 text-center text-muted-foreground text-sm",children:"No notifications"}):l.jsx("div",{className:"space-y-2 p-2 max-h-[400px] overflow-y-auto",children:g.slice(0,5).map((P,I)=>l.jsxs("div",{className:`p-3 rounded-lg ${I===0?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-gray-800"} text-[14px] cursor-pointer`,onClick:()=>{if(n_.markAsRead(P._id),y(g.filter(O=>O._id!==P._id)),b(v-1),P.type==="meeting_invitation"&&P.metadata?.meetingRoomId){const O=new URLSearchParams({room:P.metadata.meetingRoomId,title:P.metadata.meetingTitle||P.title});s(`/meet?${O.toString()}`)}else P.documentId?s(`/documents/${P.documentId}`):P.folderId&&s(`/folders/${P.folderId}`)},children:[l.jsx("p",{className:"font-medium",children:P.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-[13px]",children:P.message}),l.jsx("p",{className:"text-[12px] text-muted-foreground mt-1",children:new Date(P.createdAt).toLocaleString()})]},P._id))})]})]}),l.jsxs(pp,{children:[l.jsx(mp,{asChild:!0,children:l.jsx(de,{variant:"ghost",className:"rounded-xl",children:l.jsxs(Zt,{className:"w-8 h-8",children:[l.jsx(Fd,{src:(()=>{if(!k)return;const P=k.avatar||k.picture;if(P)return P.startsWith("http")?P:`${jt.replace("/api","")}${P}`})(),alt:k?`${k.firstName} ${k.lastName}`:"User"}),l.jsx(Wt,{className:"bg-blue-600 text-white",children:k?ya(k.firstName,k.lastName):_?l.jsx(Ar,{className:"w-4 h-4 animate-spin"}):"?"})]})})}),l.jsxs(gp,{align:"end",className:"w-56 rounded-xl",children:[l.jsx(vp,{children:l.jsx("div",{children:_?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ar,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{className:"text-[12px] text-muted-foreground",children:"Loading..."})]}):k?l.jsxs(l.Fragment,{children:[l.jsx("p",{children:k.firstName&&k.lastName?`${k.firstName} ${k.lastName}`:"User"}),l.jsx("p",{className:"text-[12px] text-muted-foreground",children:k.email||"No email"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"User"}),l.jsx("p",{className:"text-[12px] text-muted-foreground",children:"No data"})]})})}),l.jsx(_d,{}),l.jsx(xp,{asChild:!0,children:l.jsxs(rt,{to:"/profile",className:"flex items-center cursor-pointer",children:[l.jsx(g$,{className:"w-4 h-4 mr-2"}),"Profile"]})}),l.jsx(_d,{}),l.jsxs(xp,{onClick:t,className:"text-red-600 cursor-pointer",children:[l.jsx(T8,{className:"w-4 h-4 mr-2"}),"Log out"]})]})]})]})]})}function Ne({className:t,...e}){return l.jsx("div",{"data-slot":"card",className:ze("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function Zs({className:t,...e}){return l.jsx("div",{"data-slot":"card-header",className:ze("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function eo({className:t,...e}){return l.jsx("h4",{"data-slot":"card-title",className:ze("leading-none",t),...e})}function to({className:t,...e}){return l.jsx("p",{"data-slot":"card-description",className:ze("text-muted-foreground",t),...e})}function no({className:t,...e}){return l.jsx("div",{"data-slot":"card-content",className:ze("px-6 [&:last-child]:pb-6",t),...e})}var lb="Progress",cb=100,[lH]=rr(lb),[cH,dH]=lH(lb),KM=w.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=uH,...i}=t;(s||s===0)&&!M_(s)&&console.error(hH(`${s}`,"Progress"));const c=M_(s)?s:cb;r!==null&&!O_(r,c)&&console.error(fH(`${r}`,"Progress"));const u=O_(r,c)?r:null,h=yp(u)?o(u,c):void 0;return l.jsx(cH,{scope:n,value:u,max:c,children:l.jsx(De.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":yp(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":JM(u,c),"data-value":u??void 0,"data-max":c,...i,ref:e})})});KM.displayName=lb;var XM="ProgressIndicator",GM=w.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=dH(XM,n);return l.jsx(De.div,{"data-state":JM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});GM.displayName=XM;function uH(t,e){return`${Math.round(t/e*100)}%`}function JM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function yp(t){return typeof t=="number"}function M_(t){return yp(t)&&!isNaN(t)&&t>0}function O_(t,e){return yp(t)&&!isNaN(t)&&t<=e&&t>=0}function hH(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${cb}\`.`}function fH(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${cb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var pH=KM,mH=GM;function ei({className:t,value:e,...n}){return l.jsx(pH,{"data-slot":"progress",className:ze("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:l.jsx(mH,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}var Em="Tabs",[gH]=rr(Em,[bm]),QM=bm(),[xH,db]=gH(Em),ZM=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:c,activationMode:u="automatic",...h}=t,f=fu(c),[m,g]=xo({prop:r,onChange:s,defaultProp:o??"",caller:Em});return l.jsx(xH,{scope:n,baseId:ss(),value:m,onValueChange:g,orientation:i,dir:f,activationMode:u,children:l.jsx(De.div,{dir:f,"data-orientation":i,...h,ref:e})})});ZM.displayName=Em;var eO="TabsList",tO=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=db(eO,n),i=QM(n);return l.jsx(ZT,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:l.jsx(De.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});tO.displayName=eO;var nO="TabsTrigger",rO=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,i=db(nO,n),c=QM(n),u=iO(i.baseId,r),h=aO(i.baseId,r),f=r===i.value;return l.jsx(eM,{asChild:!0,...c,focusable:!s,active:f,children:l.jsx(De.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...o,ref:e,onMouseDown:Ee(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?i.onValueChange(r):m.preventDefault()}),onKeyDown:Ee(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(r)}),onFocus:Ee(t.onFocus,()=>{const m=i.activationMode!=="manual";!f&&!s&&m&&i.onValueChange(r)})})})});rO.displayName=nO;var sO="TabsContent",oO=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=t,c=db(sO,n),u=iO(c.baseId,r),h=aO(c.baseId,r),f=r===c.value,m=w.useRef(f);return w.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),l.jsx(An,{present:s||f,children:({present:g})=>l.jsx(De.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:h,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:g&&o})})});oO.displayName=sO;function iO(t,e){return`${t}-trigger-${e}`}function aO(t,e){return`${t}-content-${e}`}var vH=ZM,yH=tO,bH=rO,wH=oO;function Nm({className:t,...e}){return l.jsx(vH,{"data-slot":"tabs",className:ze("flex flex-col gap-2",t),...e})}function jm({className:t,...e}){return l.jsx(yH,{"data-slot":"tabs-list",className:ze("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function mr({className:t,...e}){return l.jsx(bH,{"data-slot":"tabs-trigger",className:ze("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Ns({className:t,...e}){return l.jsx(wH,{"data-slot":"tabs-content",className:ze("flex-1 outline-none",t),...e})}const ts={startSession:async t=>(await $e.post("/pomodoro/start",t)).data,stopSession:async(t,e)=>(await $e.post(`/pomodoro/stop/${t}`,e||{})).data,getActiveSession:async()=>{try{return(await $e.get("/pomodoro/active")).data}catch(t){if(t.response?.status===404)return null;throw t}},getStats:async t=>{const e=t?`?period=${t}`:"";return(await $e.get(`/pomodoro/stats${e}`)).data},getRecentSessions:async(t=10)=>(await $e.get(`/pomodoro/recent?limit=${t}`)).data,getDailySessions:async(t,e)=>{const n=new URLSearchParams;t&&n.append("startDate",t),e&&n.append("endDate",e);const r=n.toString(),s=`/pomodoro/daily${r?`?${r}`:""}`;return(await $e.get(s)).data}};function kH({onClose:t}){const[e,n]=w.useState(25),[r,s]=w.useState(5),[o,i]=w.useState(e*60),[c,u]=w.useState(!1),[h,f]=w.useState(!1),[m,g]=w.useState(!1),[y,v]=w.useState([]),[b,k]=w.useState([]),[C,_]=w.useState(null),[T,N]=w.useState(!1),j=w.useRef(null),P=w.useRef(null);w.useEffect(()=>{I()},[]);const I=async()=>{try{N(!0);const M=new Date,B=new Date;B.setDate(B.getDate()-30);const[q,ee,ie,ce]=await Promise.all([ts.getDailySessions(B.toISOString().split("T")[0],M.toISOString().split("T")[0]),ts.getStats("daily"),ts.getActiveSession(),ts.getRecentSessions(20)]);if(k(q.dailyStats),_(ee),v(ce),ie){j.current=ie;const X=Math.floor((Date.now()-new Date(ie.startTime).getTime())/1e3),H=ie.duration*60-X;H>0?(i(H),u(!0),f(ie.type!=="work"),P.current=new Date(ie.startTime)):ie._id&&await ts.stopSession(ie._id,{interrupted:!0})}}catch(M){console.error("Failed to load Pomodoro data:",M)}finally{N(!1)}};w.useEffect(()=>{let M;return c&&o>0&&(M=window.setInterval(()=>{i(B=>B<=1?(O(),0):B-1)},1e3)),()=>{M&&clearInterval(M)}},[c,o]);const O=async()=>{u(!1);try{j.current?._id&&await ts.stopSession(j.current._id,{interrupted:!1}),await I(),h?(ae.success("Break completed! Ready to work?",{duration:5e3}),i(e*60),f(!1)):(ae.success("Work session completed! Time for a break!",{duration:5e3}),i(r*60),f(!0))}catch(M){console.error("Failed to complete session:",M),ae.error("Failed to save session")}j.current=null,P.current=null},L=async()=>{if(c)u(!1);else try{const M=await ts.startSession({type:h?"break":"work",duration:h?r:e});j.current=M,P.current=new Date,u(!0),ae.success(`${h?"Break":"Work"} session started!`)}catch(M){console.error("Failed to start session:",M),ae.error("Failed to start session")}},$=async()=>{if(u(!1),j.current?._id)try{await ts.stopSession(j.current._id,{interrupted:!0,interruptionReason:"Timer reset"}),j.current=null,P.current=null,await I()}catch(M){console.error("Failed to reset session:",M)}i(h?r*60:e*60)},V=M=>{const B=Math.floor(M/60),q=M%60;return`${B.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`},Q=(h?r:e)*60,K=(Q-o)/Q*100,se=new Date().toISOString().split("T")[0],ne=b.find(M=>M.date===se),W=ne?.sessionCount||0,U=ne?.totalMinutes||0,R=ne?.averageMinutes||0,D=b.slice(0,7),Z=b.length>0?b.reduce((M,B)=>M+B.totalMinutes,0)/b.length:0;return l.jsxs(Ne,{className:"w-full max-w-md rounded-2xl shadow-lg",children:[l.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[l.jsxs("h3",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${h?"bg-green-500":"bg-blue-600"} ${c?"animate-pulse":""}`}),"Pomodoro Timer"]}),t&&l.jsx(de,{variant:"ghost",size:"icon",onClick:t,className:"rounded-lg",children:l.jsx(yr,{className:"w-4 h-4"})})]}),l.jsxs(Nm,{defaultValue:"timer",className:"w-full",children:[l.jsxs(jm,{className:"w-full rounded-none border-b",children:[l.jsx(mr,{value:"timer",className:"flex-1",children:"Timer"}),l.jsx(mr,{value:"stats",className:"flex-1",children:"Stats"})]}),l.jsxs(Ns,{value:"timer",className:"p-6 space-y-6",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("p",{className:"text-[14px] text-muted-foreground",children:h?" Break Time":" Work Session"}),l.jsxs("div",{className:"relative",children:[l.jsxs("svg",{className:"w-48 h-48 mx-auto transform -rotate-90",children:[l.jsx("circle",{cx:"96",cy:"96",r:"88",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-muted"}),l.jsx("circle",{cx:"96",cy:"96",r:"88",stroke:"currentColor",strokeWidth:"8",fill:"none",strokeDasharray:`${2*Math.PI*88}`,strokeDashoffset:`${2*Math.PI*88*(1-K/100)}`,className:h?"text-green-500":"text-blue-600",strokeLinecap:"round",style:{transition:"stroke-dashoffset 1s linear"}})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("span",{className:"text-[48px]",children:V(o)})})]}),l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx(de,{variant:c?"outline":"default",size:"lg",onClick:L,className:"rounded-xl",children:c?l.jsxs(l.Fragment,{children:[l.jsx(z8,{className:"w-5 h-5 mr-2"}),"Pause"]}):l.jsxs(l.Fragment,{children:[l.jsx(V8,{className:"w-5 h-5 mr-2"}),"Start"]})}),l.jsx(de,{variant:"outline",size:"lg",onClick:$,className:"rounded-xl",children:l.jsx(X8,{className:"w-5 h-5"})}),l.jsx(de,{variant:"outline",size:"lg",onClick:()=>g(!m),className:"rounded-xl",children:l.jsx(xT,{className:"w-5 h-5"})})]})]}),m&&l.jsxs("div",{className:"space-y-4 p-4 rounded-xl bg-muted/50",children:[l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"workDuration",children:"Work Duration (minutes)"}),l.jsx(Ye,{id:"workDuration",type:"number",value:e,onChange:M=>{const B=parseInt(M.target.value);n(B),h||i(B*60)},className:"mt-1.5 rounded-xl",min:"1",max:"60"})]}),l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"breakDuration",children:"Break Duration (minutes)"}),l.jsx(Ye,{id:"breakDuration",type:"number",value:r,onChange:M=>{const B=parseInt(M.target.value);s(B),h&&i(B*60)},className:"mt-1.5 rounded-xl",min:"1",max:"30"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-[14px] text-muted-foreground",children:"Today's Sessions"}),l.jsx("div",{className:"flex gap-1",children:Array.from({length:8}).map((M,B)=>l.jsx("div",{className:`h-8 flex-1 rounded transition-colors ${B<W?"bg-blue-600 dark:bg-blue-500":"bg-muted"}`,title:B<W?`Session ${B+1}`:"Not completed"},B))}),l.jsxs("div",{className:"flex items-center justify-between text-[12px]",children:[l.jsxs("span",{className:"text-muted-foreground",children:[W," ",W===1?"session":"sessions"," completed"]}),R>0&&l.jsxs("span",{className:"text-muted-foreground",children:["Avg: ",R.toFixed(1)," min/session"]})]})]})]}),l.jsx(Ns,{value:"stats",className:"p-6 space-y-4",children:T?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(Ar,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(Ne,{className:"p-4 rounded-xl text-center",children:[l.jsx("p",{className:"text-[14px] text-muted-foreground mb-1",children:"Today"}),l.jsx("p",{className:"text-[28px] font-bold",children:W}),l.jsx("p",{className:"text-[12px] text-muted-foreground",children:"sessions"})]}),l.jsxs(Ne,{className:"p-4 rounded-xl text-center",children:[l.jsx("p",{className:"text-[14px] text-muted-foreground mb-1",children:"Total Time"}),l.jsx("p",{className:"text-[28px] font-bold",children:U}),l.jsx("p",{className:"text-[12px] text-muted-foreground",children:"minutes"})]})]}),C&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(Ne,{className:"p-4 rounded-xl text-center",children:[l.jsx("p",{className:"text-[14px] text-muted-foreground mb-1",children:"Avg Session"}),l.jsx("p",{className:"text-[28px] font-bold",children:C.averageSessionLength.toFixed(1)}),l.jsx("p",{className:"text-[12px] text-muted-foreground",children:"minutes"})]}),l.jsxs(Ne,{className:"p-4 rounded-xl text-center",children:[l.jsx("p",{className:"text-[14px] text-muted-foreground mb-1",children:"Productivity"}),l.jsx("p",{className:"text-[28px] font-bold",children:C.productivityScore}),l.jsx("p",{className:"text-[12px] text-muted-foreground",children:"score"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-[14px]",children:[l.jsx("span",{className:"text-muted-foreground",children:"Average Work Time/Day"}),l.jsxs("span",{className:"font-semibold",children:[Z.toFixed(1)," minutes"]})]}),l.jsx(ei,{value:Math.min(W/8*100,100),className:"h-2"})]}),D.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-[14px] text-muted-foreground",children:"Last 7 Days"}),l.jsx("div",{className:"space-y-2",children:D.map(M=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[12px] text-muted-foreground",children:new Date(M.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),l.jsxs("span",{className:"text-[12px] font-medium",children:[M.sessionCount," ",M.sessionCount===1?"session":"sessions"]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"text-[12px] text-muted-foreground",children:[M.totalMinutes," min"]}),l.jsxs("span",{className:"text-[12px] font-medium",children:["Avg: ",M.averageMinutes.toFixed(1)," min"]})]})]},M.date))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-[14px] text-muted-foreground",children:"Recent Sessions"}),l.jsxs("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:[y.slice(0,10).map(M=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${M.type==="work"?"bg-blue-600":"bg-green-500"}`}),l.jsx("span",{className:"text-[14px] capitalize",children:M.type==="work"?"Work":M.type==="break"?"Break":"Long Break"}),l.jsx("span",{className:"text-[12px] text-muted-foreground",children:new Date(M.startTime).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[M.completed&&l.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded",children:"Completed"}),M.interrupted&&l.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded",children:"Interrupted"}),l.jsxs("span",{className:"text-[12px] text-muted-foreground",children:[M.duration," min"]})]})]},M._id)),y.length===0&&l.jsx("p",{className:"text-center text-[14px] text-muted-foreground py-4",children:"No sessions yet. Start your first Pomodoro!"})]})]})]})})]})]})}function SH({children:t,onLogout:e}){const[n,r]=w.useState(!0),[s,o]=w.useState(()=>localStorage.getItem("pomodoro_timer_visible")==="true");return w.useEffect(()=>{localStorage.setItem("pomodoro_timer_visible",s.toString());const i=u=>{u.key==="pomodoro_timer_visible"&&o(u.newValue==="true")},c=()=>{o(!0)};return window.addEventListener("storage",i),window.addEventListener("showPomodoroTimer",c),()=>{window.removeEventListener("storage",i),window.removeEventListener("showPomodoroTimer",c)}},[s]),l.jsxs("div",{className:"h-screen flex overflow-hidden bg-gray-50 dark:bg-background",children:[l.jsx(H$,{isOpen:n,onToggle:()=>r(!n),onShowPomodoro:()=>o(!0)}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(aH,{onLogout:e,onShowPomodoro:()=>o(!0)}),l.jsx("main",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:t||l.jsx(yj,{})}),s&&l.jsx("div",{className:"fixed bottom-6 right-6 z-40 shadow-2xl",children:l.jsx(kH,{onClose:()=>o(!1)})})]})]})}const lO=t=>t?.code==="ERR_NETWORK"||t?.code==="ECONNREFUSED"||t?.message?.includes("ERR_CONNECTION_REFUSED")||t?.message?.includes("Network Error")||!t?.response,CH=async()=>{try{const[t,e]=await Promise.all([$e.get("/Document"),$e.get("/folder/getAllFolder?page=1&perPage=100")]),n=e.data||[];return{totalDocuments:t.data?.length||0,totalFolders:n?.length||0,totalCollaborators:0}}catch(t){return lO(t)?(console.warn("Backend connection unavailable. Returning empty dashboard stats."),{totalDocuments:0,totalFolders:0,totalCollaborators:0}):(console.error("Failed to fetch dashboard stats:",t),{totalDocuments:0,totalFolders:0,totalCollaborators:0})}},_H=async()=>{try{const e=(await $e.get("/Document/favorites")).data||[],n=i=>i?typeof i=="string"?i:typeof i=="object"&&i._id?String(i._id):String(i):null,r=i=>i?typeof i=="object"&&i.Name?i.Name:typeof i=="object"&&i.name?i.name:"Uncategorized":"Uncategorized",s=e.map(i=>{const c=i.folderId;return c&&typeof c=="string"?c:null}).filter(Boolean),o=new Map;if(s.length>0)try{((await $e.get("/folder/getAllFolder?page=1&perPage=100")).data||[]).forEach(u=>{o.set(u._id,u.Name||u.name||"Uncategorized")})}catch(i){console.error("Failed to fetch folders for favorite documents:",i)}return e.map(i=>{const c=i.folderId;let u="Uncategorized";return c&&(u=r(c),u==="Uncategorized"&&typeof c=="string"&&(u=o.get(c)||"Uncategorized")),{_id:i._id,Title:i.Title,folderName:u,updatedDate:i.updatedDate||i.createdDate,folderId:n(c)||void 0}}).slice(0,5)}catch(t){return lO(t)?(console.warn("Backend connection unavailable. Returning empty favorite documents."),[]):(console.error("Failed to fetch favorite documents:",t),[])}},cO=jt.replace("/api",""),Rt=xt.create({baseURL:cO,headers:{"Content-Type":"application/json"}});console.log(" API Base URL:",cO);Rt.interceptors.request.use(t=>{const e=localStorage.getItem(gn);return e&&(t.headers.Authorization=`Bearer ${e}`),t});const gt={getAll:()=>Rt.get("/Document").then(t=>t.data),getByFolderId:t=>Rt.get(`/Document/documents/${t}`).then(e=>e.data),getById:t=>(console.log(" Fetching document:",t),Rt.get(`/Document/${t}`).then(e=>(console.log(" Document response:",e.data),e.data)).catch(e=>{throw console.error(" Document fetch error:",e),e})),create:t=>Rt.post("/Document",t).then(e=>e.data),createWithFolder:(t,e)=>Rt.post(`/Document/${t}`,e).then(n=>n.data),update:(t,e)=>Rt.put(`/Document/${t}`,e).then(n=>n.data),delete:t=>Rt.delete(`/Document/${t}`).then(()=>{}),archive:t=>Rt.put(`/Document/archive/${t}`,{}).then(e=>e.data),unarchive:t=>Rt.post(`/Document/dearchive/${t}`,{}).then(e=>e.data),duplicate:t=>Rt.post(`/Document/${t}/duplicate`,{}).then(e=>e.data),share:(t,e,n="view")=>Rt.post(`/Document/${t}/share`,{userId:e,access:n}).then(()=>{}),shareByEmail:(t,e,n="view")=>Rt.post(`/Document/${t}/share-email`,{email:e,access:n}).then(r=>r.data),getAccessLevel:t=>Rt.get(`/Document/${t}/access`).then(e=>e.data),getSharedUsers:t=>Rt.get(`/Document/${t}/shared-users`).then(e=>e.data),unshare:(t,e)=>Rt.delete(`/Document/${t}/share/${e}`).then(()=>{}),getContent:t=>(console.log(" Fetching content for document:",t),Rt.get(`/content/document/${t}`).then(e=>(console.log(" Content response status:",e.status),console.log(" Content response data:",e.data),console.log(" Content response data type:",typeof e.data),console.log(" Content response data.content exists:",!!e.data?.content),console.log(" Content response data.content type:",typeof e.data?.content),e.data?e.data.content?e.data:(console.warn(" No content field in response"),null):(console.warn(" No data in response"),null))).catch(e=>(console.error(" Content fetch error:",e),console.error(" Error response:",e.response?.data),console.error(" Error status:",e.response?.status),e.response?.status===404&&console.log(" Content not found (404) - document may be new"),null))),saveContent:t=>Rt.post("/content",t).then(e=>e.data),favorite:t=>Rt.post(`/Document/${t}/favorite`,{}).then(e=>e.data),unfavorite:t=>Rt.post(`/Document/${t}/unfavorite`,{}).then(e=>e.data),getFavorites:()=>Rt.get("/Document/favorites").then(t=>t.data),exportPDF:async t=>(await Rt.get(`/Document/${t}/export/pdf`,{responseType:"blob"})).data},dO=jt.replace("/api",""),hn=xt.create({baseURL:dO,headers:{"Content-Type":"application/json"}});console.log(" Folders API Base URL:",dO);hn.interceptors.request.use(t=>{const e=localStorage.getItem(gn);return e&&(t.headers.Authorization=`Bearer ${e}`),t});hn.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(console.warn("Unauthorized - token may be expired or invalid"),localStorage.removeItem(gn)),Promise.reject(t)));const Vt={search:(t,e=1,n=10)=>hn.get(`/folder/search?keyword=${t}&page=${e}&perPage=${n}`).then(r=>r.data),getAll:(t=1,e=10)=>hn.get(`/folder/getAllFolder?page=${t}&perPage=${e}`).then(n=>n.data),create:t=>hn.post("/folder/AddFolder",t).then(e=>e.data),getById:t=>hn.get(`/folder/getbyidfolder/${t}`).then(e=>e.data),update:(t,e)=>hn.patch(`/folder/${t}`,{Name:e}).then(n=>n.data),delete:t=>hn.delete(`/folder/${t}`).then(()=>{}),share:(t,e)=>hn.post(`/folder/${t}/share`,e).then(()=>{}),inviteByEmail:(t,e)=>hn.post(`/folder/${t}/invite-by-email`,e).then(n=>n.data),getShared:()=>hn.get("/folder/shared").then(t=>t.data),assignAccess:(t,e,n)=>hn.patch(`/folder/assign-access/${t}`,{userId:e,access:n}).then(()=>{}),getAccessLevel:t=>hn.get(`/folder/access-level/${t}`).then(e=>e.data),ignoreAccess:(t,e)=>hn.delete(`/folder/${t}/ignore-access/${e}`).then(()=>{}),toggleAccess:(t,e)=>hn.patch(`/folder/toggle-access/${t}`,e?{access:e}:{}).then(()=>{}),getChartData:()=>hn.get("/folder/folder-creation-data").then(t=>t.data),getSharedCount:()=>hn.get("/folder/shared/count").then(t=>t.data),getSharedUsers:()=>hn.get("/folder/shared-users").then(t=>t.data)};function P_(){const[t,e]=w.useState("John"),[n,r]=w.useState({totalDocuments:0,totalFolders:0,totalCollaborators:0}),[s,o]=w.useState([]),[i,c]=w.useState([]),[u,h]=w.useState(!0);w.useEffect(()=>{const v=setTimeout(()=>{h(!1)},15e3);return g(),()=>clearTimeout(v)},[]);const f=v=>v?.code==="ERR_NETWORK"||v?.code==="ECONNREFUSED"||v?.message?.includes("ERR_CONNECTION_REFUSED")||v?.message?.includes("Network Error")||!v?.response,m=async()=>{try{const[v,b]=await Promise.all([gt.getAll(),Vt.getAll(1,100)]),k=new Map;return b.forEach(_=>{k.set(_._id,_)}),v.map(_=>{const T=typeof _.folderId=="string"?_.folderId:_.folderId?._id?.toString(),N=T?k.get(T):null;return{_id:_._id,Title:_.Title||"Untitled Document",folderName:N?.Name||"Uncategorized",updatedDate:_.updatedDate||_.createdDate,folderId:T||void 0}}).filter(_=>!_.Title.includes("Error Loading Document")).sort((_,T)=>new Date(T.updatedDate).getTime()-new Date(_.updatedDate).getTime()).slice(0,5)}catch(v){if(f(v))return console.warn("Backend connection unavailable. Returning empty recent documents."),[];throw v}},g=async()=>{try{h(!0);const v=localStorage.getItem("access_token");if(v)try{const T=v.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),N=decodeURIComponent(atob(T).split("").map(O=>"%"+("00"+O.charCodeAt(0).toString(16)).slice(-2)).join("")),j=JSON.parse(N),P=j.id||j._id||j.userId,I=await va(P);e(I.firstName||"User")}catch(_){f(_)?console.warn("Backend connection unavailable. Using default user name."):console.error("Failed to get user info:",_)}const[b,k,C]=await Promise.allSettled([CH(),_H(),m()]);if(b.status==="fulfilled")r(b.value);else{const _=b.reason;f(_)?(console.warn("Backend connection unavailable. Dashboard stats will be empty."),r({totalDocuments:0,totalFolders:0,totalCollaborators:0})):console.error("Failed to load stats:",_)}if(C.status==="fulfilled")o(C.value);else{const _=C.reason;f(_)?(console.warn("Backend connection unavailable. Recent documents will be empty."),o([])):console.error("Failed to load recent documents:",_)}if(k.status==="fulfilled")c(k.value);else{const _=k.reason;f(_)?(console.warn("Backend connection unavailable. Favorite documents will be empty."),c([])):console.error("Failed to load favorite documents:",_)}}catch(v){f(v)?console.warn("Backend connection unavailable. Dashboard will show empty state."):(console.error("Failed to load dashboard data:",v),ae.error("Failed to load dashboard data"))}finally{h(!1)}},y=v=>{const b=new Date(v),C=Math.floor((new Date().getTime()-b.getTime())/1e3);if(C<60)return"Just now";if(C<3600){const _=Math.floor(C/60);return`${_} minute${_>1?"s":""} ago`}else if(C<86400){const _=Math.floor(C/3600);return`${_} hour${_>1?"s":""} ago`}else{const _=Math.floor(C/86400);return`${_} day${_>1?"s":""} ago`}};return u?l.jsx("div",{className:"max-w-7xl mx-auto space-y-6 flex items-center justify-center min-h-[400px]",children:l.jsx(Ar,{className:"w-8 h-8 animate-spin text-primary"})}):l.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-[24px] mb-2",children:["Welcome back, ",t]}),l.jsx("p",{className:"text-muted-foreground",children:"Here's what's happening in your workspace today"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(Ne,{className:"p-6 rounded-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[14px] text-muted-foreground mb-1",children:"Total Documents"}),l.jsx("p",{className:"text-[28px]",children:n.totalDocuments})]}),l.jsx("div",{className:"p-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-blue-600",children:l.jsx($n,{className:"w-6 h-6"})})]})}),l.jsx(Ne,{className:"p-6 rounded-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[14px] text-muted-foreground mb-1",children:"Active Folders"}),l.jsx("p",{className:"text-[28px]",children:n.totalFolders})]}),l.jsx("div",{className:"p-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-purple-600",children:l.jsx(tn,{className:"w-6 h-6"})})]})}),l.jsx(Ne,{className:"p-6 rounded-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[14px] text-muted-foreground mb-1",children:"Collaborators"}),l.jsx("p",{className:"text-[28px]",children:n.totalCollaborators})]}),l.jsx("div",{className:"p-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-green-600",children:l.jsx(Rd,{className:"w-6 h-6"})})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs(Ne,{className:"lg:col-span-2 p-6 rounded-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-[20px]",children:"Recent Documents"}),l.jsx(rt,{to:"/documents",children:l.jsx(de,{variant:"ghost",size:"sm",className:"rounded-lg",children:"View all"})})]}),l.jsx("div",{className:"space-y-3",children:s.length>0?s.map(v=>l.jsxs(rt,{to:`/documents/${v._id}`,className:"flex items-center justify-between p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors group",children:[l.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center",children:l.jsx($n,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"truncate font-medium",children:v.Title}),l.jsx("p",{className:"text-[14px] text-muted-foreground truncate",children:v.folderName||"Uncategorized"})]})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("span",{className:"text-[14px] text-muted-foreground flex items-center",children:[l.jsx(Cd,{className:"w-4 h-4 mr-1"}),y(v.updatedDate)]})})]},v._id)):l.jsxs("div",{className:"text-center py-8",children:[l.jsx($n,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground opacity-50"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"No recent documents"}),l.jsx(rt,{to:"/documents",children:l.jsx(de,{variant:"outline",size:"sm",className:"rounded-xl mt-2",children:"Create your first document"})})]})})]}),l.jsxs(Ne,{className:"p-6 rounded-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-[20px]",children:"Favorites"}),l.jsx(ap,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"})]}),l.jsx("div",{className:"space-y-3",children:i.length>0?l.jsx("div",{className:"space-y-2",children:i.map(v=>l.jsxs(rt,{to:`/documents/${v._id}`,className:"flex items-center justify-between p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors group",children:[l.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center",children:l.jsx($n,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"truncate font-medium",children:v.Title||"Untitled Document"}),l.jsx("p",{className:"text-[14px] text-muted-foreground",children:v.folderName||"Uncategorized"})]})]}),l.jsx("span",{className:"text-[12px] text-muted-foreground ml-2",children:y(v.updatedDate)})]},v._id))}):l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No favorite documents yet"})}),l.jsx("div",{className:"flex gap-2 mt-4",children:l.jsx(rt,{to:"/documents",className:"flex-1",children:l.jsx(de,{variant:"outline",className:"w-full rounded-xl",children:"View all documents"})})})]})]}),l.jsxs(Ne,{className:"p-6 rounded-xl",children:[l.jsx("h2",{className:"text-[20px] mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx(rt,{to:"/documents/new",children:l.jsxs(de,{className:"rounded-xl",children:[l.jsx($n,{className:"w-4 h-4 mr-2"}),"New Document"]})}),l.jsx(rt,{to:"/folders",children:l.jsxs(de,{variant:"outline",className:"rounded-xl",children:[l.jsx(tn,{className:"w-4 h-4 mr-2"}),"Create Folder"]})}),l.jsx(rt,{to:"/chat",children:l.jsx(de,{variant:"outline",className:"rounded-xl",children:"Start Conversation"})})]})]})]})}function Ay(t,[e,n]){return Math.min(n,Math.max(e,t))}function ub(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var uO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),EH="VisuallyHidden",NH=w.forwardRef((t,e)=>l.jsx(De.span,{...t,ref:e,style:{...uO,...t.style}}));NH.displayName=EH;var jH=[" ","Enter","ArrowUp","ArrowDown"],TH=[" ","Enter"],ba="Select",[Tm,Mm,MH]=z0(ba),[lc]=rr(ba,[MH,ac]),Om=ac(),[OH,Ti]=lc(ba),[PH,AH]=lc(ba),hO=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:c,onValueChange:u,dir:h,name:f,autoComplete:m,disabled:g,required:y,form:v}=t,b=Om(e),[k,C]=w.useState(null),[_,T]=w.useState(null),[N,j]=w.useState(!1),P=fu(h),[I,O]=xo({prop:r,defaultProp:s??!1,onChange:o,caller:ba}),[L,$]=xo({prop:i,defaultProp:c,onChange:u,caller:ba}),V=w.useRef(null),Q=k?v||!!k.closest("form"):!0,[K,se]=w.useState(new Set),ne=Array.from(K).map(W=>W.props.value).join(";");return l.jsx(J0,{...b,children:l.jsxs(OH,{required:y,scope:e,trigger:k,onTriggerChange:C,valueNode:_,onValueNodeChange:T,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:ss(),value:L,onValueChange:$,open:I,onOpenChange:O,dir:P,triggerPointerDownPosRef:V,disabled:g,children:[l.jsx(Tm.Provider,{scope:e,children:l.jsx(PH,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(W=>{se(U=>new Set(U).add(W))},[]),onNativeOptionRemove:w.useCallback(W=>{se(U=>{const R=new Set(U);return R.delete(W),R})},[]),children:n})}),Q?l.jsxs(RO,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:m,value:L,onChange:W=>$(W.target.value),disabled:g,form:v,children:[L===void 0?l.jsx("option",{value:""}):null,Array.from(K)]},ne):null]})})};hO.displayName=ba;var fO="SelectTrigger",pO=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Om(n),i=Ti(fO,n),c=i.disabled||r,u=Ge(e,i.onTriggerChange),h=Mm(n),f=w.useRef("touch"),[m,g,y]=DO(b=>{const k=h().filter(T=>!T.disabled),C=k.find(T=>T.value===i.value),_=LO(k,b,C);_!==void 0&&i.onValueChange(_.value)}),v=b=>{c||(i.onOpenChange(!0),y()),b&&(i.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return l.jsx(ym,{asChild:!0,...o,children:l.jsx(De.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":IO(i.value)?"":void 0,...s,ref:u,onClick:Ee(s.onClick,b=>{b.currentTarget.focus(),f.current!=="mouse"&&v(b)}),onPointerDown:Ee(s.onPointerDown,b=>{f.current=b.pointerType;const k=b.target;k.hasPointerCapture(b.pointerId)&&k.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(v(b),b.preventDefault())}),onKeyDown:Ee(s.onKeyDown,b=>{const k=m.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(k&&b.key===" ")&&jH.includes(b.key)&&(v(),b.preventDefault())})})})});pO.displayName=fO;var mO="SelectValue",gO=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...c}=t,u=Ti(mO,n),{onValueNodeHasChildrenChange:h}=u,f=o!==void 0,m=Ge(e,u.onValueNodeChange);return Yt(()=>{h(f)},[h,f]),l.jsx(De.span,{...c,ref:m,style:{pointerEvents:"none"},children:IO(u.value)?l.jsx(l.Fragment,{children:i}):o})});gO.displayName=mO;var RH="SelectIcon",xO=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(De.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});xO.displayName=RH;var IH="SelectPortal",vO=t=>l.jsx(xu,{asChild:!0,...t});vO.displayName=IH;var wa="SelectContent",yO=w.forwardRef((t,e)=>{const n=Ti(wa,t.__scopeSelect),[r,s]=w.useState();if(Yt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?au.createPortal(l.jsx(bO,{scope:t.__scopeSelect,children:l.jsx(Tm.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),o):null}return l.jsx(wO,{...t,ref:e})});yO.displayName=wa;var es=10,[bO,Mi]=lc(wa),DH="SelectContentImpl",LH=vi("SelectContent.RemoveScroll"),wO=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:c,sideOffset:u,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:y,sticky:v,hideWhenDetached:b,avoidCollisions:k,...C}=t,_=Ti(wa,n),[T,N]=w.useState(null),[j,P]=w.useState(null),I=Ge(e,X=>N(X)),[O,L]=w.useState(null),[$,V]=w.useState(null),Q=Mm(n),[K,se]=w.useState(!1),ne=w.useRef(!1);w.useEffect(()=>{if(T)return wm(T)},[T]),pm();const W=w.useCallback(X=>{const[H,...F]=Q().map(ve=>ve.ref.current),[J]=F.slice(-1),me=document.activeElement;for(const ve of X)if(ve===me||(ve?.scrollIntoView({block:"nearest"}),ve===H&&j&&(j.scrollTop=0),ve===J&&j&&(j.scrollTop=j.scrollHeight),ve?.focus(),document.activeElement!==me))return},[Q,j]),U=w.useCallback(()=>W([O,T]),[W,O,T]);w.useEffect(()=>{K&&U()},[K,U]);const{onOpenChange:R,triggerPointerDownPosRef:D}=_;w.useEffect(()=>{if(T){let X={x:0,y:0};const H=J=>{X={x:Math.abs(Math.round(J.pageX)-(D.current?.x??0)),y:Math.abs(Math.round(J.pageY)-(D.current?.y??0))}},F=J=>{X.x<=10&&X.y<=10?J.preventDefault():T.contains(J.target)||R(!1),document.removeEventListener("pointermove",H),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",F,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",F,{capture:!0})}}},[T,R,D]),w.useEffect(()=>{const X=()=>R(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[R]);const[Z,M]=DO(X=>{const H=Q().filter(me=>!me.disabled),F=H.find(me=>me.ref.current===document.activeElement),J=LO(H,X,F);J&&setTimeout(()=>J.ref.current.focus())}),B=w.useCallback((X,H,F)=>{const J=!ne.current&&!F;(_.value!==void 0&&_.value===H||J)&&(L(X),J&&(ne.current=!0))},[_.value]),q=w.useCallback(()=>T?.focus(),[T]),ee=w.useCallback((X,H,F)=>{const J=!ne.current&&!F;(_.value!==void 0&&_.value===H||J)&&V(X)},[_.value]),ie=r==="popper"?Ry:kO,ce=ie===Ry?{side:c,sideOffset:u,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:y,sticky:v,hideWhenDetached:b,avoidCollisions:k}:{};return l.jsx(bO,{scope:n,content:T,viewport:j,onViewportChange:P,itemRefCallback:B,selectedItem:O,onItemLeave:q,itemTextRefCallback:ee,focusSelectedItem:U,selectedItemText:$,position:r,isPositioned:K,searchRef:Z,children:l.jsx(yu,{as:LH,allowPinchZoom:!0,children:l.jsx(mu,{asChild:!0,trapped:_.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Ee(s,X=>{_.trigger?.focus({preventScroll:!0}),X.preventDefault()}),children:l.jsx(pu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:l.jsx(ie,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:X=>X.preventDefault(),...C,...ce,onPlaced:()=>se(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Ee(C.onKeyDown,X=>{const H=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!H&&X.key.length===1&&M(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let J=Q().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(X.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const me=X.target,ve=J.indexOf(me);J=J.slice(ve+1)}setTimeout(()=>W(J)),X.preventDefault()}})})})})})})});wO.displayName=DH;var BH="SelectItemAlignedPosition",kO=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Ti(wa,n),i=Mi(wa,n),[c,u]=w.useState(null),[h,f]=w.useState(null),m=Ge(e,I=>f(I)),g=Mm(n),y=w.useRef(!1),v=w.useRef(!0),{viewport:b,selectedItem:k,selectedItemText:C,focusSelectedItem:_}=i,T=w.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&b&&k&&C){const I=o.trigger.getBoundingClientRect(),O=h.getBoundingClientRect(),L=o.valueNode.getBoundingClientRect(),$=C.getBoundingClientRect();if(o.dir!=="rtl"){const me=$.left-O.left,ve=L.left-me,ue=I.left-ve,ge=I.width+ue,he=Math.max(ge,O.width),xe=window.innerWidth-es,fe=Ay(ve,[es,Math.max(es,xe-he)]);c.style.minWidth=ge+"px",c.style.left=fe+"px"}else{const me=O.right-$.right,ve=window.innerWidth-L.right-me,ue=window.innerWidth-I.right-ve,ge=I.width+ue,he=Math.max(ge,O.width),xe=window.innerWidth-es,fe=Ay(ve,[es,Math.max(es,xe-he)]);c.style.minWidth=ge+"px",c.style.right=fe+"px"}const V=g(),Q=window.innerHeight-es*2,K=b.scrollHeight,se=window.getComputedStyle(h),ne=parseInt(se.borderTopWidth,10),W=parseInt(se.paddingTop,10),U=parseInt(se.borderBottomWidth,10),R=parseInt(se.paddingBottom,10),D=ne+W+K+R+U,Z=Math.min(k.offsetHeight*5,D),M=window.getComputedStyle(b),B=parseInt(M.paddingTop,10),q=parseInt(M.paddingBottom,10),ee=I.top+I.height/2-es,ie=Q-ee,ce=k.offsetHeight/2,X=k.offsetTop+ce,H=ne+W+X,F=D-H;if(H<=ee){const me=V.length>0&&k===V[V.length-1].ref.current;c.style.bottom="0px";const ve=h.clientHeight-b.offsetTop-b.offsetHeight,ue=Math.max(ie,ce+(me?q:0)+ve+U),ge=H+ue;c.style.height=ge+"px"}else{const me=V.length>0&&k===V[0].ref.current;c.style.top="0px";const ue=Math.max(ee,ne+b.offsetTop+(me?B:0)+ce)+F;c.style.height=ue+"px",b.scrollTop=H-ee+b.offsetTop}c.style.margin=`${es}px 0`,c.style.minHeight=Z+"px",c.style.maxHeight=Q+"px",r?.(),requestAnimationFrame(()=>y.current=!0)}},[g,o.trigger,o.valueNode,c,h,b,k,C,o.dir,r]);Yt(()=>T(),[T]);const[N,j]=w.useState();Yt(()=>{h&&j(window.getComputedStyle(h).zIndex)},[h]);const P=w.useCallback(I=>{I&&v.current===!0&&(T(),_?.(),v.current=!1)},[T,_]);return l.jsx($H,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:P,children:l.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:l.jsx(De.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});kO.displayName=BH;var FH="SelectPopperPosition",Ry=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=es,...o}=t,i=Om(n);return l.jsx(Q0,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ry.displayName=FH;var[$H,hb]=lc(wa,{}),Iy="SelectViewport",SO=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Mi(Iy,n),i=hb(Iy,n),c=Ge(e,o.onViewportChange),u=w.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Tm.Slot,{scope:n,children:l.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ee(s.onScroll,h=>{const f=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=i;if(g?.current&&m){const y=Math.abs(u.current-f.scrollTop);if(y>0){const v=window.innerHeight-es*2,b=parseFloat(m.style.minHeight),k=parseFloat(m.style.height),C=Math.max(b,k);if(C<v){const _=C+y,T=Math.min(v,_),N=_-T;m.style.height=T+"px",m.style.bottom==="0px"&&(f.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});SO.displayName=Iy;var CO="SelectGroup",[zH,UH]=lc(CO),HH=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ss();return l.jsx(zH,{scope:n,id:s,children:l.jsx(De.div,{role:"group","aria-labelledby":s,...r,ref:e})})});HH.displayName=CO;var _O="SelectLabel",WH=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=UH(_O,n);return l.jsx(De.div,{id:s.id,...r,ref:e})});WH.displayName=_O;var bp="SelectItem",[VH,EO]=lc(bp),NO=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,c=Ti(bp,n),u=Mi(bp,n),h=c.value===r,[f,m]=w.useState(o??""),[g,y]=w.useState(!1),v=Ge(e,_=>u.itemRefCallback?.(_,r,s)),b=ss(),k=w.useRef("touch"),C=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(VH,{scope:n,value:r,disabled:s,textId:b,isSelected:h,onItemTextChange:w.useCallback(_=>{m(T=>T||(_?.textContent??"").trim())},[]),children:l.jsx(Tm.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:l.jsx(De.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:Ee(i.onFocus,()=>y(!0)),onBlur:Ee(i.onBlur,()=>y(!1)),onClick:Ee(i.onClick,()=>{k.current!=="mouse"&&C()}),onPointerUp:Ee(i.onPointerUp,()=>{k.current==="mouse"&&C()}),onPointerDown:Ee(i.onPointerDown,_=>{k.current=_.pointerType}),onPointerMove:Ee(i.onPointerMove,_=>{k.current=_.pointerType,s?u.onItemLeave?.():k.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(i.onPointerLeave,_=>{_.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Ee(i.onKeyDown,_=>{u.searchRef?.current!==""&&_.key===" "||(TH.includes(_.key)&&C(),_.key===" "&&_.preventDefault())})})})})});NO.displayName=bp;var gd="SelectItemText",jO=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=Ti(gd,n),c=Mi(gd,n),u=EO(gd,n),h=AH(gd,n),[f,m]=w.useState(null),g=Ge(e,C=>m(C),u.onItemTextChange,C=>c.itemTextRefCallback?.(C,u.value,u.disabled)),y=f?.textContent,v=w.useMemo(()=>l.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:k}=h;return Yt(()=>(b(v),()=>k(v)),[b,k,v]),l.jsxs(l.Fragment,{children:[l.jsx(De.span,{id:u.textId,...o,ref:g}),u.isSelected&&i.valueNode&&!i.valueNodeHasChildren?au.createPortal(o.children,i.valueNode):null]})});jO.displayName=gd;var TO="SelectItemIndicator",MO=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return EO(TO,n).isSelected?l.jsx(De.span,{"aria-hidden":!0,...r,ref:e}):null});MO.displayName=TO;var Dy="SelectScrollUpButton",OO=w.forwardRef((t,e)=>{const n=Mi(Dy,t.__scopeSelect),r=hb(Dy,t.__scopeSelect),[s,o]=w.useState(!1),i=Ge(e,r.onScrollButtonChange);return Yt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=u.scrollTop>0;o(h)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?l.jsx(AO,{...t,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});OO.displayName=Dy;var Ly="SelectScrollDownButton",PO=w.forwardRef((t,e)=>{const n=Mi(Ly,t.__scopeSelect),r=hb(Ly,t.__scopeSelect),[s,o]=w.useState(!1),i=Ge(e,r.onScrollButtonChange);return Yt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<h;o(f)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?l.jsx(AO,{...t,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});PO.displayName=Ly;var AO=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Mi("SelectScrollButton",n),i=w.useRef(null),c=Mm(n),u=w.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return w.useEffect(()=>()=>u(),[u]),Yt(()=>{c().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),l.jsx(De.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ee(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Ee(s.onPointerMove,()=>{o.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Ee(s.onPointerLeave,()=>{u()})})}),qH="SelectSeparator",YH=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(De.div,{"aria-hidden":!0,...r,ref:e})});YH.displayName=qH;var By="SelectArrow",KH=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Om(n),o=Ti(By,n),i=Mi(By,n);return o.open&&i.position==="popper"?l.jsx(Z0,{...s,...r,ref:e}):null});KH.displayName=By;var XH="SelectBubbleInput",RO=w.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=w.useRef(null),o=Ge(r,s),i=ub(e);return w.useEffect(()=>{const c=s.current;if(!c)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(i!==e&&f){const m=new Event("change",{bubbles:!0});f.call(c,e),c.dispatchEvent(m)}},[i,e]),l.jsx(De.select,{...n,style:{...uO,...n.style},ref:o,defaultValue:e})});RO.displayName=XH;function IO(t){return t===""||t===void 0}function DO(t){const e=pn(t),n=w.useRef(""),r=w.useRef(0),s=w.useCallback(i=>{const c=n.current+i;e(c),(function u(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(c)},[e]),o=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function LO(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=GH(t,Math.max(o,0));s.length===1&&(i=i.filter(h=>h!==n));const u=i.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function GH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var JH=hO,QH=pO,ZH=gO,eW=xO,tW=vO,nW=yO,rW=SO,sW=NO,oW=jO,iW=MO,aW=OO,lW=PO;function la({...t}){return l.jsx(JH,{"data-slot":"select",...t})}function ca({...t}){return l.jsx(ZH,{"data-slot":"select-value",...t})}function da({className:t,size:e="default",children:n,...r}){return l.jsxs(QH,{"data-slot":"select-trigger","data-size":e,className:ze("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,l.jsx(eW,{asChild:!0,children:l.jsx(pT,{className:"size-4 opacity-50"})})]})}function ua({className:t,children:e,position:n="popper",...r}){return l.jsx(tW,{children:l.jsxs(nW,{"data-slot":"select-content",className:ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(cW,{}),l.jsx(rW,{className:ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),l.jsx(dW,{})]})})}function en({className:t,children:e,...n}){return l.jsxs(sW,{"data-slot":"select-item",className:ze("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(iW,{children:l.jsx(Bl,{className:"size-4"})})}),l.jsx(oW,{children:e})]})}function cW({className:t,...e}){return l.jsx(aW,{"data-slot":"select-scroll-up-button",className:ze("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(YF,{className:"size-4"})})}function dW({className:t,...e}){return l.jsx(lW,{"data-slot":"select-scroll-down-button",className:ze("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(pT,{className:"size-4"})})}function uW(){const[t,e]=w.useState("grid"),[n,r]=w.useState(""),[s,o]=w.useState("all"),[i,c]=w.useState("modified"),[u,h]=w.useState({}),[f,m]=w.useState(!0),[g,y]=w.useState(new Set),v=Wr(),[b,k]=w.useState(!1),[C,_]=w.useState(""),[T,N]=w.useState(""),[j,P]=w.useState(!1),[I,O]=w.useState([]),[L,$]=w.useState(null),V=R=>{const D=new Date(R),M=Math.floor((new Date().getTime()-D.getTime())/1e3);if(M<60)return"Just now";if(M<3600){const B=Math.floor(M/60);return`${B} minute${B>1?"s":""} ago`}else if(M<86400){const B=Math.floor(M/3600);return`${B} hour${B>1?"s":""} ago`}else if(M<604800){const B=Math.floor(M/86400);return`${B} day${B>1?"s":""} ago`}else if(M<2592e3){const B=Math.floor(M/604800);return`${B} week${B>1?"s":""} ago`}else{const B=Math.floor(M/2592e3);return`${B} month${B>1?"s":""} ago`}};w.useEffect(()=>{(()=>{try{const D=localStorage.getItem("access_token");if(!D)return;const M=D.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),B=decodeURIComponent(atob(M).split("").map(ie=>"%"+("00"+ie.charCodeAt(0).toString(16)).slice(-2)).join("")),q=JSON.parse(B),ee=q.id||q._id||q.userId;$(ee)}catch(D){console.error("Failed to get user ID:",D)}})()},[]),w.useEffect(()=>{(async()=>{try{const D=await Vt.getAll(1,100);O(D),D.length>0&&!T&&N(D[0]._id)}catch(D){console.error("Failed to fetch folders:",D)}})()},[]),w.useEffect(()=>{(async()=>{m(!0);try{const[D,Z]=await Promise.all([gt.getAll(),Vt.getAll(1,100)]),M=new Map;Z.forEach(ie=>{M.set(ie._id,ie)});const B=ie=>ie?typeof ie=="string"?ie:typeof ie=="object"&&ie._id?String(ie._id):String(ie):null,q=D.map(ie=>{const ce=B(ie.folderId),X=ce?M.get(ce):null,H=ie.sharedWith?.length||0,F=ie.Title?.trim()||"Untitled Document",J=F==="Error Loading Document"?"Untitled Document":F;return F==="Error Loading Document"&&console.warn("Document with error title found, replacing with default:",ie._id),{...ie,Title:J,folderId:ce||void 0,folderName:X?.Name||"Uncategorized",formattedModified:V(ie.updatedDate||ie.createdDate),collaboratorsCount:H}}),ee={};q.forEach(ie=>{const ce=ie.folderId||"uncategorized",X=ie.folderName||"Uncategorized";ee[ce]||(ee[ce]={folderName:X,folderId:ie.folderId||null,documents:[]}),ee[ce].documents.push(ie)}),Object.keys(ee).forEach(ie=>{ee[ie].documents.sort((ce,X)=>i==="modified"?new Date(X.updatedDate||X.createdDate).getTime()-new Date(ce.updatedDate||ce.createdDate).getTime():i==="created"?new Date(X.createdDate).getTime()-new Date(ce.createdDate).getTime():ce.Title.localeCompare(X.Title))}),h(ee),y(new Set(Object.keys(ee)))}catch(D){console.error("Failed to fetch documents:",D),ae.error("Failed to load documents")}finally{m(!1)}})()},[i]);const Q={};Object.keys(u).forEach(R=>{const D=u[R],Z=D.documents.filter(M=>n===""||M.Title.toLowerCase().includes(n.toLowerCase())||M.folderName?.toLowerCase().includes(n.toLowerCase())||M.contentType?.some(q=>q.toLowerCase().includes(n.toLowerCase()))?s==="shared"?M.sharedWith&&M.sharedWith.length>0:s==="recent"?(Date.now()-new Date(M.updatedDate||M.createdDate).getTime())/864e5<7:s==="archived"?M.archived===!0:s==="all"?M.archived!==!0:!0:!1);Z.length>0&&(Q[R]={...D,documents:Z})});const K=R=>{const D=new Set(g);D.has(R)?D.delete(R):D.add(R),y(D)},se=async(R,D)=>{if(D.preventDefault(),D.stopPropagation(),!L){ae.error("Please log in to favorite documents");return}try{R.favoritedBy?.includes(L)?(await gt.unfavorite(R._id),ae.success("Document removed from favorites")):(await gt.favorite(R._id),ae.success("Document added to favorites"));const M=await gt.getAll(),B=await Vt.getAll(1,100),q=new Map;B.forEach(X=>{q.set(X._id,X)});const ee=X=>X?typeof X=="string"?X:typeof X=="object"&&X._id?String(X._id):String(X):null,ie=M.map(X=>{const H=ee(X.folderId),F=H?q.get(H):null,J=X.sharedWith?.length||0,me=X.Title?.trim()||"Untitled Document",ve=me==="Error Loading Document"?"Untitled Document":me;return me==="Error Loading Document"&&console.warn("Document with error title found, replacing with default:",X._id),{...X,Title:ve,folderId:H||void 0,folderName:F?.Name||"Uncategorized",formattedModified:V(X.updatedDate||X.createdDate),collaboratorsCount:J}}),ce={};ie.forEach(X=>{const H=X.folderId||"uncategorized",F=X.folderName||"Uncategorized";ce[H]||(ce[H]={folderName:F,folderId:X.folderId||null,documents:[]}),ce[H].documents.push(X)}),Object.keys(ce).forEach(X=>{ce[X].documents.sort((H,F)=>i==="modified"?new Date(F.updatedDate||F.createdDate).getTime()-new Date(H.updatedDate||H.createdDate).getTime():i==="created"?new Date(F.createdDate).getTime()-new Date(H.createdDate).getTime():H.Title.localeCompare(F.Title))}),h(ce)}catch(Z){console.error("Failed to toggle favorite:",Z),ae.error(Z?.response?.data?.message||"Failed to update favorite status")}},ne=R=>!L||!R.favoritedBy?!1:R.favoritedBy.includes(L);if(f)return l.jsx("div",{className:"max-w-7xl mx-auto space-y-6 py-12",children:l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(Ar,{className:"h-8 w-8 animate-spin text-muted-foreground"}),l.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading documents..."})]})});async function W(){if(!C.trim()){ae.error("Please enter a document name");return}if(!T){ae.error("Please select a folder");return}P(!0);try{const R=await gt.create({Title:C,folderId:T});k(!1),_(""),N(I.length>0?I[0]._id:""),P(!1),v(`/documents/${R._id}`)}catch(R){const D=R?.response?.data?.message||R?.message||"Failed to create document";ae.error(D),P(!1)}}async function U(R,D,Z){if(D!==Z)try{await gt.update(R,{folderId:D}),ae.success("Document moved successfully"),m(!0);const[M,B]=await Promise.all([gt.getAll(),Vt.getAll(1,100)]),q=X=>X?typeof X=="string"?X:typeof X=="object"&&X._id?String(X._id):String(X):null,ee=new Map;B.forEach(X=>{ee.set(X._id,X)});const ie=M.map(X=>{const H=q(X.folderId),F=H?ee.get(H):null,J=X.sharedWith?.length||0,me=X.Title?.trim()||"Untitled Document";return{...X,Title:me==="Error Loading Document"?"Untitled Document":me,folderId:H||void 0,folderName:F?.Name||"Uncategorized",formattedModified:V(X.updatedDate||X.createdDate),collaboratorsCount:J}}),ce={};ie.forEach(X=>{const H=X.folderId||"uncategorized",F=X.folderName||"Uncategorized";ce[H]||(ce[H]={folderName:F,folderId:X.folderId||null,documents:[]}),ce[H].documents.push(X)}),Object.keys(ce).forEach(X=>{ce[X].documents.sort((H,F)=>i==="modified"?new Date(F.updatedDate||F.createdDate).getTime()-new Date(H.updatedDate||H.createdDate).getTime():i==="created"?new Date(F.createdDate).getTime()-new Date(H.createdDate).getTime():H.Title.localeCompare(F.Title))}),h(ce),y(new Set(Object.keys(ce))),m(!1)}catch(M){const B=M?.response?.data?.message||M?.message||"Failed to move document";ae.error(B),m(!1)}}return l.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-[24px] mb-2",children:"Documents"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage and organize all your documents"})]}),l.jsx(rt,{to:"/folders",children:l.jsxs(de,{variant:"outline",className:"rounded-xl mr-2",children:[l.jsx(tn,{className:"w-4 h-4 mr-2"}),"View Folders"]})}),l.jsxs(de,{className:"rounded-xl",onClick:()=>k(!0),children:[l.jsx(Ad,{className:"w-4 h-4 mr-2"}),"New Document"]})]}),l.jsx(Ne,{className:"p-4 rounded-xl",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(um,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(Ye,{type:"text",placeholder:"Search documents...",value:n,onChange:R=>r(R.target.value),className:"pl-10 rounded-xl"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(la,{value:s,onValueChange:o,children:[l.jsx(da,{className:"w-[140px] rounded-xl",children:l.jsx(ca,{placeholder:"Filter by"})}),l.jsxs(ua,{className:"rounded-xl",children:[l.jsx(en,{value:"all",children:"All Documents"}),l.jsx(en,{value:"shared",children:"Shared"}),l.jsx(en,{value:"recent",children:"Recent (7 days)"}),l.jsx(en,{value:"archived",children:"Archived"})]})]}),l.jsxs(la,{value:i,onValueChange:c,children:[l.jsx(da,{className:"w-[140px] rounded-xl",children:l.jsx(ca,{placeholder:"Sort by"})}),l.jsxs(ua,{className:"rounded-xl",children:[l.jsx(en,{value:"modified",children:"Last Modified"}),l.jsx(en,{value:"created",children:"Date Created"}),l.jsx(en,{value:"name",children:"Name"})]})]}),l.jsxs("div",{className:"flex border border-border rounded-xl",children:[l.jsx(de,{variant:t==="grid"?"default":"ghost",size:"icon",onClick:()=>e("grid"),className:"rounded-l-xl rounded-r-none",children:l.jsx(b8,{className:"w-4 h-4"})}),l.jsx(de,{variant:t==="list"?"default":"ghost",size:"icon",onClick:()=>e("list"),className:"rounded-r-xl rounded-l-none",children:l.jsx(k8,{className:"w-4 h-4"})})]})]})]})}),Object.keys(Q).length===0?l.jsxs(Ne,{className:"p-12 text-center rounded-xl",children:[l.jsx($n,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),l.jsx("p",{className:"text-muted-foreground",children:n?"No documents match your search":s==="shared"?"No shared documents found":s==="recent"?"No recent documents found":s==="archived"?"No archived documents found":"No documents found"})]}):l.jsx("div",{className:"space-y-6",children:Object.entries(Q).map(([R,D])=>{const Z=g.has(R),M=D.folderId?`/folders/${D.folderId}`:"#";return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(rt,{to:M,className:"flex items-center gap-2 group hover:text-primary transition-colors",children:[l.jsx(tn,{className:"w-5 h-5"}),l.jsx("h2",{className:"text-lg font-semibold",children:D.folderName}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",D.documents.length," ",D.documents.length===1?"document":"documents",")"]})]}),l.jsx(de,{variant:"ghost",size:"sm",onClick:()=>K(R),className:"rounded-lg",children:Z?"Collapse":"Expand"})]}),Z&&(t==="grid"?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.documents.map(B=>l.jsx("div",{className:"relative",children:l.jsx(rt,{to:`/documents/${B._id}`,children:l.jsxs(Ne,{className:"p-5 rounded-xl hover:shadow-lg transition-shadow group cursor-pointer h-full",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center",children:l.jsx($n,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(de,{variant:"ghost",size:"icon",className:"rounded-lg -mt-1",onClick:q=>se(B,q),children:l.jsx(ap,{className:`w-4 h-4 ${ne(B)?"fill-yellow-400 text-yellow-400":""}`})}),l.jsxs(pp,{children:[l.jsx(mp,{asChild:!0,onClick:q=>q.preventDefault(),children:l.jsx(de,{variant:"ghost",size:"icon",className:"rounded-lg -mt-1 -mr-1",onClick:q=>{q.preventDefault(),q.stopPropagation()},children:l.jsx(X2,{className:"w-4 h-4"})})}),l.jsxs(gp,{align:"end",className:"rounded-xl w-56",children:[l.jsxs(vp,{className:"flex items-center gap-2",children:[l.jsx(G2,{className:"w-4 h-4"}),"Move to Folder"]}),l.jsx(_d,{}),I.map(q=>l.jsxs(xp,{onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),U(B._id,q._id,B.folderId||"uncategorized")},disabled:q._id===B.folderId,className:"cursor-pointer",children:[l.jsx(tn,{className:"w-4 h-4 mr-2"}),q.Name,q._id===B.folderId&&l.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"(current)"})]},q._id))]})]})]})]}),l.jsx("h3",{className:"mb-2 line-clamp-2 font-semibold",children:B.Title||"Untitled Document"}),l.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:B.contentType?.map(q=>l.jsx(bt,{variant:"secondary",className:"text-[12px] rounded-lg",children:q},q))}),l.jsxs("div",{className:"flex items-center justify-between text-[14px] text-muted-foreground",children:[l.jsx("span",{children:B.formattedModified}),l.jsxs("span",{children:[B.collaboratorsCount||0," ",B.collaboratorsCount===1?"collaborator":"collaborators"]})]})]})})},B._id))}):l.jsx(Ne,{className:"rounded-xl overflow-hidden",children:l.jsx("div",{className:"divide-y divide-border",children:D.documents.map(B=>l.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors group",children:[l.jsxs(rt,{to:`/documents/${B._id}`,className:"flex items-center space-x-4 flex-1 min-w-0",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center",children:l.jsx($n,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("p",{className:"truncate font-medium",children:B.Title||"Untitled Document"})}),l.jsx("p",{className:"text-[14px] text-muted-foreground",children:D.folderName})]})]}),l.jsxs("div",{className:"flex items-center space-x-6 text-[14px] text-muted-foreground",children:[l.jsx("div",{className:"flex gap-1.5",children:B.contentType?.map(q=>l.jsx(bt,{variant:"secondary",className:"text-[12px] rounded-lg",children:q},q))}),l.jsx("span",{className:"w-32 text-right",children:B.formattedModified}),l.jsxs("span",{className:"w-32 text-right",children:[B.collaboratorsCount||0," ",B.collaboratorsCount===1?"collaborator":"collaborators"]}),l.jsx(de,{variant:"ghost",size:"icon",className:"rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",onClick:q=>se(B,q),children:l.jsx(ap,{className:`w-4 h-4 ${ne(B)?"fill-yellow-400 text-yellow-400":""}`})}),l.jsxs(pp,{children:[l.jsx(mp,{asChild:!0,children:l.jsx(de,{variant:"ghost",size:"icon",className:"rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",onClick:q=>{q.preventDefault(),q.stopPropagation()},children:l.jsx(X2,{className:"w-4 h-4"})})}),l.jsxs(gp,{align:"end",className:"rounded-xl w-56",children:[l.jsxs(vp,{className:"flex items-center gap-2",children:[l.jsx(G2,{className:"w-4 h-4"}),"Move to Folder"]}),l.jsx(_d,{}),I.map(q=>l.jsxs(xp,{onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),U(B._id,q._id,B.folderId||"uncategorized")},disabled:q._id===B.folderId,className:"cursor-pointer",children:[l.jsx(tn,{className:"w-4 h-4 mr-2"}),q.Name,q._id===B.folderId&&l.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"(current)"})]},q._id))]})]})]})]},B._id))})}))]},R)})}),b&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-card rounded-2xl shadow-2xl max-w-md w-full",children:[l.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[l.jsx("h2",{className:"text-[20px] font-semibold",children:"Create New Document"}),l.jsx(de,{variant:"ghost",size:"icon",onClick:()=>{k(!1),_(""),N(I.length>0?I[0]._id:"")},className:"rounded-lg",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Document Name"}),l.jsx(Ye,{type:"text",value:C,onChange:R=>_(R.target.value),placeholder:"e.g., Q4 Planning",className:"rounded-xl",autoFocus:!0,onKeyPress:R=>R.key==="Enter"&&W()})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Folder *"}),I.length===0?l.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-gray-50 dark:bg-gray-800 rounded-xl",children:["No folders available. Please ",l.jsx(rt,{to:"/folders",className:"text-primary hover:underline",children:"create a folder"})," first."]}):l.jsxs(la,{value:T,onValueChange:N,children:[l.jsx(da,{className:"w-full rounded-xl",children:l.jsx(ca,{placeholder:"-- Select a folder --"})}),l.jsx(ua,{className:"rounded-xl",children:I.map(R=>l.jsx(en,{value:R._id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tn,{className:"w-4 h-4"}),R.Name]})},R._id))})]}),l.jsx("p",{className:"text-[12px] text-muted-foreground mt-1",children:"All documents must belong to a folder"})]})]}),l.jsxs("div",{className:"p-6 border-t border-border flex justify-end space-x-3",children:[l.jsx(de,{variant:"outline",onClick:()=>{k(!1),_(""),N(I.length>0?I[0]._id:"")},className:"rounded-xl",children:"Cancel"}),l.jsx(de,{onClick:W,className:"rounded-xl",disabled:j||!C.trim()||!T,children:j?"Creating...":"Create Document"})]})]})})]})}function hW(){const[t,e]=w.useState([]),[n,r]=w.useState(!1),[s,o]=w.useState(null),[i,c]=w.useState(""),[u,h]=w.useState(1),[f,m]=w.useState(!1),[g,y]=w.useState([]),[v,b]=w.useState({}),[k,C]=w.useState(!1),[_,T]=w.useState(null),[N,j]=w.useState(null),[P,I]=w.useState(""),O=10,L=R=>R?.code==="ERR_NETWORK"||R?.code==="ECONNREFUSED"||R?.message?.includes("ERR_CONNECTION_REFUSED")||R?.message?.includes("Network Error")||!R?.response,$=R=>{const D=R?.response?.status,Z=R?.response?.data?.message?.toLowerCase()||R?.message?.toLowerCase()||"";return D===401||D===403||Z.includes("unauthorized")||Z.includes("forbidden")||Z==="unauthorized"||Z==="forbidden"};w.useEffect(()=>{(async()=>{try{const D=await $e.get("/users");y(D.data)}catch(D){L(D)?(console.warn("Backend connection unavailable. Users list will be empty."),y([])):$(D)?(console.warn("Authentication error. Users list will be empty."),y([])):console.error("Failed to fetch users:",D)}})()},[]),w.useEffect(()=>{(async()=>{r(!0),o(null);try{const D=await Vt.search(i,u,O);e(D)}catch(D){if(L(D))console.warn("Backend connection unavailable. Folders list will be empty."),e([]),o(null);else if($(D))console.warn("Authentication error. Token may be expired or invalid."),e([]),o(null);else{const Z=D?.response?.data?.message||D?.message||"Failed to load folders";Z.toLowerCase().includes("unauthorized")||Z.toLowerCase().includes("forbidden")?(e([]),o(null)):(o(Z),ae.error(Z))}}finally{r(!1)}})()},[i,u]);const V=async R=>{try{const D=await Vt.create({Name:R});ae.success("Folder created successfully!"),e([D,...t]),m(!1)}catch(D){ae.error(D?.message||"Failed to create folder")}},Q=async(R,D)=>{if(confirm(`Are you sure you want to delete "${D}"?`))try{await Vt.delete(R),ae.success("Folder deleted successfully!"),e(t.filter(Z=>Z._id!==R))}catch(Z){ae.error(Z?.message||"Failed to delete folder")}},K=R=>{j(R._id),I(R.Name)},se=()=>{j(null),I("")},ne=async R=>{if(!P.trim()){ae.error("Please enter a folder name");return}try{const D=await Vt.update(R,P.trim());ae.success("Folder renamed successfully!"),e(t.map(Z=>Z._id===R?D:Z)),j(null),I("")}catch(D){ae.error(D?.message||"Failed to rename folder")}},W=R=>{T(R),C(!0)},U=async(R,D="view")=>{if(_)try{const Z=await Vt.inviteByEmail(_._id,{email:R,access:D});if(Z.success){ae.success(`Invitation sent to ${R}`);try{await wT(R,{folderName:_.Name,accessLevel:D,sharedBy:"XPlanB Team",description:`You've been granted ${D} access to this folder. Click the button below to open it.`,joinUrl:`${window.location.origin}/folders/${_._id}`})}catch(M){console.error("Failed to send email via Resend:",M)}C(!1),T(null)}else ae.error(Z.message||"Failed to share folder")}catch(Z){ae.error(Z?.message||"Failed to share folder")}};return l.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-[24px] mb-2 font-semibold",children:"My Folders"}),l.jsx("p",{className:"text-muted-foreground",children:"Organize and manage your documents"})]}),l.jsxs(de,{className:"rounded-xl",onClick:()=>m(!0),children:[l.jsx(Ad,{className:"w-4 h-4 mr-2"}),"New Folder"]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(um,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),l.jsx(Ye,{placeholder:"Search folders...",value:i,onChange:R=>c(R.target.value),className:"pl-10 rounded-xl"})]}),n&&l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"text-muted-foreground",children:"Loading folders..."})}),s&&l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-xl text-red-600 dark:text-red-400",children:s}),!n&&!s&&t.length===0&&l.jsxs("div",{className:"bg-white dark:bg-card rounded-xl p-12 text-center",children:[l.jsx(tn,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No folders found"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first folder to get started"})]}),!n&&t.length>0&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(R=>l.jsxs(Ne,{className:"p-4 hover:shadow-md transition-shadow rounded-xl",children:[l.jsx("div",{className:"flex items-start justify-between mb-3",children:l.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:l.jsx(tn,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[N===R._id?l.jsx(Ye,{value:P,onChange:D=>I(D.target.value),onKeyPress:D=>{D.key==="Enter"?ne(R._id):D.key==="Escape"&&se()},className:"mb-1 rounded-xl",autoFocus:!0}):l.jsx("h3",{className:"font-medium truncate",children:R.Name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.documents?.length||0," documents"]})]})]})}),l.jsx("div",{className:"flex items-center gap-2 mb-3",children:R.sharedWith&&R.sharedWith.length>0&&l.jsxs(bt,{variant:"secondary",className:"text-xs",children:[l.jsx(Z2,{className:"w-3 h-3 mr-1"}),R.sharedWith.length," shared"]})}),l.jsx("div",{className:"flex gap-2",children:N===R._id?l.jsxs(l.Fragment,{children:[l.jsx(de,{variant:"outline",size:"sm",className:"flex-1 rounded-xl",onClick:()=>ne(R._id),children:"Save"}),l.jsx(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:se,children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx(de,{variant:"outline",size:"sm",className:"flex-1 rounded-xl",asChild:!0,children:l.jsxs(rt,{to:`/folders/${R._id}`,children:[l.jsx(tn,{className:"w-4 h-4 mr-2"}),"Open"]})}),l.jsx(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>K(R),title:"Edit folder name",children:l.jsx(l$,{className:"w-4 h-4"})}),l.jsx(de,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>W(R),children:l.jsx(Z2,{className:"w-4 h-4"})}),l.jsx(de,{variant:"outline",size:"sm",className:"rounded-xl text-red-600 hover:text-red-700",onClick:()=>Q(R._id,R.Name),children:l.jsx(vT,{className:"w-4 h-4"})})]})})]},R._id))}),!n&&t.length>0&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(de,{variant:"outline",onClick:()=>h(u-1),disabled:u===1,className:"rounded-xl",children:"Previous"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",u]}),l.jsx(de,{variant:"outline",onClick:()=>h(u+1),disabled:t.length<O,className:"rounded-xl",children:"Next"})]}),f&&l.jsx(fW,{onClose:()=>m(!1),onCreate:V}),k&&_&&l.jsx(pW,{folder:_,onClose:()=>{C(!1),T(null)},onShare:U,users:g})]})}function fW({onClose:t,onCreate:e}){const[n,r]=w.useState(""),s=()=>{if(!n.trim()){ae.error("Please enter a folder name");return}e(n)};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-card rounded-2xl shadow-2xl max-w-md w-full",children:[l.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[l.jsx("h2",{className:"text-[20px] font-semibold",children:"Create New Folder"}),l.jsx(de,{variant:"ghost",size:"icon",onClick:t,className:"rounded-lg",children:l.jsx(yr,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"p-6 space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Folder Name"}),l.jsx(Ye,{type:"text",value:n,onChange:o=>r(o.target.value),placeholder:"e.g., Q4 Planning",className:"rounded-xl",autoFocus:!0,onKeyPress:o=>o.key==="Enter"&&s()})]})}),l.jsxs("div",{className:"p-6 border-t border-border flex justify-end space-x-3",children:[l.jsx(de,{variant:"outline",onClick:t,className:"rounded-xl",children:"Cancel"}),l.jsx(de,{onClick:s,className:"rounded-xl",children:"Create Folder"})]})]})})}function pW({folder:t,onClose:e,onShare:n,users:r}){const[s,o]=w.useState(""),[i,c]=w.useState("view"),[u,h]=w.useState(""),f=()=>{let m="";if(s==="custom"){if(!u.trim()){ae.error("Please enter an email address");return}m=u}else{const g=r.find(y=>y._id===s);if(!g){ae.error("Please select a user");return}m=g.email}n(m,i),o(""),h("")};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-card rounded-2xl shadow-2xl max-w-md w-full",children:[l.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[l.jsx("h2",{className:"text-[20px] font-semibold",children:"Share Folder"}),l.jsx(de,{variant:"ghost",size:"icon",onClick:e,className:"rounded-lg",children:l.jsx(yr,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Share ",l.jsx("strong",{children:t.Name})," with someone"]}),l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select User"}),l.jsxs(la,{value:s,onValueChange:o,children:[l.jsx(da,{className:"rounded-xl",children:l.jsx(ca,{placeholder:"-- Select a user --"})}),l.jsxs(ua,{className:"rounded-xl",children:[r?.map(m=>l.jsxs(en,{value:m._id,children:[m.firstName," ",m.lastName," (",m.email,")"]},m._id)),l.jsx(en,{value:"custom",children:"Invite by email..."})]})]}),s==="custom"&&l.jsx(Ye,{type:"email",value:u,onChange:m=>h(m.target.value),placeholder:"user@example.com",className:"rounded-xl mt-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Access Level"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(de,{variant:i==="view"?"default":"outline",size:"sm",onClick:()=>c("view"),className:"flex-1 rounded-xl",children:"View Only"}),l.jsx(de,{variant:i==="update"?"default":"outline",size:"sm",onClick:()=>c("update"),className:"flex-1 rounded-xl",children:"Can Edit"})]})]})]}),l.jsxs("div",{className:"p-6 border-t border-border flex justify-end space-x-3",children:[l.jsx(de,{variant:"outline",onClick:e,className:"rounded-xl",children:"Cancel"}),l.jsx(de,{onClick:f,className:"rounded-xl",children:"Send Invitation"})]})]})})}function BO({...t}){return l.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function FO({className:t,...e}){return l.jsx("ol",{"data-slot":"breadcrumb-list",className:ze("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...e})}function jl({className:t,...e}){return l.jsx("li",{"data-slot":"breadcrumb-item",className:ze("inline-flex items-center gap-1.5",t),...e})}function wp({asChild:t,className:e,...n}){const r=t?M0:"a";return l.jsx(r,{"data-slot":"breadcrumb-link",className:ze("hover:text-foreground transition-colors",e),...n})}function $O({className:t,...e}){return l.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:ze("text-foreground font-normal",t),...e})}function kp({children:t,className:e,...n}){return l.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:ze("[&>svg]:size-3.5",e),...n,children:t??l.jsx(pi,{})})}var Pm="Dialog",[zO]=rr(Pm),[mW,us]=zO(Pm),UO=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,c=w.useRef(null),u=w.useRef(null),[h,f]=xo({prop:r,defaultProp:s??!1,onChange:o,caller:Pm});return l.jsx(mW,{scope:e,triggerRef:c,contentRef:u,contentId:ss(),titleId:ss(),descriptionId:ss(),open:h,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(m=>!m),[f]),modal:i,children:n})};UO.displayName=Pm;var HO="DialogTrigger",gW=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(HO,n),o=Ge(e,s.triggerRef);return l.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":mb(s.open),...r,ref:o,onClick:Ee(t.onClick,s.onOpenToggle)})});gW.displayName=HO;var fb="DialogPortal",[xW,WO]=zO(fb,{forceMount:void 0}),VO=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=us(fb,e);return l.jsx(xW,{scope:e,forceMount:n,children:w.Children.map(r,i=>l.jsx(An,{present:n||o.open,children:l.jsx(xu,{asChild:!0,container:s,children:i})}))})};VO.displayName=fb;var Sp="DialogOverlay",qO=w.forwardRef((t,e)=>{const n=WO(Sp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=us(Sp,t.__scopeDialog);return o.modal?l.jsx(An,{present:r||o.open,children:l.jsx(yW,{...s,ref:e})}):null});qO.displayName=Sp;var vW=vi("DialogOverlay.RemoveScroll"),yW=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(Sp,n);return l.jsx(yu,{as:vW,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(De.div,{"data-state":mb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ka="DialogContent",YO=w.forwardRef((t,e)=>{const n=WO(ka,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=us(ka,t.__scopeDialog);return l.jsx(An,{present:r||o.open,children:o.modal?l.jsx(bW,{...s,ref:e}):l.jsx(wW,{...s,ref:e})})});YO.displayName=ka;var bW=w.forwardRef((t,e)=>{const n=us(ka,t.__scopeDialog),r=w.useRef(null),s=Ge(e,n.contentRef,r);return w.useEffect(()=>{const o=r.current;if(o)return wm(o)},[]),l.jsx(KO,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&o.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,o=>o.preventDefault())})}),wW=w.forwardRef((t,e)=>{const n=us(ka,t.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return l.jsx(KO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;n.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),KO=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,c=us(ka,n),u=w.useRef(null),h=Ge(e,u);return pm(),l.jsxs(l.Fragment,{children:[l.jsx(mu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(pu,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":mb(c.open),...i,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(SW,{titleId:c.titleId}),l.jsx(_W,{contentRef:u,descriptionId:c.descriptionId})]})]})}),pb="DialogTitle",XO=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(pb,n);return l.jsx(De.h2,{id:s.titleId,...r,ref:e})});XO.displayName=pb;var GO="DialogDescription",kW=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(GO,n);return l.jsx(De.p,{id:s.descriptionId,...r,ref:e})});kW.displayName=GO;var JO="DialogClose",QO=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(JO,n);return l.jsx(De.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,()=>s.onOpenChange(!1))})});QO.displayName=JO;function mb(t){return t?"open":"closed"}var ZO="DialogTitleWarning",[Ble,eP]=V$(ZO,{contentName:ka,titleName:pb,docsSlug:"dialog"}),SW=({titleId:t})=>{const e=eP(ZO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},CW="DialogDescriptionWarning",_W=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eP(CW).contentName}}.`;return w.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},tP=UO,nP=VO,rP=qO,sP=YO,oP=XO,iP=QO;function EW({...t}){return l.jsx(tP,{"data-slot":"dialog",...t})}function NW({...t}){return l.jsx(nP,{"data-slot":"dialog-portal",...t})}function jW({className:t,...e}){return l.jsx(rP,{"data-slot":"dialog-overlay",className:ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function TW({className:t,children:e,...n}){return l.jsxs(NW,{"data-slot":"dialog-portal",children:[l.jsx(jW,{}),l.jsxs(sP,{"data-slot":"dialog-content",className:ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,l.jsxs(iP,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(yr,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function MW({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-header",className:ze("flex flex-col gap-2 text-center sm:text-left",t),...e})}function OW({className:t,...e}){return l.jsx(oP,{"data-slot":"dialog-title",className:ze("text-lg leading-none font-semibold",t),...e})}function PW(){const{id:t}=gj(),e=Wr(),[n,r]=w.useState(null),[s,o]=w.useState([]),[i,c]=w.useState(!0),[u,h]=w.useState(!1),f=async()=>{if(t)try{c(!0);const g=await Vt.getById(t);r(g);const y=await gt.getByFolderId(t);o(y),c(!1)}catch(g){console.error("Failed to load folder:",g),ae.error("Failed to load folder"),c(!1)}};w.useEffect(()=>{t&&f()},[t]);const m=async()=>{if(t)try{const g=await gt.create({Title:"Untitled Document",folderId:t});ae.success("Document created successfully"),e(`/documents/${g._id}`)}catch(g){console.error("Failed to create document:",g),ae.error("Failed to create document")}};return i?l.jsx("div",{className:"max-w-7xl mx-auto space-y-6 flex items-center justify-center py-12",children:l.jsx(Ar,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n?l.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[l.jsx(BO,{children:l.jsxs(FO,{children:[l.jsx(jl,{children:l.jsx(wp,{asChild:!0,children:l.jsx(rt,{to:"/dashboard",children:l.jsx(dm,{className:"w-4 h-4"})})})}),l.jsx(kp,{children:l.jsx(pi,{className:"w-4 h-4"})}),l.jsx(jl,{children:l.jsx(wp,{asChild:!0,children:l.jsx(rt,{to:"/folders",children:"Folders"})})}),l.jsx(kp,{children:l.jsx(pi,{className:"w-4 h-4"})}),l.jsx(jl,{children:l.jsx($O,{children:n.Name})})]})}),l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:l.jsx($n,{className:"w-8 h-8 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-[24px] mb-1 font-semibold",children:n.Name}),l.jsxs("p",{className:"text-muted-foreground",children:[s.length," documents"]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[n.sharedWith&&n.sharedWith.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{onClick:()=>h(!0),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 dark:bg-gray-800/50 border border-border cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[l.jsx("span",{className:"text-[12px] text-muted-foreground mr-1",children:"Collaborators:"}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[n.sharedWith.slice(0,3).map(g=>{const y=`${g.firstName} ${g.lastName}`,v=ya(g.firstName,g.lastName),b=g.avatar||g.picture;return l.jsxs(Zt,{className:"w-7 h-7 border-2 border-white dark:border-gray-800",children:[l.jsx(Fd,{src:b?b.startsWith("http")?b:`${jt.replace("/api","")}${b}`:void 0,alt:y}),l.jsx(Wt,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-[10px]",children:v})]},g._id)}),n.sharedWith.length>3&&l.jsxs("span",{className:"text-[11px] text-muted-foreground ml-1",children:["+",n.sharedWith.length-3]})]})]}),l.jsx(EW,{open:u,onOpenChange:h,children:l.jsxs(TW,{className:"sm:max-w-md",children:[l.jsx(MW,{children:l.jsx(OW,{children:"Collaborators"})}),l.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:n.sharedWith.map(g=>{const y=`${g.firstName} ${g.lastName}`,v=ya(g.firstName,g.lastName),b=g.avatar||g.picture;return l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[l.jsxs(Zt,{className:"w-10 h-10",children:[l.jsx(Fd,{src:b?b.startsWith("http")?b:`${jt.replace("/api","")}${b}`:void 0,alt:y}),l.jsx(Wt,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:v})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-sm",children:y}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:g.email})]})]},g._id)})})]})})]}),l.jsxs(de,{className:"rounded-xl",onClick:m,children:[l.jsx(Ad,{className:"w-4 h-4 mr-2"}),"New Document"]})]})]}),s.length===0?l.jsxs(Ne,{className:"p-12 rounded-xl text-center",children:[l.jsx($n,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No documents yet"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first document to get started"}),l.jsxs(de,{onClick:m,className:"rounded-xl",children:[l.jsx(Ad,{className:"w-4 h-4 mr-2"}),"Create Document"]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(g=>l.jsx(rt,{to:`/documents/${g._id}`,children:l.jsxs(Ne,{className:"p-5 rounded-xl hover:shadow-lg transition-shadow group cursor-pointer",children:[l.jsx("div",{className:"flex items-start justify-between mb-3",children:l.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center",children:l.jsx($n,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})}),l.jsx("h3",{className:"mb-2 line-clamp-2 font-medium",children:g.Title}),g.contentType&&g.contentType.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:g.contentType.map((y,v)=>l.jsx(bt,{variant:"secondary",className:"text-[12px] rounded-lg",children:y},v))}),l.jsxs("p",{className:"text-[14px] text-muted-foreground",children:["Modified ",new Date(g.updatedDate).toLocaleDateString()]})]})},g._id))})]}):l.jsx("div",{className:"max-w-7xl mx-auto space-y-6 flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-muted-foreground",children:"Folder not found"}),l.jsx(de,{onClick:()=>e("/folders"),className:"mt-4 rounded-xl",children:"Back to Folders"})]})})}function AW({itemName:t,itemType:e,itemId:n,onClose:r}){const[s,o]=w.useState(""),[i,c]=w.useState("edit"),[u,h]=w.useState(!1),[f,m]=w.useState([]),[g,y]=w.useState(!0),[v,b]=w.useState(!1),k=`${window.location.origin}/${e==="document"?"documents":"folders"}/${n}`;w.useEffect(()=>{(async()=>{try{if(e==="document"){const j=await gt.getSharedUsers(n);m(j)}else{const j=await Vt.getById(n);m(j.sharedWith||[])}y(!1)}catch(j){console.error("Failed to load shared users:",j),y(!1)}})()},[n,e]);const C=async()=>{try{await navigator.clipboard.writeText(k),h(!0),ae.success("Link copied to clipboard"),setTimeout(()=>h(!1),2e3)}catch{ae.error("Failed to copy link. Please copy manually.")}},_=async()=>{if(!(!s||v)){b(!0);try{let N;if(e==="document"){const j=i==="update"?"edit":i;N=await gt.shareByEmail(n,s,j)}else N=await Vt.inviteByEmail(n,{email:s,access:i});if(N.success){ae.success(`Invitation sent to ${s}`);try{e==="document"?await A$(s,{documentName:t,accessLevel:i,sharedBy:"XPlanB Team",description:`You've been granted ${i} access to this document. Click the button below to open it.`,joinUrl:k}):await wT(s,{folderName:t,accessLevel:i,sharedBy:"XPlanB Team",description:`You've been granted ${i} access to this folder. Click the button below to open it.`,joinUrl:k})}catch(j){console.error("Failed to send email via Resend:",j)}if(e==="document"){const j=await gt.getSharedUsers(n);m(j)}else{const j=await Vt.getById(n);m(j.sharedWith||[])}o("")}else ae.error(N.message||"Failed to share")}catch(N){console.error("Failed to invite:",N),ae.error(N.message||"Failed to share")}finally{b(!1)}}},T=async(N,j)=>{try{if(j==="remove")e==="document"?await gt.unshare(n,N):await Vt.ignoreAccess?.(n,N),ae.success("User removed successfully");else{if(e==="document"){const P=j==="update"?"edit":j;await gt.share(n,N,P)}else await Vt.assignAccess(n,N,j);ae.success("Access updated successfully")}if(e==="document"){const P=await gt.getSharedUsers(n);m(P)}else{const P=await Vt.getById(n);m(P.sharedWith||[])}}catch(P){console.error("Failed to update access:",P),ae.error("Failed to update access")}};return g?l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white dark:bg-card rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:l.jsx("div",{className:"flex items-center justify-center p-12",children:l.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})}):l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:N=>{N.target===N.currentTarget&&r()},children:l.jsxs("div",{className:"bg-white dark:bg-card rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:N=>N.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[l.jsxs("h2",{className:"text-xl font-semibold text-foreground",children:['Share "',t,'"']}),l.jsx("button",{onClick:r,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:l.jsx(yr,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"email",children:"Invite people"}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx(Ye,{id:"email",type:"email",placeholder:"Enter email address",value:s,onChange:N=>o(N.target.value),onKeyPress:N=>N.key==="Enter"&&!v&&_(),className:"flex-1",disabled:v}),l.jsxs(la,{value:i,onValueChange:N=>c(N),children:[l.jsx(da,{className:"w-32",children:l.jsx(ca,{})}),l.jsxs(ua,{children:[l.jsx(en,{value:"view",children:"Viewer"}),e==="folder"&&l.jsx(en,{value:"update",children:"Update"}),l.jsx(en,{value:"edit",children:"Edit"})]})]}),l.jsxs(de,{onClick:_,disabled:v||!s,children:[l.jsx(gT,{className:"w-4 h-4 mr-2"}),v?"Inviting...":"Invite"]})]})]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(ct,{children:"People with access"}),l.jsx("div",{className:"space-y-2",children:f.length===0?l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No users have access yet"}):f.map(N=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Zt,{children:l.jsxs(Wt,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:[N.firstName?.[0],N.lastName?.[0]]})}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-sm text-foreground",children:[N.firstName," ",N.lastName]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:N.email})]})]}),l.jsxs(la,{value:N.access||"view",onValueChange:j=>T(N._id,j),children:[l.jsx(da,{className:"w-32",children:l.jsx(ca,{})}),l.jsxs(ua,{children:[l.jsx(en,{value:"view",children:"Viewer"}),e==="folder"&&l.jsx(en,{value:"update",children:"Update"}),l.jsx(en,{value:"edit",children:"Edit"}),l.jsx(en,{value:"remove",children:"Remove"})]})]})]},N._id))})]}),e==="folder"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx(ct,{children:"Share link"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ye,{value:k,readOnly:!0,className:"flex-1 bg-gray-50 dark:bg-gray-800"}),l.jsxs(de,{onClick:C,variant:"outline",children:[u?l.jsx(Bl,{className:"w-4 h-4 mr-2 text-green-600 dark:text-green-400"}):l.jsx(mT,{className:"w-4 h-4 mr-2"}),u?"Copied":"Copy"]})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Anyone with this link can view this folder"})]})]}),l.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-border bg-gray-50 dark:bg-gray-800",children:l.jsx(de,{variant:"outline",onClick:r,children:"Close"})})]})})}const RW=jt.replace("/api",""),wl=xt.create({baseURL:RW,headers:{"Content-Type":"application/json"}});wl.interceptors.request.use(t=>{const e=localStorage.getItem(gn);return e&&(t.headers.Authorization=`Bearer ${e}`),t});const Tv={getByDocument:t=>wl.get(`/comments/document/${t}`).then(e=>e.data),create:t=>wl.post("/comments",t).then(e=>e.data),update:(t,e)=>wl.put(`/comments/${t}`,{content:e}).then(n=>n.data),delete:t=>wl.delete(`/comments/${t}`).then(()=>{}),getById:t=>wl.get(`/comments/${t}`).then(e=>e.data)};function IW({documentId:t,isOpen:e,onClose:n}){const[r,s]=w.useState([]),[o,i]=w.useState(""),[c,u]=w.useState(!1),[h,f]=w.useState(null),[m,g]=w.useState(!1),y=w.useRef(null);w.useEffect(()=>{(async()=>{try{const T=localStorage.getItem("access_token");if(!T)return;const j=T.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),P=decodeURIComponent(atob(j).split("").map($=>"%"+("00"+$.charCodeAt(0).toString(16)).slice(-2)).join("")),I=JSON.parse(P),O=I.id||I._id||I.userId,L=await va(O);f(L)}catch(T){console.error("Error loading current user:",T)}})()},[]),w.useEffect(()=>{e&&t&&v()},[e,t]);const v=async()=>{try{u(!0);const _=await Tv.getByDocument(t);s(_)}catch(_){console.error("Failed to load comments:",_),ae.error("Failed to load comments")}finally{u(!1)}},b=async()=>{if(!o.trim()){ae.error("Please enter a comment");return}if(!h){ae.error("You must be logged in to comment");return}try{g(!0);const _=await Tv.create({content:o.trim(),document:t});s([_,...r]),i(""),ae.success("Comment added")}catch(_){console.error("Failed to create comment:",_),ae.error(_?.response?.data?.message||"Failed to add comment")}finally{g(!1)}},k=async _=>{if(confirm("Are you sure you want to delete this comment?"))try{await Tv.delete(_),s(r.filter(T=>T._id!==_)),ae.success("Comment deleted")}catch(T){console.error("Failed to delete comment:",T),ae.error("Failed to delete comment")}};w.useEffect(()=>{y.current&&y.current.scrollIntoView({behavior:"smooth"})},[r]);const C=_=>{const T=new Date(_),j=Math.floor((new Date().getTime()-T.getTime())/1e3);return j<60?"Just now":j<3600?`${Math.floor(j/60)}m ago`:j<86400?`${Math.floor(j/3600)}h ago`:j<604800?`${Math.floor(j/86400)}d ago`:T.toLocaleDateString()};return e?l.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-card border-l border-border shadow-xl z-50 flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-card",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ga,{className:"w-5 h-5 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Comments"}),r.length>0&&l.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",r.length,")"]})]}),l.jsx(de,{variant:"ghost",size:"icon",onClick:n,className:"rounded-lg",children:l.jsx(yr,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-card",children:[c&&l.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Loading comments..."}),!c&&r.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(ga,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),l.jsx("p",{className:"text-muted-foreground",children:"No comments yet"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Start the conversation"})]}),r.map(_=>l.jsx(Ne,{className:"p-3 rounded-xl bg-card border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Zt,{className:"w-8 h-8",children:l.jsx(Wt,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground text-xs",children:ya(_.user.firstName,_.user.lastName)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-medium text-foreground",children:[_.user.firstName," ",_.user.lastName]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:C(_.createdAt)})]}),h&&_.user._id===h._id&&l.jsx(de,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>k(_._id),children:l.jsx(vT,{className:"w-3 h-3"})})]}),l.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap break-words",children:_.content})]})]})},_._id)),l.jsx("div",{ref:y})]}),l.jsxs("div",{className:"p-4 border-t border-border bg-card",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ye,{value:o,onChange:_=>i(_.target.value),placeholder:"Add a comment...",className:"rounded-xl bg-background border-border text-foreground placeholder:text-muted-foreground",onKeyPress:_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),b())},disabled:m}),l.jsx(de,{onClick:b,disabled:m||!o.trim(),className:"rounded-xl",children:l.jsx(ra,{className:"w-4 h-4"})})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]}):null}function DW({onVoiceText:t,selectedText:e}){const[n,r]=w.useState(!1),s=w.useRef(null);w.useEffect(()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){console.warn("Speech recognition not supported in this browser");return}const c=window.SpeechRecognition||window.webkitSpeechRecognition,u=new c;return u.continuous=!0,u.interimResults=!0,u.lang="en-US",u.onstart=()=>{r(!0),ae.success("Voice input started. Speak now...")},u.onresult=h=>{let f="";for(let m=h.resultIndex;m<h.results.length;m++){const g=h.results[m][0].transcript;h.results[m].isFinal&&(f+=g+" ")}f.trim()&&t(f.trim())},u.onerror=h=>{console.error("Speech recognition error:",h.error),r(!1),h.error==="no-speech"?ae.error("No speech detected. Please try again."):h.error==="audio-capture"?ae.error("No microphone found. Please check your microphone settings."):h.error==="not-allowed"?ae.error("Microphone access denied. Please allow microphone access."):ae.error("Voice recognition error: "+h.error)},u.onend=()=>{r(!1)},s.current=u,()=>{s.current&&s.current.stop()}},[t]);const o=()=>{if(!s.current){ae.error("Speech recognition not supported in this browser");return}if(n)s.current.stop(),ae.info("Voice input stopped");else try{s.current.start()}catch(c){console.error("Failed to start recognition:",c),ae.error("Failed to start voice input")}},i=()=>{if(!e){ae.error("Please select text to read");return}if("speechSynthesis"in window){const c=new SpeechSynthesisUtterance(e);c.rate=1,c.pitch=1,c.volume=1,speechSynthesis.speak(c),ae.success("Reading selected text...")}else ae.error("Text-to-speech not supported in this browser")};return l.jsx(Ne,{className:"p-3 rounded-xl border-blue-200 dark:border-blue-800 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20",children:l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs(de,{variant:"outline",size:"sm",className:`rounded-xl ${n?"bg-red-100 dark:bg-red-900/20 border-red-500 text-red-700 dark:text-red-400":"bg-white dark:bg-card"}`,onClick:o,children:[l.jsx(F0,{className:`w-4 h-4 mr-2 ${n?"animate-pulse":""}`}),n?"Listening...":"Voice Input"]}),l.jsxs(de,{variant:"outline",size:"sm",className:"rounded-xl bg-white dark:bg-card",onClick:i,children:[l.jsx(k$,{className:"w-4 h-4 mr-2"}),"Read Aloud"]})]})})}const A_=t=>{let e;const n=new Set,r=(h,f)=>{const m=typeof h=="function"?h(e):h;if(!Object.is(m,e)){const g=e;e=f??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(y=>y(e,g))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h))},u=e=t(r,s,c);return c},LW=(t=>t?A_(t):A_),BW=t=>t;function FW(t,e=BW){const n=Se.useSyncExternalStore(t.subscribe,Se.useCallback(()=>e(t.getState()),[t,e]),Se.useCallback(()=>e(t.getInitialState()),[t,e]));return Se.useDebugValue(n),n}const R_=t=>{const e=LW(t),n=r=>FW(e,r);return Object.assign(n,e),n},$W=(t=>t?R_(t):R_),gb=$W(t=>({isConnected:!1,currentDocumentId:null,connectedUsers:[],cursors:new Map,isSaving:!1,lastSaved:null,hasUnsavedChanges:!1,setConnected:e=>t({isConnected:e}),setCurrentDocument:e=>t({currentDocumentId:e,connectedUsers:[],cursors:new Map}),setConnectedUsers:e=>t({connectedUsers:Array.isArray(e)?e:[]}),addUser:e=>t(n=>({connectedUsers:[...(Array.isArray(n.connectedUsers)?n.connectedUsers:[]).filter(s=>s.id!==e.id),e]})),removeUser:e=>t(n=>{const r=new Map(n.cursors);return r.delete(e),{connectedUsers:(Array.isArray(n.connectedUsers)?n.connectedUsers:[]).filter(o=>o.id!==e),cursors:r}}),updateUserCursor:(e,n)=>t(r=>{const o=(Array.isArray(r.connectedUsers)?r.connectedUsers:[]).find(c=>c.id===e);if(!o)return console.log("updateUserCursor: User not found:",e),r;console.log("updateUserCursor: Updating cursor for user:",e,n);const i=new Map(r.cursors);return i.set(e,{...n,user:o,timestamp:n.timestamp||Date.now()}),{cursors:i}}),clearOldCursors:()=>t(e=>{const n=Date.now(),r=new Map;return e.cursors.forEach((s,o)=>{s.timestamp&&n-s.timestamp<5e3&&r.set(o,s)}),r.size!==e.cursors.size?(console.log("Cleared old cursors, remaining:",r.size),{cursors:r}):e}),setSaving:e=>t({isSaving:e}),setLastSaved:e=>t({lastSaved:e,hasUnsavedChanges:!1}),setHasUnsavedChanges:e=>t({hasUnsavedChanges:e}),clearCursors:()=>t({cursors:new Map}),reset:()=>t({isConnected:!1,currentDocumentId:null,connectedUsers:[],cursors:new Map,isSaving:!1,lastSaved:null,hasUnsavedChanges:!1})}));function zW(){const{connectedUsers:t,isConnected:e}=gb();if(!e||t.length===0)return null;const n=s=>{if(s)return s.startsWith("http://")||s.startsWith("https://")?s:`${jt}${s.startsWith("/")?s:`/${s}`}`},r=s=>{const o=s.trim().split(" ");return{firstName:o[0]||"",lastName:o.slice(1).join(" ")||""}};return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex -space-x-2",children:t.slice(0,5).map(s=>{const{firstName:o,lastName:i}=r(s.name),c=n(s.avatar),u=ya(o,i);return l.jsxs(Zt,{className:"w-8 h-8 border-2 border-white dark:border-background",title:s.name,children:[c&&l.jsx(Fd,{src:c,alt:s.name}),l.jsx(Wt,{className:"text-white text-[12px] font-medium",style:{backgroundColor:s.color},children:u})]},s.id)})}),t.length>5&&l.jsxs("span",{className:"text-sm text-muted-foreground",children:["+",t.length-5," more"]})]})}function UW(){const{cursors:t}=gb(),[e,n]=w.useState([]);return w.useEffect(()=>{const r=[];t.forEach((s,o)=>{r.push({userId:o,x:s.x,y:s.y,userName:s.user.name,userColor:s.user.color})}),n(r)},[t]),l.jsx(l.Fragment,{children:e.map(r=>l.jsxs("div",{className:"fixed pointer-events-none z-50 transition-all duration-100",style:{left:`${r.x}px`,top:`${r.y}px`},children:[l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.3))"},children:l.jsx("path",{d:"M5.65376 12.3673L5.46026 12.4196L5.49926 12.6093L7.27187 21.8423C7.29343 21.9556 7.37645 22.0469 7.4869 22.0735C7.5973 22.1001 7.71333 22.0574 7.78488 21.9669L12 17L14.2927 19.2927C14.6833 19.6833 15.3166 19.6833 15.7071 19.2927L19.2927 15.7071C19.6833 15.3166 19.6833 14.6833 19.2927 14.2927L17 12L21.9669 7.78488C22.0574 7.71333 22.1001 7.5973 22.0735 7.4869C22.0469 7.37645 21.9556 7.29343 21.8423 7.27187L12.6093 5.49926L12.4196 5.46026L12.3673 5.65376L5.65376 12.3673Z",fill:r.userColor,stroke:"white",strokeWidth:"1.5"})}),l.jsx("div",{className:"mt-1 px-2 py-1 rounded text-white text-xs font-medium whitespace-nowrap",style:{backgroundColor:r.userColor},children:r.userName})]},r.userId))})}function HW({editor:t,onHeadingChange:e}){const[n,r]=w.useState(null),[s,o]=w.useState(null),[i,c]=w.useState(!1),[u,h]=w.useState({top:0,left:0});w.useEffect(()=>{if(!t)return;const v=async()=>{try{const _=t.blocks.getCurrentBlockIndex();if(_===-1||_===void 0){c(!1);return}const T=t.blocks.getBlockByIndex(_);if(!T){c(!1);return}const N=T.name==="header",j=N&&T.data?T.data.level:null;r(_),o(j);const P=window.getSelection();if(P&&P.toString().trim().length>0&&P&&P.rangeCount>0){const L=P.getRangeAt(0).getBoundingClientRect();h({top:L.top-60,left:L.left+L.width/2}),c(!0)}else if(N){const O=document.getElementById("editorjs");if(O){const L=O.querySelectorAll("[data-block]");if(L[_]){const $=L[_].getBoundingClientRect();h({top:$.top-60,left:$.left+$.width/2}),c(!0)}}}else c(!1)}catch(_){console.error("Error getting selection:",_),c(!1)}},b=()=>{clearTimeout(window.headingSelectorTimeout),window.headingSelectorTimeout=setTimeout(v,100)},k=_=>{const T=_.target,N=document.getElementById("editorjs");N&&N.contains(T)?setTimeout(v,150):c(!1)};document.addEventListener("selectionchange",b),document.addEventListener("click",k);const C=document.getElementById("editorjs");return C&&C.addEventListener("keyup",b),()=>{document.removeEventListener("selectionchange",b),document.removeEventListener("click",k),C&&C.removeEventListener("keyup",b),window.headingSelectorTimeout&&clearTimeout(window.headingSelectorTimeout)}},[t]);const f=async v=>{if(!(!t||n===null))try{const b=t.blocks.getBlockByIndex(n);if(!b)return;let k="";if(b.name==="header")k=b.data.text||"";else if(b.name==="paragraph")k=b.data.text||"";else if(b.name==="list")k=b.data.items?.[0]?.replace(/<[^>]*>/g,"")||"";else try{k=JSON.stringify(b.data)}catch{k="Heading"}const C=window.getSelection();C&&C.toString().trim()&&(k=C.toString().trim());const _=await t.save(),T={text:k.trim()||"Heading",level:v};await t.blocks.delete(n),await t.blocks.insert("header",T,{},n,!0),setTimeout(()=>{try{t.caret.setToBlock(n,"end")}catch{const j=document.getElementById("editorjs");j&&j.focus()}},100),e&&e(),c(!1)}catch(b){console.error("Error changing to heading:",b)}},m=async v=>{if(!(!t||n===null))try{const b=t.blocks.getBlockByIndex(n);b&&b.name==="header"&&(await t.blocks.update(n,{...b.data,level:v}),e&&e(),o(v))}catch(b){console.error("Error changing heading level:",b)}},g=v=>{s!==null?m(v):f(v)};if(!i||!t)return null;const y=[{level:1,label:"H1 Heading 1",icon:u8},{level:2,label:"H2 Heading 2",icon:f8},{level:3,label:"H3 Heading 3",icon:m8},{level:4,label:"H4 Heading 4",icon:x8}];return l.jsx("div",{className:"fixed z-50 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-2",style:{top:`${u.top}px`,left:`${u.left}px`,transform:"translate(-50%, 0)"},children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-xs text-muted-foreground px-2 py-1",children:"Heading:"}),y.map(({level:v,label:b,icon:k})=>l.jsxs(de,{variant:s===v?"default":"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:()=>g(v),title:b,children:[l.jsx(k,{className:"w-4 h-4 mr-1"}),"H",v]},v))]})})}const nr=()=>new Map,Fy=t=>{const e=nr();return t.forEach((n,r)=>{e.set(r,n)}),e},ko=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},WW=(t,e)=>{const n=[];for(const[r,s]of t)n.push(e(s,r));return n},VW=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},Sa=()=>new Set,Mv=t=>t[t.length-1],qW=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},ki=Array.from,YW=Array.isArray;class KW{constructor(){this._observers=nr()}on(e,n){return ko(this._observers,e,Sa).add(n),n}once(e,n){const r=(...s)=>{this.off(e,r),n(...s)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return ki((this._observers.get(e)||nr()).values()).forEach(r=>r(...n))}destroy(){this._observers=nr()}}class XW{constructor(){this._observers=nr()}on(e,n){ko(this._observers,e,Sa).add(n)}once(e,n){const r=(...s)=>{this.off(e,r),n(...s)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return ki((this._observers.get(e)||nr()).values()).forEach(r=>r(...n))}destroy(){this._observers=nr()}}const Si=Math.floor,Af=Math.abs,aP=(t,e)=>t<e?t:e,Pa=(t,e)=>t>e?t:e,lP=t=>t!==0?t<0:1/t<0,I_=1,D_=2,Ov=4,Pv=8,$d=32,mo=64,vr=128,Am=31,$y=63,ha=127,GW=2147483647,cP=Number.MAX_SAFE_INTEGER,JW=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Si(t)===t),QW=t=>t.toLowerCase(),ZW=/^\s*/g,eV=t=>t.replace(ZW,""),tV=/([A-Z])/g,L_=(t,e)=>eV(t.replace(tV,n=>`${e}${QW(n)}`)),nV=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=e.codePointAt(s);return r},zd=typeof TextEncoder<"u"?new TextEncoder:null,rV=t=>zd.encode(t),sV=zd?rV:nV;let Ed=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Ed&&Ed.decode(new Uint8Array).length===1&&(Ed=null);let ku=class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}};const Rm=()=>new ku,oV=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},Ts=t=>{const e=new Uint8Array(oV(t));let n=0;for(let r=0;r<t.bufs.length;r++){const s=t.bufs[r];e.set(s,n),n+=s.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},iV=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Pa(n,e)*2),t.cpos=0)},fn=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},zy=fn,it=(t,e)=>{for(;e>ha;)fn(t,vr|ha&e),e=Si(e/128);fn(t,ha&e)},xb=(t,e)=>{const n=lP(e);for(n&&(e=-e),fn(t,(e>$y?vr:0)|(n?mo:0)|$y&e),e=Si(e/64);e>0;)fn(t,(e>ha?vr:0)|ha&e),e=Si(e/128)},Uy=new Uint8Array(3e4),aV=Uy.length/3,lV=(t,e)=>{if(e.length<aV){const n=zd.encodeInto(e,Uy).written||0;it(t,n);for(let r=0;r<n;r++)fn(t,Uy[r])}else ur(t,sV(e))},cV=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;it(t,r);for(let s=0;s<r;s++)fn(t,n.codePointAt(s))},Tl=zd&&zd.encodeInto?lV:cV,Im=(t,e)=>{const n=t.cbuf.length,r=t.cpos,s=aP(n-r,e.length),o=e.length-s;t.cbuf.set(e.subarray(0,s),r),t.cpos+=s,o>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Pa(n*2,o)),t.cbuf.set(e.subarray(s)),t.cpos=o)},ur=(t,e)=>{it(t,e.byteLength),Im(t,e)},vb=(t,e)=>{iV(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},dV=(t,e)=>vb(t,4).setFloat32(0,e,!1),uV=(t,e)=>vb(t,8).setFloat64(0,e,!1),hV=(t,e)=>vb(t,8).setBigInt64(0,e,!1),B_=new DataView(new ArrayBuffer(4)),fV=t=>(B_.setFloat32(0,t),B_.getFloat32(0)===t),Ud=(t,e)=>{switch(typeof e){case"string":fn(t,119),Tl(t,e);break;case"number":JW(e)&&Af(e)<=GW?(fn(t,125),xb(t,e)):fV(e)?(fn(t,124),dV(t,e)):(fn(t,123),uV(t,e));break;case"bigint":fn(t,122),hV(t,e);break;case"object":if(e===null)fn(t,126);else if(YW(e)){fn(t,117),it(t,e.length);for(let n=0;n<e.length;n++)Ud(t,e[n])}else if(e instanceof Uint8Array)fn(t,116),ur(t,e);else{fn(t,118);const n=Object.keys(e);it(t,n.length);for(let r=0;r<n.length;r++){const s=n[r];Tl(t,s),Ud(t,e[s])}}break;case"boolean":fn(t,e?120:121);break;default:fn(t,127)}};class F_ extends ku{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&it(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const $_=t=>{t.count>0&&(xb(t.encoder,t.count===1?t.s:-t.s),t.count>1&&it(t.encoder,t.count-2))};class Rf{constructor(){this.encoder=new ku,this.s=0,this.count=0}write(e){this.s===e?this.count++:($_(this),this.count=1,this.s=e)}toUint8Array(){return $_(this),Ts(this.encoder)}}const z_=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);xb(t.encoder,e),t.count>1&&it(t.encoder,t.count-2)}};class Av{constructor(){this.encoder=new ku,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(z_(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return z_(this),Ts(this.encoder)}}class pV{constructor(){this.sarr=[],this.s="",this.lensE=new Rf}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new ku;return this.sarr.push(this.s),this.s="",Tl(e,this.sarr.join("")),Im(e,this.lensE.toUint8Array()),Ts(e)}}const bo=t=>new Error(t),Ps=()=>{throw bo("Method unimplemented")},Ls=()=>{throw bo("Unexpected case")},dP=bo("Unexpected end of array"),uP=bo("Integer out of Range");let Dm=class{constructor(e){this.arr=e,this.pos=0}};const cc=t=>new Dm(t),mV=t=>t.pos!==t.arr.length,gV=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},hr=t=>gV(t,Qe(t)),$l=t=>t.arr[t.pos++],Qe=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const s=t.arr[t.pos++];if(e=e+(s&ha)*n,n*=128,s<vr)return e;if(e>cP)throw uP}throw dP},yb=t=>{let e=t.arr[t.pos++],n=e&$y,r=64;const s=(e&mo)>0?-1:1;if((e&vr)===0)return s*n;const o=t.arr.length;for(;t.pos<o;){if(e=t.arr[t.pos++],n=n+(e&ha)*r,r*=128,e<vr)return s*n;if(n>cP)throw uP}throw dP},xV=t=>{let e=Qe(t);if(e===0)return"";{let n=String.fromCodePoint($l(t));if(--e<100)for(;e--;)n+=String.fromCodePoint($l(t));else for(;e>0;){const r=e<1e4?e:1e4,s=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,s),e-=r}return decodeURIComponent(escape(n))}},vV=t=>Ed.decode(hr(t)),Ml=Ed?vV:xV,bb=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},yV=t=>bb(t,4).getFloat32(0,!1),bV=t=>bb(t,8).getFloat64(0,!1),wV=t=>bb(t,8).getBigInt64(0,!1),kV=[t=>{},t=>null,yb,yV,bV,wV,t=>!1,t=>!0,Ml,t=>{const e=Qe(t),n={};for(let r=0;r<e;r++){const s=Ml(t);n[s]=Hd(t)}return n},t=>{const e=Qe(t),n=[];for(let r=0;r<e;r++)n.push(Hd(t));return n},hr],Hd=t=>kV[127-$l(t)](t);class U_ extends Dm{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),mV(this)?this.count=Qe(this)+1:this.count=-1),this.count--,this.s}}class If extends Dm{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=yb(this);const e=lP(this.s);this.count=1,e&&(this.s=-this.s,this.count=Qe(this)+2)}return this.count--,this.s}}class Rv extends Dm{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=yb(this),n=e&1;this.diff=Si(e/2),this.count=1,n&&(this.count=Qe(this)+2)}return this.s+=this.diff,this.count--,this.s}}class SV{constructor(e){this.decoder=new If(e),this.str=Ml(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const CV=crypto.getRandomValues.bind(crypto),hP=()=>CV(new Uint32Array(1))[0],_V="10000000-1000-4000-8000"+-1e11,EV=()=>_V.replace(/[018]/g,t=>(t^hP()&15>>t/4).toString(16)),zl=t=>new Promise(t);Promise.all.bind(Promise);const H_=t=>t===void 0?null:t;class NV{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let fP=new NV,jV=!0;try{typeof localStorage<"u"&&localStorage&&(fP=localStorage,jV=!1)}catch{}const TV=fP,MV=Object.assign,OV=Object.keys,PV=(t,e)=>{for(const n in t)e(t[n],n)},W_=t=>OV(t).length,AV=t=>{for(const e in t)return!1;return!0},RV=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},IV=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),DV=(t,e)=>t===e||W_(t)===W_(e)&&RV(t,(n,r)=>(n!==void 0||IV(e,r))&&e[r]===n),LV=Object.freeze,pP=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&pP(t[e])}return LV(t)},wb=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&wb(t,e,n+1)}},BV=t=>t,FV=(t,e)=>e.includes(t);var mP={};const Wd=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let bs;const $V=()=>{if(bs===void 0)if(Wd){bs=nr();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&bs.set(e,""),e=r):e!==null&&(bs.set(e,r),e=null)}e!==null&&bs.set(e,"")}else typeof location=="object"?(bs=nr(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");bs.set(`--${L_(e,"-")}`,n),bs.set(`-${L_(e,"-")}`,n)}})):bs=nr();return bs},Hy=t=>$V().has(t),Cp=t=>H_(Wd?mP[t.toUpperCase().replaceAll("-","_")]:TV.getItem(t)),gP=t=>Hy("--"+t)||Cp(t)!==null;gP("production");const zV=Wd&&FV(mP.FORCE_COLOR,["true","1","2"]),UV=zV||!Hy("--no-colors")&&!gP("no-color")&&(!Wd||process.stdout.isTTY)&&(!Wd||Hy("--color")||Cp("COLORTERM")!==null||(Cp("TERM")||"").includes("color")),HV=t=>new Uint8Array(t),WV=t=>{const e=HV(t.byteLength);return e.set(t),e};class VV{constructor(e,n){this.left=e,this.right=n}}const ro=(t,e)=>new VV(t,e);typeof DOMParser<"u"&&new DOMParser;const qV=t=>WW(t,(e,n)=>`${n}:${e};`).join(""),So=Symbol,xP=So(),vP=So(),YV=So(),KV=So(),XV=So(),yP=So(),GV=So(),kb=So(),JV=So(),QV=t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const s=t[r];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)e.push(s);else if(s.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const s=t[r];s instanceof Symbol||n.push(s)}return n},ZV={[xP]:ro("font-weight","bold"),[vP]:ro("font-weight","normal"),[YV]:ro("color","blue"),[XV]:ro("color","green"),[KV]:ro("color","grey"),[yP]:ro("color","red"),[GV]:ro("color","purple"),[kb]:ro("color","orange"),[JV]:ro("color","black")},eq=t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],n=[],r=nr();let s=[],o=0;for(;o<t.length;o++){const i=t[o],c=ZV[i];if(c!==void 0)r.set(c.left,c.right);else{if(i===void 0)break;if(i.constructor===String||i.constructor===Number){const u=qV(r);o>0||u.length>0?(e.push("%c"+i),n.push(u)):e.push(i)}else break}}for(o>0&&(s=n,s.unshift(e.join("")));o<t.length;o++){const i=t[o];i instanceof Symbol||s.push(i)}return s},bP=UV?eq:QV,tq=(...t)=>{console.log(...bP(t)),wP.forEach(e=>e.print(t))},nq=(...t)=>{console.warn(...bP(t)),t.unshift(kb),wP.forEach(e=>e.print(t))},wP=Sa(),kP=t=>({[Symbol.iterator](){return this},next:t}),rq=(t,e)=>kP(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),Iv=(t,e)=>kP(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});class Sb{constructor(e,n){this.clock=e,this.len=n}}class Su{constructor(){this.clients=new Map}}const SP=(t,e,n)=>e.clients.forEach((r,s)=>{const o=t.doc.store.clients.get(s);if(o!=null){const i=o[o.length-1],c=i.id.clock+i.length;for(let u=0,h=r[u];u<r.length&&h.clock<c;h=r[++u])RP(t,o,h.clock,h.len,n)}}),sq=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const s=Si((n+r)/2),o=t[s],i=o.clock;if(i<=e){if(e<i+o.len)return s;n=s+1}else r=s-1}return null},CP=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&sq(n,e.clock)!==null},Cb=t=>{t.clients.forEach(e=>{e.sort((s,o)=>s.clock-o.clock);let n,r;for(n=1,r=1;n<e.length;n++){const s=e[r-1],o=e[n];s.clock+s.len>=o.clock?s.len=Pa(s.len,o.clock+o.len-s.clock):(r<n&&(e[r]=o),r++)}e.length=r})},oq=t=>{const e=new Su;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,s)=>{if(!e.clients.has(s)){const o=r.slice();for(let i=n+1;i<t.length;i++)qW(o,t[i].clients.get(s)||[]);e.clients.set(s,o)}});return Cb(e),e},_p=(t,e,n,r)=>{ko(t.clients,e,()=>[]).push(new Sb(n,r))},iq=()=>new Su,aq=t=>{const e=iq();return t.clients.forEach((n,r)=>{const s=[];for(let o=0;o<n.length;o++){const i=n[o];if(i.deleted){const c=i.id.clock;let u=i.length;if(o+1<n.length)for(let h=n[o+1];o+1<n.length&&h.deleted;h=n[++o+1])u+=h.length;s.push(new Sb(c,u))}}s.length>0&&e.clients.set(r,s)}),e},dc=(t,e)=>{it(t.restEncoder,e.clients.size),ki(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),it(t.restEncoder,n);const s=r.length;it(t.restEncoder,s);for(let o=0;o<s;o++){const i=r[o];t.writeDsClock(i.clock),t.writeDsLen(i.len)}})},_b=t=>{const e=new Su,n=Qe(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const s=Qe(t.restDecoder),o=Qe(t.restDecoder);if(o>0){const i=ko(e.clients,s,()=>[]);for(let c=0;c<o;c++)i.push(new Sb(t.readDsClock(),t.readDsLen()))}}return e},V_=(t,e,n)=>{const r=new Su,s=Qe(t.restDecoder);for(let o=0;o<s;o++){t.resetDsCurVal();const i=Qe(t.restDecoder),c=Qe(t.restDecoder),u=n.clients.get(i)||[],h=mn(n,i);for(let f=0;f<c;f++){const m=t.readDsClock(),g=m+t.readDsLen();if(m<h){h<g&&_p(r,i,h,g-h);let y=Bs(u,m),v=u[y];for(!v.deleted&&v.id.clock<m&&(u.splice(y+1,0,Pp(e,v,m-v.id.clock)),y++);y<u.length&&(v=u[y++],v.id.clock<g);)v.deleted||(g<v.id.clock+v.length&&u.splice(y,0,Pp(e,v,g-v.id.clock)),v.delete(e))}else _p(r,i,m,g-m)}}if(r.clients.size>0){const o=new Ca;return it(o.restEncoder,0),dc(o,r),o.toUint8Array()}return null},_P=hP;class uc extends KW{constructor({guid:e=EV(),collectionid:n=null,gc:r=!0,gcFilter:s=()=>!0,meta:o=null,autoLoad:i=!1,shouldLoad:c=!0}={}){super(),this.gc=r,this.gcFilter=s,this.clientID=_P(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new PP,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=c,this.autoLoad=i,this.meta=o,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=zl(h=>{this.on("load",()=>{this.isLoaded=!0,h(this)})});const u=()=>zl(h=>{const f=m=>{(m===void 0||m===!0)&&(this.off("sync",f),h())};this.on("sync",f)});this.on("sync",h=>{h===!1&&this.isSynced&&(this.whenSynced=u()),this.isSynced=h===void 0||h===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=u()}load(){const e=this._item;e!==null&&!this.shouldLoad&&vt(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(ki(this.subdocs).map(e=>e.guid))}transact(e,n=null){return vt(this,e,n)}get(e,n=bn){const r=ko(this.share,e,()=>{const o=new n;return o._integrate(this,null),o}),s=r.constructor;if(n!==bn&&s!==n)if(s===bn){const o=new n;o._map=r._map,r._map.forEach(i=>{for(;i!==null;i=i.left)i.parent=o}),o._start=r._start;for(let i=o._start;i!==null;i=i.right)i.parent=o;return o._length=r._length,this.share.set(e,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,Pl)}getText(e=""){return this.get(e,Wl)}getMap(e=""){return this.get(e,Hl)}getXmlElement(e=""){return this.get(e,Vl)}getXmlFragment(e=""){return this.get(e,_a)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,ki(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new uc({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,vt(e.parent.doc,r=>{const s=n.doc;e.deleted||r.subdocsAdded.add(s),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class EP{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return Qe(this.restDecoder)}readDsLen(){return Qe(this.restDecoder)}}class NP extends EP{readLeftID(){return nt(Qe(this.restDecoder),Qe(this.restDecoder))}readRightID(){return nt(Qe(this.restDecoder),Qe(this.restDecoder))}readClient(){return Qe(this.restDecoder)}readInfo(){return $l(this.restDecoder)}readString(){return Ml(this.restDecoder)}readParentInfo(){return Qe(this.restDecoder)===1}readTypeRef(){return Qe(this.restDecoder)}readLen(){return Qe(this.restDecoder)}readAny(){return Hd(this.restDecoder)}readBuf(){return WV(hr(this.restDecoder))}readJSON(){return JSON.parse(Ml(this.restDecoder))}readKey(){return Ml(this.restDecoder)}}class lq{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Qe(this.restDecoder),this.dsCurrVal}readDsLen(){const e=Qe(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Ul extends lq{constructor(e){super(e),this.keys=[],Qe(e),this.keyClockDecoder=new Rv(hr(e)),this.clientDecoder=new If(hr(e)),this.leftClockDecoder=new Rv(hr(e)),this.rightClockDecoder=new Rv(hr(e)),this.infoDecoder=new U_(hr(e),$l),this.stringDecoder=new SV(hr(e)),this.parentInfoDecoder=new U_(hr(e),$l),this.typeRefDecoder=new If(hr(e)),this.lenDecoder=new If(hr(e))}readLeftID(){return new Ol(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Ol(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Hd(this.restDecoder)}readBuf(){return hr(this.restDecoder)}readJSON(){return Hd(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class cq{constructor(){this.restEncoder=Rm()}toUint8Array(){return Ts(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){it(this.restEncoder,e)}writeDsLen(e){it(this.restEncoder,e)}}class Cu extends cq{writeLeftID(e){it(this.restEncoder,e.client),it(this.restEncoder,e.clock)}writeRightID(e){it(this.restEncoder,e.client),it(this.restEncoder,e.clock)}writeClient(e){it(this.restEncoder,e)}writeInfo(e){zy(this.restEncoder,e)}writeString(e){Tl(this.restEncoder,e)}writeParentInfo(e){it(this.restEncoder,e?1:0)}writeTypeRef(e){it(this.restEncoder,e)}writeLen(e){it(this.restEncoder,e)}writeAny(e){Ud(this.restEncoder,e)}writeBuf(e){ur(this.restEncoder,e)}writeJSON(e){Tl(this.restEncoder,JSON.stringify(e))}writeKey(e){Tl(this.restEncoder,e)}}class dq{constructor(){this.restEncoder=Rm(),this.dsCurrVal=0}toUint8Array(){return Ts(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,it(this.restEncoder,n)}writeDsLen(e){e===0&&Ls(),it(this.restEncoder,e-1),this.dsCurrVal+=e}}class Ca extends dq{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Av,this.clientEncoder=new Rf,this.leftClockEncoder=new Av,this.rightClockEncoder=new Av,this.infoEncoder=new F_(zy),this.stringEncoder=new pV,this.parentInfoEncoder=new F_(zy),this.typeRefEncoder=new Rf,this.lenEncoder=new Rf}toUint8Array(){const e=Rm();return it(e,0),ur(e,this.keyClockEncoder.toUint8Array()),ur(e,this.clientEncoder.toUint8Array()),ur(e,this.leftClockEncoder.toUint8Array()),ur(e,this.rightClockEncoder.toUint8Array()),ur(e,Ts(this.infoEncoder)),ur(e,this.stringEncoder.toUint8Array()),ur(e,Ts(this.parentInfoEncoder)),ur(e,this.typeRefEncoder.toUint8Array()),ur(e,this.lenEncoder.toUint8Array()),Im(e,Ts(this.restEncoder)),Ts(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Ud(this.restEncoder,e)}writeBuf(e){ur(this.restEncoder,e)}writeJSON(e){Ud(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const uq=(t,e,n,r)=>{r=Pa(r,e[0].id.clock);const s=Bs(e,r);it(t.restEncoder,e.length-s),t.writeClient(n),it(t.restEncoder,r);const o=e[s];o.write(t,r-o.id.clock);for(let i=s+1;i<e.length;i++)e[i].write(t,0)},Eb=(t,e,n)=>{const r=new Map;n.forEach((s,o)=>{mn(e,o)>s&&r.set(o,s)}),Nb(e).forEach((s,o)=>{n.has(o)||r.set(o,0)}),it(t.restEncoder,r.size),ki(r.entries()).sort((s,o)=>o[0]-s[0]).forEach(([s,o])=>{uq(t,e.clients.get(s),s,o)})},hq=(t,e)=>{const n=nr(),r=Qe(t.restDecoder);for(let s=0;s<r;s++){const o=Qe(t.restDecoder),i=new Array(o),c=t.readClient();let u=Qe(t.restDecoder);n.set(c,{i:0,refs:i});for(let h=0;h<o;h++){const f=t.readInfo();switch(Am&f){case 0:{const m=t.readLen();i[h]=new Rr(nt(c,u),m),u+=m;break}case 10:{const m=Qe(t.restDecoder);i[h]=new Ir(nt(c,u),m),u+=m;break}default:{const m=(f&(mo|vr))===0,g=new rn(nt(c,u),null,(f&vr)===vr?t.readLeftID():null,null,(f&mo)===mo?t.readRightID():null,m?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,m&&(f&$d)===$d?t.readString():null,ZP(t,f));i[h]=g,u+=g.length}}}}return n},fq=(t,e,n)=>{const r=[];let s=ki(n.keys()).sort((y,v)=>y-v);if(s.length===0)return null;const o=()=>{if(s.length===0)return null;let y=n.get(s[s.length-1]);for(;y.refs.length===y.i;)if(s.pop(),s.length>0)y=n.get(s[s.length-1]);else return null;return y};let i=o();if(i===null)return null;const c=new PP,u=new Map,h=(y,v)=>{const b=u.get(y);(b==null||b>v)&&u.set(y,v)};let f=i.refs[i.i++];const m=new Map,g=()=>{for(const y of r){const v=y.id.client,b=n.get(v);b?(b.i--,c.clients.set(v,b.refs.slice(b.i)),n.delete(v),b.i=0,b.refs=[]):c.clients.set(v,[y]),s=s.filter(k=>k!==v)}r.length=0};for(;;){if(f.constructor!==Ir){const v=ko(m,f.id.client,()=>mn(e,f.id.client))-f.id.clock;if(v<0)r.push(f),h(f.id.client,f.id.clock-1),g();else{const b=f.getMissing(t,e);if(b!==null){r.push(f);const k=n.get(b)||{refs:[],i:0};if(k.refs.length===k.i)h(b,mn(e,b)),g();else{f=k.refs[k.i++];continue}}else(v===0||v<f.length)&&(f.integrate(t,v),m.set(f.id.client,f.id.clock+f.length))}}if(r.length>0)f=r.pop();else if(i!==null&&i.i<i.refs.length)f=i.refs[i.i++];else{if(i=o(),i===null)break;f=i.refs[i.i++]}}if(c.clients.size>0){const y=new Ca;return Eb(y,c,new Map),it(y.restEncoder,0),{missing:u,update:y.toUint8Array()}}return null},pq=(t,e)=>Eb(t,e.doc.store,e.beforeState),mq=(t,e,n,r=new Ul(t))=>vt(e,s=>{s.local=!1;let o=!1;const i=s.doc,c=i.store,u=hq(r,i),h=fq(s,c,u),f=c.pendingStructs;if(f){for(const[g,y]of f.missing)if(y<mn(c,g)){o=!0;break}if(h){for(const[g,y]of h.missing){const v=f.missing.get(g);(v==null||v>y)&&f.missing.set(g,y)}f.update=Ep([f.update,h.update])}}else c.pendingStructs=h;const m=V_(r,s,c);if(c.pendingDs){const g=new Ul(cc(c.pendingDs));Qe(g.restDecoder);const y=V_(g,s,c);m&&y?c.pendingDs=Ep([m,y]):c.pendingDs=m||y}else c.pendingDs=m;if(o){const g=c.pendingStructs.update;c.pendingStructs=null,jP(s.doc,g)}},n,!1),jP=(t,e,n,r=Ul)=>{const s=cc(e);mq(s,t,n,new r(s))},Wy=(t,e,n)=>jP(t,e,n,NP),gq=(t,e,n=new Map)=>{Eb(t,e.store,n),dc(t,aq(e.store))},xq=(t,e=new Uint8Array([0]),n=new Ca)=>{const r=MP(e);gq(n,t,r);const s=[n.toUint8Array()];if(t.store.pendingDs&&s.push(t.store.pendingDs),t.store.pendingStructs&&s.push(Tq(t.store.pendingStructs.update,e)),s.length>1){if(n.constructor===Cu)return Nq(s.map((o,i)=>i===0?o:Oq(o)));if(n.constructor===Ca)return Ep(s)}return s[0]},TP=(t,e)=>xq(t,e,new Cu),vq=t=>{const e=new Map,n=Qe(t.restDecoder);for(let r=0;r<n;r++){const s=Qe(t.restDecoder),o=Qe(t.restDecoder);e.set(s,o)}return e},MP=t=>vq(new EP(cc(t)));class yq{constructor(){this.l=[]}}const q_=()=>new yq,Y_=(t,e)=>t.l.push(e),K_=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(s=>e!==s),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},OP=(t,e,n)=>wb(t.l,[e,n]);class Ol{constructor(e,n){this.client=e,this.clock=n}}const Qh=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,nt=(t,e)=>new Ol(t,e),bq=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw Ls()},kl=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!CP(e.ds,t.id),Vy=(t,e)=>{const n=ko(t.meta,Vy,Sa),r=t.doc.store;n.has(e)||(e.sv.forEach((s,o)=>{s<mn(r,o)&&Ci(t,nt(o,s))}),SP(t,e.ds,s=>{}),n.add(e))};class PP{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Nb=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const s=n[n.length-1];e.set(r,s.id.clock+s.length)}),e},mn=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},AP=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw Ls()}n.push(e)},Bs=(t,e)=>{let n=0,r=t.length-1,s=t[r],o=s.id.clock;if(o===e)return r;let i=Si(e/(o+s.length-1)*r);for(;n<=r;){if(s=t[i],o=s.id.clock,o<=e){if(e<o+s.length)return i;n=i+1}else r=i-1;i=Si((n+r)/2)}throw Ls()},wq=(t,e)=>{const n=t.clients.get(e.client);return n[Bs(n,e.clock)]},Dv=wq,qy=(t,e,n)=>{const r=Bs(e,n),s=e[r];return s.id.clock<n&&s instanceof rn?(e.splice(r+1,0,Pp(t,s,n-s.id.clock)),r+1):r},Ci=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[qy(t,n,e.clock)]},X_=(t,e,n)=>{const r=e.clients.get(n.client),s=Bs(r,n.clock),o=r[s];return n.clock!==o.id.clock+o.length-1&&o.constructor!==Rr&&r.splice(s+1,0,Pp(t,o,n.clock-o.id.clock+1)),o},kq=(t,e,n)=>{const r=t.clients.get(e.id.client);r[Bs(r,e.id.clock)]=n},RP=(t,e,n,r,s)=>{if(r===0)return;const o=n+r;let i=qy(t,e,n),c;do c=e[i++],o<c.id.clock+c.length&&qy(t,e,o),s(c);while(i<e.length&&e[i].id.clock<o)};class Sq{constructor(e,n,r){this.doc=e,this.deleteSet=new Su,this.beforeState=Nb(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const G_=(t,e)=>e.deleteSet.clients.size===0&&!VW(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(Cb(e.deleteSet),pq(t,e),dc(t,e.deleteSet),!0),J_=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&ko(t.changed,e,Sa).add(n)},Df=(t,e)=>{let n=t[e],r=t[e-1],s=e;for(;s>0;n=r,r=t[--s-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof rn&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const o=e-s;return o&&t.splice(e+1-o,o),o},Cq=(t,e,n)=>{for(const[r,s]of t.clients.entries()){const o=e.clients.get(r);for(let i=s.length-1;i>=0;i--){const c=s[i],u=c.clock+c.len;for(let h=Bs(o,c.clock),f=o[h];h<o.length&&f.id.clock<u;f=o[++h]){const m=o[h];if(c.clock+c.len<=m.id.clock)break;m instanceof rn&&m.deleted&&!m.keep&&n(m)&&m.gc(e,!1)}}}},_q=(t,e)=>{t.clients.forEach((n,r)=>{const s=e.clients.get(r);for(let o=n.length-1;o>=0;o--){const i=n[o],c=aP(s.length-1,1+Bs(s,i.clock+i.len-1));for(let u=c,h=s[u];u>0&&h.id.clock>=i.clock;h=s[u])u-=1+Df(s,u)}})},IP=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,s=r.store,o=n.deleteSet,i=n._mergeStructs;try{Cb(o),n.afterState=Nb(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const c=[];n.changed.forEach((u,h)=>c.push(()=>{(h._item===null||!h._item.deleted)&&h._callObserver(n,u)})),c.push(()=>{n.changedParentTypes.forEach((u,h)=>{h._dEH.l.length>0&&(h._item===null||!h._item.deleted)&&(u=u.filter(f=>f.target._item===null||!f.target._item.deleted),u.forEach(f=>{f.currentTarget=h,f._path=null}),u.sort((f,m)=>f.path.length-m.path.length),OP(h._dEH,u,n))})}),c.push(()=>r.emit("afterTransaction",[n,r])),wb(c,[]),n._needFormattingCleanup&&Vq(n)}finally{r.gc&&Cq(o,s,r.gcFilter),_q(o,s),n.afterState.forEach((f,m)=>{const g=n.beforeState.get(m)||0;if(g!==f){const y=s.clients.get(m),v=Pa(Bs(y,g),1);for(let b=y.length-1;b>=v;)b-=1+Df(y,b)}});for(let f=i.length-1;f>=0;f--){const{client:m,clock:g}=i[f].id,y=s.clients.get(m),v=Bs(y,g);v+1<y.length&&Df(y,v+1)>1||v>0&&Df(y,v)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(tq(kb,xP,"[yjs] ",vP,yP,"Changed the client-id because another client seems to be using it."),r.clientID=_P()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const f=new Cu;G_(f,n)&&r.emit("update",[f.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const f=new Ca;G_(f,n)&&r.emit("updateV2",[f.toUint8Array(),n.origin,r,n])}const{subdocsAdded:c,subdocsLoaded:u,subdocsRemoved:h}=n;(c.size>0||h.size>0||u.size>0)&&(c.forEach(f=>{f.clientID=r.clientID,f.collectionid==null&&(f.collectionid=r.collectionid),r.subdocs.add(f)}),h.forEach(f=>r.subdocs.delete(f)),r.emit("subdocs",[{loaded:u,added:c,removed:h},r,n]),h.forEach(f=>f.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):IP(t,e+1)}}},vt=(t,e,n=null,r=!0)=>{const s=t._transactionCleanups;let o=!1,i=null;t._transaction===null&&(o=!0,t._transaction=new Sq(t,n,r),s.push(t._transaction),s.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{i=e(t._transaction)}finally{if(o){const c=t._transaction===s[0];t._transaction=null,c&&IP(s,0)}}return i};function*Eq(t){const e=Qe(t.restDecoder);for(let n=0;n<e;n++){const r=Qe(t.restDecoder),s=t.readClient();let o=Qe(t.restDecoder);for(let i=0;i<r;i++){const c=t.readInfo();if(c===10){const u=Qe(t.restDecoder);yield new Ir(nt(s,o),u),o+=u}else if((Am&c)!==0){const u=(c&(mo|vr))===0,h=new rn(nt(s,o),null,(c&vr)===vr?t.readLeftID():null,null,(c&mo)===mo?t.readRightID():null,u?t.readParentInfo()?t.readString():t.readLeftID():null,u&&(c&$d)===$d?t.readString():null,ZP(t,c));yield h,o+=h.length}else{const u=t.readLen();yield new Rr(nt(s,o),u),o+=u}}}}class jb{constructor(e,n){this.gen=Eq(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Ir);return this.curr}}class Tb{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const Nq=t=>Ep(t,NP,Cu),jq=(t,e)=>{if(t.constructor===Rr){const{client:n,clock:r}=t.id;return new Rr(nt(n,r+e),t.length-e)}else if(t.constructor===Ir){const{client:n,clock:r}=t.id;return new Ir(nt(n,r+e),t.length-e)}else{const n=t,{client:r,clock:s}=n.id;return new rn(nt(r,s+e),null,nt(r,s+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},Ep=(t,e=Ul,n=Ca)=>{if(t.length===1)return t[0];const r=t.map(f=>new e(cc(f)));let s=r.map(f=>new jb(f,!0)),o=null;const i=new n,c=new Tb(i);for(;s=s.filter(g=>g.curr!==null),s.sort((g,y)=>{if(g.curr.id.client===y.curr.id.client){const v=g.curr.id.clock-y.curr.id.clock;return v===0?g.curr.constructor===y.curr.constructor?0:g.curr.constructor===Ir?1:-1:v}else return y.curr.id.client-g.curr.id.client}),s.length!==0;){const f=s[0],m=f.curr.id.client;if(o!==null){let g=f.curr,y=!1;for(;g!==null&&g.id.clock+g.length<=o.struct.id.clock+o.struct.length&&g.id.client>=o.struct.id.client;)g=f.next(),y=!0;if(g===null||g.id.client!==m||y&&g.id.clock>o.struct.id.clock+o.struct.length)continue;if(m!==o.struct.id.client)ii(c,o.struct,o.offset),o={struct:g,offset:0},f.next();else if(o.struct.id.clock+o.struct.length<g.id.clock)if(o.struct.constructor===Ir)o.struct.length=g.id.clock+g.length-o.struct.id.clock;else{ii(c,o.struct,o.offset);const v=g.id.clock-o.struct.id.clock-o.struct.length;o={struct:new Ir(nt(m,o.struct.id.clock+o.struct.length),v),offset:0}}else{const v=o.struct.id.clock+o.struct.length-g.id.clock;v>0&&(o.struct.constructor===Ir?o.struct.length-=v:g=jq(g,v)),o.struct.mergeWith(g)||(ii(c,o.struct,o.offset),o={struct:g,offset:0},f.next())}}else o={struct:f.curr,offset:0},f.next();for(let g=f.curr;g!==null&&g.id.client===m&&g.id.clock===o.struct.id.clock+o.struct.length&&g.constructor!==Ir;g=f.next())ii(c,o.struct,o.offset),o={struct:g,offset:0}}o!==null&&(ii(c,o.struct,o.offset),o=null),Mb(c);const u=r.map(f=>_b(f)),h=oq(u);return dc(i,h),i.toUint8Array()},Tq=(t,e,n=Ul,r=Ca)=>{const s=MP(e),o=new r,i=new Tb(o),c=new n(cc(t)),u=new jb(c,!1);for(;u.curr;){const f=u.curr,m=f.id.client,g=s.get(m)||0;if(u.curr.constructor===Ir){u.next();continue}if(f.id.clock+f.length>g)for(ii(i,f,Pa(g-f.id.clock,0)),u.next();u.curr&&u.curr.id.client===m;)ii(i,u.curr,0),u.next();else for(;u.curr&&u.curr.id.client===m&&u.curr.id.clock+u.curr.length<=g;)u.next()}Mb(i);const h=_b(c);return dc(o,h),o.toUint8Array()},DP=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:Ts(t.encoder.restEncoder)}),t.encoder.restEncoder=Rm(),t.written=0)},ii=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&DP(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),it(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},Mb=t=>{DP(t);const e=t.encoder.restEncoder;it(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];it(e,r.written),Im(e,r.restEncoder)}},Mq=(t,e,n,r)=>{const s=new n(cc(t)),o=new jb(s,!1),i=new r,c=new Tb(i);for(let h=o.curr;h!==null;h=o.next())ii(c,e(h),0);Mb(c);const u=_b(s);return dc(i,u),i.toUint8Array()},Oq=t=>Mq(t,BV,Ul,Cu),Q_="You must not compute changes after the event-handler fired.";class Lm{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=Pq(this.currentTarget,this.target))}deletes(e){return CP(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw bo(Q_);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(s=>{if(s!==null){const o=n._map.get(s);let i,c;if(this.adds(o)){let u=o.left;for(;u!==null&&this.adds(u);)u=u.left;if(this.deletes(o))if(u!==null&&this.deletes(u))i="delete",c=Mv(u.content.getContent());else return;else u!==null&&this.deletes(u)?(i="update",c=Mv(u.content.getContent())):(i="add",c=void 0)}else if(this.deletes(o))i="delete",c=Mv(o.content.getContent());else return;e.set(s,{action:i,oldValue:c})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw bo(Q_);const n=this.target,r=Sa(),s=Sa(),o=[];if(e={added:r,deleted:s,delta:o,keys:this.keys},this.transaction.changed.get(n).has(null)){let c=null;const u=()=>{c&&o.push(c)};for(let h=n._start;h!==null;h=h.right)h.deleted?this.deletes(h)&&!this.adds(h)&&((c===null||c.delete===void 0)&&(u(),c={delete:0}),c.delete+=h.length,s.add(h)):this.adds(h)?((c===null||c.insert===void 0)&&(u(),c={insert:[]}),c.insert=c.insert.concat(h.content.getContent()),r.add(h)):((c===null||c.retain===void 0)&&(u(),c={retain:0}),c.retain+=h.length);c!==null&&c.retain===void 0&&u()}this._changes=e}return e}}const Pq=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,s=e._item.parent._start;for(;s!==e._item&&s!==null;)!s.deleted&&s.countable&&(r+=s.length),s=s.right;n.unshift(r)}e=e._item.parent}return n},Pn=()=>{nq("Invalid access: Add Yjs type to a document before reading data.")},LP=80;let Ob=0;class Aq{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=Ob++}}const Rq=t=>{t.timestamp=Ob++},BP=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=Ob++},Iq=(t,e,n)=>{if(t.length>=LP){const r=t.reduce((s,o)=>s.timestamp<o.timestamp?s:o);return BP(r,e,n),r}else{const r=new Aq(e,n);return t.push(r),r}},Bm=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((o,i)=>Af(e-o.index)<Af(e-i.index)?o:i);let r=t._start,s=0;for(n!==null&&(r=n.p,s=n.index,Rq(n));r.right!==null&&s<e;){if(!r.deleted&&r.countable){if(e<s+r.length)break;s+=r.length}r=r.right}for(;r.left!==null&&s>e;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);return n!==null&&Af(n.index-s)<r.parent.length/LP?(BP(n,r,s),n):Iq(t._searchMarker,r,s)},Vd=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const s=t[r];if(n>0){let o=s.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(s.index-=o.length);if(o===null||o.marker===!0){t.splice(r,1);continue}s.p=o,o.marker=!0}(e<s.index||n>0&&e===s.index)&&(s.index=Pa(e,s.index+n))}},Fm=(t,e,n)=>{const r=t,s=e.changedParentTypes;for(;ko(s,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;OP(r._eH,n,e)};class bn{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=q_(),this._dEH=q_(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw Ps()}clone(){throw Ps()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Y_(this._eH,e)}observeDeep(e){Y_(this._dEH,e)}unobserve(e){K_(this._eH,e)}unobserveDeep(e){K_(this._dEH,e)}toJSON(){}}const FP=(t,e,n)=>{t.doc??Pn(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const s=[];let o=t._start;for(;o!==null&&r>0;){if(o.countable&&!o.deleted){const i=o.content.getContent();if(i.length<=e)e-=i.length;else{for(let c=e;c<i.length&&r>0;c++)s.push(i[c]),r--;e=0}}o=o.right}return s},$P=t=>{t.doc??Pn();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let s=0;s<r.length;s++)e.push(r[s])}n=n.right}return e},qd=(t,e)=>{let n=0,r=t._start;for(t.doc??Pn();r!==null;){if(r.countable&&!r.deleted){const s=r.content.getContent();for(let o=0;o<s.length;o++)e(s[o],n++,t)}r=r.right}},zP=(t,e)=>{const n=[];return qd(t,(r,s)=>{n.push(e(r,s,t))}),n},Dq=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const s=n[r++];return n.length<=r&&(n=null),{done:!1,value:s}}}},UP=(t,e)=>{t.doc??Pn();const n=Bm(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},Np=(t,e,n,r)=>{let s=n;const o=t.doc,i=o.clientID,c=o.store,u=n===null?e._start:n.right;let h=[];const f=()=>{h.length>0&&(s=new rn(nt(i,mn(c,i)),s,s&&s.lastId,u,u&&u.id,e,null,new Ea(h)),s.integrate(t,0),h=[])};r.forEach(m=>{if(m===null)h.push(m);else switch(m.constructor){case Number:case Object:case Boolean:case Array:case String:h.push(m);break;default:switch(f(),m.constructor){case Uint8Array:case ArrayBuffer:s=new rn(nt(i,mn(c,i)),s,s&&s.lastId,u,u&&u.id,e,null,new _u(new Uint8Array(m))),s.integrate(t,0);break;case uc:s=new rn(nt(i,mn(c,i)),s,s&&s.lastId,u,u&&u.id,e,null,new Eu(m)),s.integrate(t,0);break;default:if(m instanceof bn)s=new rn(nt(i,mn(c,i)),s,s&&s.lastId,u,u&&u.id,e,null,new Co(m)),s.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),f()},HP=()=>bo("Length exceeded!"),WP=(t,e,n,r)=>{if(n>e._length)throw HP();if(n===0)return e._searchMarker&&Vd(e._searchMarker,n,r.length),Np(t,e,null,r);const s=n,o=Bm(e,n);let i=e._start;for(o!==null&&(i=o.p,n-=o.index,n===0&&(i=i.prev,n+=i&&i.countable&&!i.deleted?i.length:0));i!==null;i=i.right)if(!i.deleted&&i.countable){if(n<=i.length){n<i.length&&Ci(t,nt(i.id.client,i.id.clock+n));break}n-=i.length}return e._searchMarker&&Vd(e._searchMarker,s,r.length),Np(t,e,i,r)},Lq=(t,e,n)=>{let s=(e._searchMarker||[]).reduce((o,i)=>i.index>o.index?i:o,{index:0,p:e._start}).p;if(s)for(;s.right;)s=s.right;return Np(t,e,s,n)},VP=(t,e,n,r)=>{if(r===0)return;const s=n,o=r,i=Bm(e,n);let c=e._start;for(i!==null&&(c=i.p,n-=i.index);c!==null&&n>0;c=c.right)!c.deleted&&c.countable&&(n<c.length&&Ci(t,nt(c.id.client,c.id.clock+n)),n-=c.length);for(;r>0&&c!==null;)c.deleted||(r<c.length&&Ci(t,nt(c.id.client,c.id.clock+r)),c.delete(t),r-=c.length),c=c.right;if(r>0)throw HP();e._searchMarker&&Vd(e._searchMarker,s,-o+r)},jp=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},Pb=(t,e,n,r)=>{const s=e._map.get(n)||null,o=t.doc,i=o.clientID;let c;if(r==null)c=new Ea([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:c=new Ea([r]);break;case Uint8Array:c=new _u(r);break;case uc:c=new Eu(r);break;default:if(r instanceof bn)c=new Co(r);else throw new Error("Unexpected content type")}new rn(nt(i,mn(o.store,i)),s,s&&s.lastId,null,null,e,n,c).integrate(t,0)},Ab=(t,e)=>{t.doc??Pn();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},qP=t=>{const e={};return t.doc??Pn(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},YP=(t,e)=>{t.doc??Pn();const n=t._map.get(e);return n!==void 0&&!n.deleted},Bq=(t,e)=>{const n={};return t._map.forEach((r,s)=>{let o=r;for(;o!==null&&(!e.sv.has(o.id.client)||o.id.clock>=(e.sv.get(o.id.client)||0));)o=o.left;o!==null&&kl(o,e)&&(n[s]=o.content.getContent()[o.length-1])}),n},Zh=t=>(t.doc??Pn(),rq(t._map.entries(),e=>!e[1].deleted));class Fq extends Lm{}class Pl extends bn{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new Pl;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Pl}clone(){const e=new Pl;return e.insert(0,this.toArray().map(n=>n instanceof bn?n.clone():n)),e}get length(){return this.doc??Pn(),this._length}_callObserver(e,n){super._callObserver(e,n),Fm(this,e,new Fq(this,e))}insert(e,n){this.doc!==null?vt(this.doc,r=>{WP(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?vt(this.doc,n=>{Lq(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?vt(this.doc,r=>{VP(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return UP(this,e)}toArray(){return $P(this)}slice(e=0,n=this.length){return FP(this,e,n)}toJSON(){return this.map(e=>e instanceof bn?e.toJSON():e)}map(e){return zP(this,e)}forEach(e){qd(this,e)}[Symbol.iterator](){return Dq(this)}_write(e){e.writeTypeRef(dY)}}const $q=t=>new Pl;class zq extends Lm{constructor(e,n,r){super(e,n),this.keysChanged=r}}class Hl extends bn{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,s)=>{this.set(s,r)}),this._prelimContent=null}_copy(){return new Hl}clone(){const e=new Hl;return this.forEach((n,r)=>{e.set(r,n instanceof bn?n.clone():n)}),e}_callObserver(e,n){Fm(this,e,new zq(this,e,n))}toJSON(){this.doc??Pn();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const s=n.content.getContent()[n.length-1];e[r]=s instanceof bn?s.toJSON():s}}),e}get size(){return[...Zh(this)].length}keys(){return Iv(Zh(this),e=>e[0])}values(){return Iv(Zh(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Iv(Zh(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??Pn(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?vt(this.doc,n=>{jp(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?vt(this.doc,r=>{Pb(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return Ab(this,e)}has(e){return YP(this,e)}clear(){this.doc!==null?vt(this.doc,e=>{this.forEach(function(n,r,s){jp(e,s,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(uY)}}const Uq=t=>new Hl,ci=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&DV(t,e);class Yy{constructor(e,n,r,s){this.left=e,this.right=n,this.index=r,this.currentAttributes=s}forward(){switch(this.right===null&&Ls(),this.right.content.constructor){case on:this.right.deleted||hc(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Z_=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case on:e.right.deleted||hc(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Ci(t,nt(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},ef=(t,e,n,r)=>{const s=new Map,o=r?Bm(e,n):null;if(o){const i=new Yy(o.p.left,o.p,o.index,s);return Z_(t,i,n-o.index)}else{const i=new Yy(null,e._start,0,s);return Z_(t,i,n)}},KP=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===on&&ci(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const s=t.doc,o=s.clientID;r.forEach((i,c)=>{const u=n.left,h=n.right,f=new rn(nt(o,mn(s.store,o)),u,u&&u.lastId,h,h&&h.id,e,null,new on(c,i));f.integrate(t,0),n.right=f,n.forward()})},hc=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},XP=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===on&&ci(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},GP=(t,e,n,r)=>{const s=t.doc,o=s.clientID,i=new Map;for(const c in r){const u=r[c],h=n.currentAttributes.get(c)??null;if(!ci(h,u)){i.set(c,h);const{left:f,right:m}=n;n.right=new rn(nt(o,mn(s.store,o)),f,f&&f.lastId,m,m&&m.id,e,null,new on(c,u)),n.right.integrate(t,0),n.forward()}}return i},Lv=(t,e,n,r,s)=>{n.currentAttributes.forEach((g,y)=>{s[y]===void 0&&(s[y]=null)});const o=t.doc,i=o.clientID;XP(n,s);const c=GP(t,e,n,s),u=r.constructor===String?new Fs(r):r instanceof bn?new Co(r):new Aa(r);let{left:h,right:f,index:m}=n;e._searchMarker&&Vd(e._searchMarker,n.index,u.getLength()),f=new rn(nt(i,mn(o.store,i)),h,h&&h.lastId,f,f&&f.id,e,null,u),f.integrate(t,0),n.right=f,n.index=m,n.forward(),KP(t,e,n,c)},eE=(t,e,n,r,s)=>{const o=t.doc,i=o.clientID;XP(n,s);const c=GP(t,e,n,s);e:for(;n.right!==null&&(r>0||c.size>0&&(n.right.deleted||n.right.content.constructor===on));){if(!n.right.deleted)switch(n.right.content.constructor){case on:{const{key:u,value:h}=n.right.content,f=s[u];if(f!==void 0){if(ci(f,h))c.delete(u);else{if(r===0)break e;c.set(u,h)}n.right.delete(t)}else n.currentAttributes.set(u,h);break}default:r<n.right.length&&Ci(t,nt(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let u="";for(;r>0;r--)u+=`
`;n.right=new rn(nt(i,mn(o.store,i)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new Fs(u)),n.right.integrate(t,0),n.forward()}KP(t,e,n,c)},JP=(t,e,n,r,s)=>{let o=e;const i=nr();for(;o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===on){const h=o.content;i.set(h.key,h)}o=o.right}let c=0,u=!1;for(;e!==o;){if(n===e&&(u=!0),!e.deleted){const h=e.content;switch(h.constructor){case on:{const{key:f,value:m}=h,g=r.get(f)??null;(i.get(f)!==h||g===m)&&(e.delete(t),c++,!u&&(s.get(f)??null)===m&&g!==m&&(g===null?s.delete(f):s.set(f,g))),!u&&!e.deleted&&hc(s,h);break}}}e=e.right}return c},Hq=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===on){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},Wq=t=>{let e=0;return vt(t.doc,n=>{let r=t._start,s=t._start,o=nr();const i=Fy(o);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case on:hc(i,s.content);break;default:e+=JP(n,r,s,o,i),o=Fy(i),r=s;break}s=s.right}}),e},Vq=t=>{const e=new Set,n=t.doc;for(const[r,s]of t.afterState.entries()){const o=t.beforeState.get(r)||0;s!==o&&RP(t,n.store.clients.get(r),o,s,i=>{!i.deleted&&i.content.constructor===on&&i.constructor!==Rr&&e.add(i.parent)})}vt(n,r=>{SP(t,t.deleteSet,s=>{if(s instanceof Rr||!s.parent._hasFormatting||e.has(s.parent))return;const o=s.parent;s.content.constructor===on?e.add(o):Hq(r,s)});for(const s of e)Wq(s)})},tE=(t,e,n)=>{const r=n,s=Fy(e.currentAttributes),o=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Co:case Aa:case Fs:n<e.right.length&&Ci(t,nt(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}o&&JP(t,o,e.right,s,e.currentAttributes);const i=(e.left||e.right).parent;return i._searchMarker&&Vd(i._searchMarker,e.index,-r+n),e};class qq extends Lm{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];vt(e,r=>{const s=new Map,o=new Map;let i=this.target._start,c=null;const u={};let h="",f=0,m=0;const g=()=>{if(c!==null){let y=null;switch(c){case"delete":m>0&&(y={delete:m}),m=0;break;case"insert":(typeof h=="object"||h.length>0)&&(y={insert:h},s.size>0&&(y.attributes={},s.forEach((v,b)=>{v!==null&&(y.attributes[b]=v)}))),h="";break;case"retain":f>0&&(y={retain:f},AV(u)||(y.attributes=MV({},u))),f=0;break}y&&n.push(y),c=null}};for(;i!==null;){switch(i.content.constructor){case Co:case Aa:this.adds(i)?this.deletes(i)||(g(),c="insert",h=i.content.getContent()[0],g()):this.deletes(i)?(c!=="delete"&&(g(),c="delete"),m+=1):i.deleted||(c!=="retain"&&(g(),c="retain"),f+=1);break;case Fs:this.adds(i)?this.deletes(i)||(c!=="insert"&&(g(),c="insert"),h+=i.content.str):this.deletes(i)?(c!=="delete"&&(g(),c="delete"),m+=i.length):i.deleted||(c!=="retain"&&(g(),c="retain"),f+=i.length);break;case on:{const{key:y,value:v}=i.content;if(this.adds(i)){if(!this.deletes(i)){const b=s.get(y)??null;ci(b,v)?v!==null&&i.delete(r):(c==="retain"&&g(),ci(v,o.get(y)??null)?delete u[y]:u[y]=v)}}else if(this.deletes(i)){o.set(y,v);const b=s.get(y)??null;ci(b,v)||(c==="retain"&&g(),u[y]=b)}else if(!i.deleted){o.set(y,v);const b=u[y];b!==void 0&&(ci(b,v)?b!==null&&i.delete(r):(c==="retain"&&g(),v===null?delete u[y]:u[y]=v))}i.deleted||(c==="insert"&&g(),hc(s,i.content));break}}i=i.right}for(g();n.length>0;){const y=n[n.length-1];if(y.retain!==void 0&&y.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Wl extends bn{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Pn(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new Wl}clone(){const e=new Wl;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new qq(this,e,n);Fm(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??Pn();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Fs&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?vt(this.doc,r=>{const s=new Yy(null,this._start,0,new Map);for(let o=0;o<e.length;o++){const i=e[o];if(i.insert!==void 0){const c=!n&&typeof i.insert=="string"&&o===e.length-1&&s.right===null&&i.insert.slice(-1)===`
`?i.insert.slice(0,-1):i.insert;(typeof c!="string"||c.length>0)&&Lv(r,this,s,c,i.attributes||{})}else i.retain!==void 0?eE(r,this,s,i.retain,i.attributes||{}):i.delete!==void 0&&tE(r,s,i.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??Pn();const s=[],o=new Map,i=this.doc;let c="",u=this._start;function h(){if(c.length>0){const m={};let g=!1;o.forEach((v,b)=>{g=!0,m[b]=v});const y={insert:c};g&&(y.attributes=m),s.push(y),c=""}}const f=()=>{for(;u!==null;){if(kl(u,e)||n!==void 0&&kl(u,n))switch(u.content.constructor){case Fs:{const m=o.get("ychange");e!==void 0&&!kl(u,e)?(m===void 0||m.user!==u.id.client||m.type!=="removed")&&(h(),o.set("ychange",r?r("removed",u.id):{type:"removed"})):n!==void 0&&!kl(u,n)?(m===void 0||m.user!==u.id.client||m.type!=="added")&&(h(),o.set("ychange",r?r("added",u.id):{type:"added"})):m!==void 0&&(h(),o.delete("ychange")),c+=u.content.str;break}case Co:case Aa:{h();const m={insert:u.content.getContent()[0]};if(o.size>0){const g={};m.attributes=g,o.forEach((y,v)=>{g[v]=y})}s.push(m);break}case on:kl(u,e)&&(h(),hc(o,u.content));break}u=u.right}h()};return e||n?vt(i,m=>{e&&Vy(m,e),n&&Vy(m,n),f()},"cleanup"):f(),s}insert(e,n,r){if(n.length<=0)return;const s=this.doc;s!==null?vt(s,o=>{const i=ef(o,this,e,!r);r||(r={},i.currentAttributes.forEach((c,u)=>{r[u]=c})),Lv(o,this,i,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const s=this.doc;s!==null?vt(s,o=>{const i=ef(o,this,e,!r);Lv(o,this,i,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?vt(r,s=>{tE(s,ef(s,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const s=this.doc;s!==null?vt(s,o=>{const i=ef(o,this,e,!1);i.right!==null&&eE(o,this,i,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?vt(this.doc,n=>{jp(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?vt(this.doc,r=>{Pb(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return Ab(this,e)}getAttributes(){return qP(this)}_write(e){e.writeTypeRef(hY)}}const Yq=t=>new Wl;class Bv{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??Pn()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===Vl||n.constructor===_a)&&n._start!==null)e=n._start;else for(;e!==null;){const r=e.next;if(r!==null){e=r;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class _a extends bn{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new _a}clone(){const e=new _a;return e.insert(0,this.toArray().map(n=>n instanceof bn?n.clone():n)),e}get length(){return this.doc??Pn(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new Bv(this,e)}querySelector(e){e=e.toUpperCase();const r=new Bv(this,s=>s.nodeName&&s.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),ki(new Bv(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){Fm(this,e,new Gq(this,n,e))}toString(){return zP(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const s=e.createDocumentFragment();return r!==void 0&&r._createAssociation(s,this),qd(this,o=>{s.insertBefore(o.toDOM(e,n,r),null)}),s}insert(e,n){this.doc!==null?vt(this.doc,r=>{WP(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)vt(this.doc,r=>{const s=e&&e instanceof bn?e._item:e;Np(r,this,s,n)});else{const r=this._prelimContent,s=e===null?0:r.findIndex(o=>o===e)+1;if(s===0&&e!==null)throw bo("Reference item not found");r.splice(s,0,...n)}}delete(e,n=1){this.doc!==null?vt(this.doc,r=>{VP(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return $P(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return UP(this,e)}slice(e=0,n=this.length){return FP(this,e,n)}forEach(e){qd(this,e)}_write(e){e.writeTypeRef(pY)}}const Kq=t=>new _a;class Vl extends _a{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,s)=>{this.setAttribute(s,r)}),this._prelimAttrs=null}_copy(){return new Vl(this.nodeName)}clone(){const e=new Vl(this.nodeName),n=this.getAttributes();return PV(n,(r,s)=>{typeof r=="string"&&e.setAttribute(s,r)}),e.insert(0,this.toArray().map(r=>r instanceof bn?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const c in e)r.push(c);r.sort();const s=r.length;for(let c=0;c<s;c++){const u=r[c];n.push(u+'="'+e[u]+'"')}const o=this.nodeName.toLocaleLowerCase(),i=n.length>0?" "+n.join(" "):"";return`<${o}${i}>${super.toString()}</${o}>`}removeAttribute(e){this.doc!==null?vt(this.doc,n=>{jp(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?vt(this.doc,r=>{Pb(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return Ab(this,e)}hasAttribute(e){return YP(this,e)}getAttributes(e){return e?Bq(this,e):qP(this)}toDOM(e=document,n={},r){const s=e.createElement(this.nodeName),o=this.getAttributes();for(const i in o){const c=o[i];typeof c=="string"&&s.setAttribute(i,c)}return qd(this,i=>{s.appendChild(i.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(s,this),s}_write(e){e.writeTypeRef(fY),e.writeKey(this.nodeName)}}const Xq=t=>new Vl(t.readKey());class Gq extends Lm{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}}class Tp extends Hl{constructor(e){super(),this.hookName=e}_copy(){return new Tp(this.hookName)}clone(){const e=new Tp(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const s=n[this.hookName];let o;return s!==void 0?o=s.createDom(this):o=document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(o,this),o}_write(e){e.writeTypeRef(mY),e.writeKey(this.hookName)}}const Jq=t=>new Tp(t.readKey());class Mp extends Wl{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Mp}clone(){const e=new Mp;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const s=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(s,this),s}toString(){return this.toDelta().map(e=>{const n=[];for(const s in e.attributes){const o=[];for(const i in e.attributes[s])o.push({key:i,value:e.attributes[s][i]});o.sort((i,c)=>i.key<c.key?-1:1),n.push({nodeName:s,attrs:o})}n.sort((s,o)=>s.nodeName<o.nodeName?-1:1);let r="";for(let s=0;s<n.length;s++){const o=n[s];r+=`<${o.nodeName}`;for(let i=0;i<o.attrs.length;i++){const c=o.attrs[i];r+=` ${c.key}="${c.value}"`}r+=">"}r+=e.insert;for(let s=n.length-1;s>=0;s--)r+=`</${n[s].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(gY)}}const Qq=t=>new Mp;class Rb{constructor(e,n){this.id=e,this.length=n}get deleted(){throw Ps()}mergeWith(e){return!1}write(e,n,r){throw Ps()}integrate(e,n){throw Ps()}}const Zq=0;class Rr extends Rb{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),AP(e.doc.store,this)}write(e,n){e.writeInfo(Zq),e.writeLen(this.length-n)}getMissing(e,n){return null}}class _u{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new _u(this.content)}splice(e){throw Ps()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const eY=t=>new _u(t.readBuf());class Yd{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Yd(this.len)}splice(e){const n=new Yd(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){_p(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const tY=t=>new Yd(t.readLen()),QP=(t,e)=>new uc({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class Eu{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Eu(QP(this.doc.guid,this.opts))}splice(e){throw Ps()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const nY=t=>new Eu(QP(t.readString(),t.readAny()));class Aa{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Aa(this.embed)}splice(e){throw Ps()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const rY=t=>new Aa(t.readJSON());class on{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new on(this.key,this.value)}splice(e){throw Ps()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const sY=t=>new on(t.readKey(),t.readJSON());class Op{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Op(this.arr)}splice(e){const n=new Op(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let s=n;s<r;s++){const o=this.arr[s];e.writeString(o===void 0?"undefined":JSON.stringify(o))}}getRef(){return 2}}const oY=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const s=t.readString();s==="undefined"?n.push(void 0):n.push(JSON.parse(s))}return new Op(n)},iY=Cp("node_env")==="development";class Ea{constructor(e){this.arr=e,iY&&pP(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ea(this.arr)}splice(e){const n=new Ea(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let s=n;s<r;s++){const o=this.arr[s];e.writeAny(o)}}getRef(){return 8}}const aY=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new Ea(n)};class Fs{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Fs(this.str)}splice(e){const n=new Fs(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const lY=t=>new Fs(t.readString()),cY=[$q,Uq,Yq,Xq,Kq,Jq,Qq],dY=0,uY=1,hY=2,fY=3,pY=4,mY=5,gY=6;class Co{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Co(this.type._copy())}splice(e){throw Ps()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const xY=t=>new Co(cY[t.readTypeRef()](t)),Pp=(t,e,n)=>{const{client:r,clock:s}=e.id,o=new rn(nt(r,s+n),e,nt(r,s+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&o.markDeleted(),e.keep&&(o.keep=!0),e.redone!==null&&(o.redone=nt(e.redone.client,e.redone.clock+n)),e.right=o,o.right!==null&&(o.right.left=o),t._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),e.length=n,o};class rn extends Rb{constructor(e,n,r,s,o,i,c,u){super(e,u.getLength()),this.origin=r,this.left=n,this.right=s,this.rightOrigin=o,this.parent=i,this.parentSub=c,this.redone=null,this.content=u,this.info=this.content.isCountable()?D_:0}set marker(e){(this.info&Pv)>0!==e&&(this.info^=Pv)}get marker(){return(this.info&Pv)>0}get keep(){return(this.info&I_)>0}set keep(e){this.keep!==e&&(this.info^=I_)}get countable(){return(this.info&D_)>0}get deleted(){return(this.info&Ov)>0}set deleted(e){this.deleted!==e&&(this.info^=Ov)}markDeleted(){this.info|=Ov}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=mn(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=mn(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Ol&&this.id.client!==this.parent.client&&this.parent.clock>=mn(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=X_(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Ci(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Rr||this.right&&this.right.constructor===Rr)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===rn?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===rn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Ol){const r=Dv(n,this.parent);r.constructor===Rr?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=X_(e,e.doc.store,nt(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,s;if(r!==null)s=r.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;const o=new Set,i=new Set;for(;s!==null&&s!==this.right;){if(i.add(s),o.add(s),Qh(this.origin,s.origin)){if(s.id.client<this.id.client)r=s,o.clear();else if(Qh(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&i.has(Dv(e.doc.store,s.origin)))o.has(Dv(e.doc.store,s.origin))||(r=s,o.clear());else break;s=s.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),AP(e.doc.store,this),this.content.integrate(e,this),J_(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Rr(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:nt(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Qh(e.origin,this.lastId)&&this.right===e&&Qh(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),_p(e.deleteSet,this.id.client,this.id.clock,this.length),J_(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw Ls();this.content.gc(e),n?kq(e,this,new Rr(this.id,this.length)):this.content=new Yd(this.length)}write(e,n){const r=n>0?nt(this.id.client,this.id.clock+n-1):this.origin,s=this.rightOrigin,o=this.parentSub,i=this.content.getRef()&Am|(r===null?0:vr)|(s===null?0:mo)|(o===null?0:$d);if(e.writeInfo(i),r!==null&&e.writeLeftID(r),s!==null&&e.writeRightID(s),r===null&&s===null){const c=this.parent;if(c._item!==void 0){const u=c._item;if(u===null){const h=bq(c);e.writeParentInfo(!0),e.writeString(h)}else e.writeParentInfo(!1),e.writeLeftID(u.id)}else c.constructor===String?(e.writeParentInfo(!0),e.writeString(c)):c.constructor===Ol?(e.writeParentInfo(!1),e.writeLeftID(c)):Ls();o!==null&&e.writeString(o)}this.content.write(e,n)}}const ZP=(t,e)=>vY[e&Am](t),vY=[()=>{Ls()},tY,oY,eY,lY,rY,sY,xY,aY,nY,()=>{Ls()}],yY=10;class Ir extends Rb{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){Ls()}write(e,n){e.writeInfo(yY),it(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const eA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},tA="__ $YJS$ __";eA[tA]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");eA[tA]=!0;const Ra=t=>zl((e,n)=>{t.onerror=r=>n(new Error(r.target.error)),t.onsuccess=r=>e(r.target.result)}),bY=(t,e)=>zl((n,r)=>{const s=indexedDB.open(t);s.onupgradeneeded=o=>e(o.target.result),s.onerror=o=>r(bo(o.target.error)),s.onsuccess=o=>{const i=o.target.result;i.onversionchange=()=>{i.close()},n(i)}}),wY=t=>Ra(indexedDB.deleteDatabase(t)),kY=(t,e)=>e.forEach(n=>t.createObjectStore.apply(t,n)),xd=(t,e,n="readwrite")=>{const r=t.transaction(e,n);return e.map(s=>MY(r,s))},nA=(t,e)=>Ra(t.count(e)),SY=(t,e)=>Ra(t.get(e)),rA=(t,e)=>Ra(t.delete(e)),CY=(t,e,n)=>Ra(t.put(e,n)),Ky=(t,e)=>Ra(t.add(e)),_Y=(t,e,n)=>Ra(t.getAll(e,n)),EY=(t,e,n)=>{let r=null;return TY(t,e,s=>(r=s,!1),n).then(()=>r)},NY=(t,e=null)=>EY(t,e,"prev"),jY=(t,e)=>zl((n,r)=>{t.onerror=r,t.onsuccess=async s=>{const o=s.target.result;if(o===null||await e(o)===!1)return n();o.continue()}}),TY=(t,e,n,r="next")=>jY(t.openKeyCursor(e,r),s=>n(s.key)),MY=(t,e)=>t.objectStore(e),OY=(t,e)=>IDBKeyRange.upperBound(t,e),PY=(t,e)=>IDBKeyRange.lowerBound(t,e),Fv="custom",sA="updates",oA=500,iA=(t,e=()=>{},n=()=>{})=>{const[r]=xd(t.db,[sA]);return _Y(r,PY(t._dbref,!1)).then(s=>{t._destroyed||(e(r),vt(t.doc,()=>{s.forEach(o=>Wy(t.doc,o))},t,!1),n(r))}).then(()=>NY(r).then(s=>{t._dbref=s+1})).then(()=>nA(r).then(s=>{t._dbsize=s})).then(()=>r)},AY=(t,e=!0)=>iA(t).then(n=>{(e||t._dbsize>=oA)&&Ky(n,TP(t.doc)).then(()=>rA(n,OY(t._dbref,!0))).then(()=>nA(n).then(r=>{t._dbsize=r}))});class RY extends XW{constructor(e,n){super(),this.doc=n,this.name=e,this._dbref=0,this._dbsize=0,this._destroyed=!1,this.db=null,this.synced=!1,this._db=bY(e,r=>kY(r,[["updates",{autoIncrement:!0}],["custom"]])),this.whenSynced=zl(r=>this.on("synced",()=>r(this))),this._db.then(r=>{this.db=r,iA(this,i=>Ky(i,TP(n)),()=>{if(this._destroyed)return this;this.synced=!0,this.emit("synced",[this])})}),this._storeTimeout=1e3,this._storeTimeoutId=null,this._storeUpdate=(r,s)=>{if(this.db&&s!==this){const[o]=xd(this.db,[sA]);Ky(o,r),++this._dbsize>=oA&&(this._storeTimeoutId!==null&&clearTimeout(this._storeTimeoutId),this._storeTimeoutId=setTimeout(()=>{AY(this,!1),this._storeTimeoutId=null},this._storeTimeout))}},n.on("update",this._storeUpdate),this.destroy=this.destroy.bind(this),n.on("destroy",this.destroy)}destroy(){return this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy),this._destroyed=!0,this._db.then(e=>{e.close()})}clearData(){return this.destroy().then(()=>{wY(this.name)})}get(e){return this._db.then(n=>{const[r]=xd(n,[Fv],"readonly");return SY(r,e)})}set(e,n){return this._db.then(r=>{const[s]=xd(r,[Fv]);return CY(s,n,e)})}del(e){return this._db.then(n=>{const[r]=xd(n,[Fv]);return rA(r,e)})}}const $s=Object.create(null);$s.open="0";$s.close="1";$s.ping="2";$s.pong="3";$s.message="4";$s.upgrade="5";$s.noop="6";const Lf=Object.create(null);Object.keys($s).forEach(t=>{Lf[$s[t]]=t});const Xy={type:"error",data:"parser error"},aA=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",lA=typeof ArrayBuffer=="function",cA=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ib=({type:t,data:e},n,r)=>aA&&e instanceof Blob?n?r(e):nE(e,r):lA&&(e instanceof ArrayBuffer||cA(e))?n?r(e):nE(new Blob([e]),r):r($s[t]+(e||"")),nE=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function rE(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let $v;function IY(t,e){if(aA&&t.data instanceof Blob)return t.data.arrayBuffer().then(rE).then(e);if(lA&&(t.data instanceof ArrayBuffer||cA(t.data)))return e(rE(t.data));Ib(t,!1,n=>{$v||($v=new TextEncoder),e($v.encode(n))})}const sE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<sE.length;t++)vd[sE.charCodeAt(t)]=t;const DY=t=>{let e=t.length*.75,n=t.length,r,s=0,o,i,c,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const h=new ArrayBuffer(e),f=new Uint8Array(h);for(r=0;r<n;r+=4)o=vd[t.charCodeAt(r)],i=vd[t.charCodeAt(r+1)],c=vd[t.charCodeAt(r+2)],u=vd[t.charCodeAt(r+3)],f[s++]=o<<2|i>>4,f[s++]=(i&15)<<4|c>>2,f[s++]=(c&3)<<6|u&63;return h},LY=typeof ArrayBuffer=="function",Db=(t,e)=>{if(typeof t!="string")return{type:"message",data:dA(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:BY(t.substring(1),e)}:Lf[n]?t.length>1?{type:Lf[n],data:t.substring(1)}:{type:Lf[n]}:Xy},BY=(t,e)=>{if(LY){const n=DY(t);return dA(n,e)}else return{base64:!0,data:t}},dA=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},uA="",FY=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((o,i)=>{Ib(o,!1,c=>{r[i]=c,++s===n&&e(r.join(uA))})})},$Y=(t,e)=>{const n=t.split(uA),r=[];for(let s=0;s<n.length;s++){const o=Db(n[s],e);if(r.push(o),o.type==="error")break}return r};function zY(){return new TransformStream({transform(t,e){IY(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{s=new Uint8Array(9);const o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let zv;function tf(t){return t.reduce((e,n)=>e+n.length,0)}function nf(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function UY(t,e){zv||(zv=new TextDecoder);const n=[];let r=0,s=-1,o=!1;return new TransformStream({transform(i,c){for(n.push(i);;){if(r===0){if(tf(n)<1)break;const u=nf(n,1);o=(u[0]&128)===128,s=u[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(tf(n)<2)break;const u=nf(n,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(tf(n)<8)break;const u=nf(n,8),h=new DataView(u.buffer,u.byteOffset,u.length),f=h.getUint32(0);if(f>Math.pow(2,21)-1){c.enqueue(Xy);break}s=f*Math.pow(2,32)+h.getUint32(4),r=3}else{if(tf(n)<s)break;const u=nf(n,s);c.enqueue(Db(o?u:zv.decode(u),e)),r=0}if(s===0||s>t){c.enqueue(Xy);break}}}})}const hA=4;function qt(t){if(t)return HY(t)}function HY(t){for(var e in qt.prototype)t[e]=qt.prototype[e];return t}qt.prototype.on=qt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};qt.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};qt.prototype.off=qt.prototype.removeListener=qt.prototype.removeAllListeners=qt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};qt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};qt.prototype.emitReserved=qt.prototype.emit;qt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};qt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const $m=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Pr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),WY="arraybuffer";function fA(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const VY=Pr.setTimeout,qY=Pr.clearTimeout;function zm(t,e){e.useNativeTimers?(t.setTimeoutFn=VY.bind(Pr),t.clearTimeoutFn=qY.bind(Pr)):(t.setTimeoutFn=Pr.setTimeout.bind(Pr),t.clearTimeoutFn=Pr.clearTimeout.bind(Pr))}const YY=1.33;function KY(t){return typeof t=="string"?XY(t):Math.ceil((t.byteLength||t.size)*YY)}function XY(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function pA(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function GY(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function JY(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class QY extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Lb extends qt{constructor(e){super(),this.writable=!1,zm(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new QY(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Db(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=GY(e);return n.length?"?"+n:""}}class ZY extends Lb{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};$Y(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,FY(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=pA()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let mA=!1;try{mA=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const eK=mA;function tK(){}class nK extends ZY{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class As extends qt{constructor(e,n,r){super(),this.createRequest=e,zm(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=fA(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=As.requestsCount++,As.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=tK,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete As.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}As.requestsCount=0;As.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",oE);else if(typeof addEventListener=="function"){const t="onpagehide"in Pr?"pagehide":"unload";addEventListener(t,oE,!1)}}function oE(){for(let t in As.requests)As.requests.hasOwnProperty(t)&&As.requests[t].abort()}const rK=(function(){const t=gA({xdomain:!1});return t&&t.responseType!==null})();class sK extends nK{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=rK&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new As(gA,this.uri(),e)}}function gA(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||eK))return new XMLHttpRequest}catch{}if(!e)try{return new Pr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const xA=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class oK extends Lb{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=xA?{}:fA(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;Ib(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}s&&$m(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=pA()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Uv=Pr.WebSocket||Pr.MozWebSocket;class iK extends oK{createSocket(e,n,r){return xA?new Uv(e,n,r):n?new Uv(e,n):new Uv(e)}doWrite(e,n){this.ws.send(n)}}class aK extends Lb{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=UY(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=zY();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const o=()=>{r.read().then(({done:c,value:u})=>{c||(this.onPacket(u),o())}).catch(c=>{})};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&$m(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const lK={websocket:iK,webtransport:aK,polling:sK},cK=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,dK=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gy(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=cK.exec(t||""),o={},i=14;for(;i--;)o[dK[i]]=s[i]||"";return n!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=uK(o,o.path),o.queryKey=hK(o,o.query),o}function uK(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function hK(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,o){s&&(n[s]=o)}),n}const Jy=typeof addEventListener=="function"&&typeof removeEventListener=="function",Bf=[];Jy&&addEventListener("offline",()=>{Bf.forEach(t=>t())},!1);class mi extends qt{constructor(e,n){if(super(),this.binaryType=WY,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=Gy(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Gy(n.host).host);zm(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=JY(this.opts.query)),Jy&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Bf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=hA,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&mi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",mi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=KY(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,$m(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:e,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(mi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Jy&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Bf.indexOf(this._offlineEventListener);r!==-1&&Bf.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}mi.protocol=hA;class fK extends mi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;mi.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",m=>{if(!r)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;mi.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=n.name,this.emitReserved("upgradeError",g)}}))};function o(){r||(r=!0,f(),n.close(),n=null)}const i=m=>{const g=new Error("probe error: "+m);g.transport=n.name,o(),this.emitReserved("upgradeError",g)};function c(){i("transport closed")}function u(){i("socket closed")}function h(m){n&&m.name!==n.name&&o()}const f=()=>{n.removeListener("open",s),n.removeListener("error",i),n.removeListener("close",c),this.off("close",u),this.off("upgrading",h)};n.once("open",s),n.once("error",i),n.once("close",c),this.once("close",u),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let pK=class extends fK{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>lK[s]).filter(s=>!!s)),super(e,r)}};function mK(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Gy(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const gK=typeof ArrayBuffer=="function",xK=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,vA=Object.prototype.toString,vK=typeof Blob=="function"||typeof Blob<"u"&&vA.call(Blob)==="[object BlobConstructor]",yK=typeof File=="function"||typeof File<"u"&&vA.call(File)==="[object FileConstructor]";function Bb(t){return gK&&(t instanceof ArrayBuffer||xK(t))||vK&&t instanceof Blob||yK&&t instanceof File}function Ff(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Ff(t[n]))return!0;return!1}if(Bb(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ff(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Ff(t[n]))return!0;return!1}function bK(t){const e=[],n=t.data,r=t;return r.data=Qy(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Qy(t,e){if(!t)return t;if(Bb(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Qy(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Qy(t[r],e));return n}return t}function wK(t,e){return t.data=Zy(t.data,e),delete t.attachments,t}function Zy(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Zy(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Zy(t[n],e));return t}const kK=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],SK=5;var tt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(tt||(tt={}));class CK{constructor(e){this.replacer=e}encode(e){return(e.type===tt.EVENT||e.type===tt.ACK)&&Ff(e)?this.encodeAsBinary({type:e.type===tt.EVENT?tt.BINARY_EVENT:tt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===tt.BINARY_EVENT||e.type===tt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=bK(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function iE(t){return Object.prototype.toString.call(t)==="[object Object]"}class Fb extends qt{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===tt.BINARY_EVENT;r||n.type===tt.BINARY_ACK?(n.type=r?tt.EVENT:tt.ACK,this.reconstructor=new _K(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Bb(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(tt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===tt.BINARY_EVENT||r.type===tt.BINARY_ACK){const o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const i=e.substring(o,n);if(i!=Number(i)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(i)}if(e.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const o=n+1;for(;++n;){const i=e.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(Fb.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case tt.CONNECT:return iE(n);case tt.DISCONNECT:return n===void 0;case tt.CONNECT_ERROR:return typeof n=="string"||iE(n);case tt.EVENT:case tt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&kK.indexOf(n[0])===-1);case tt.ACK:case tt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class _K{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=wK(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const EK=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Fb,Encoder:CK,get PacketType(){return tt},protocol:SK},Symbol.toStringTag,{value:"Module"}));function ns(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const NK=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class yA extends qt{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ns(e,"open",this.onopen.bind(this)),ns(e,"packet",this.onpacket.bind(this)),ns(e,"error",this.onerror.bind(this)),ns(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,o;if(NK.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:tt.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const f=this.ids++,m=n.pop();this._registerAckCallback(f,m),i.id=f}const c=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!c||(u?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},s),i=(...c)=>{this.io.clearTimeoutFn(o),n.apply(this,c)};i.withError=!0,this.acks[e]=i}emitWithAck(e,...n){return new Promise((r,s)=>{const o=(i,c)=>i?s(i):r(c);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...o)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:tt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case tt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case tt.EVENT:case tt.BINARY_EVENT:this.onevent(e);break;case tt.ACK:case tt.BINARY_ACK:this.onack(e);break;case tt.DISCONNECT:this.ondisconnect();break;case tt.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:tt.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:tt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function fc(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}fc.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};fc.prototype.reset=function(){this.attempts=0};fc.prototype.setMin=function(t){this.ms=t};fc.prototype.setMax=function(t){this.max=t};fc.prototype.setJitter=function(t){this.jitter=t};class e0 extends qt{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,zm(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new fc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||EK;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new pK(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=ns(n,"open",function(){r.onopen(),e&&e()}),o=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},i=ns(n,"error",o);if(this._timeout!==!1){const c=this._timeout,u=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),n.close()},c);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ns(e,"ping",this.onping.bind(this)),ns(e,"data",this.ondata.bind(this)),ns(e,"error",this.onerror.bind(this)),ns(e,"close",this.onclose.bind(this)),ns(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){$m(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new yA(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const sd={};function Al(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=mK(t,e.path||"/socket.io"),r=n.source,s=n.id,o=n.path,i=sd[s]&&o in sd[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||i;let u;return c?u=new e0(r,e):(sd[s]||(sd[s]=new e0(r,e)),u=sd[s]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(Al,{Manager:e0,Socket:yA,io:Al,connect:Al});class jK{ydoc;socket=null;persistence=null;documentId;userId;isConnected=!1;isSynced=!1;updateHandler=null;constructor(e){this.documentId=e.documentId,this.userId=e.userId||"anonymous",this.ydoc=new uc,this.persistence=new RY(e.documentId,this.ydoc),this.persistence.on("synced",()=>{console.log(" YjsClient: IndexedDB persistence synced")}),this.connectToServer(e.token,e)}connectToServer(e,n){const r=jt.replace("/api","");this.socket&&(this.socket.disconnect(),this.socket=null);const s=r.replace("http","ws");console.log(" Connecting to WebSocket:",`${s}/ws/docs`),this.socket=Al(`${s}/ws/docs`,{auth:{token:e},query:{token:e},transports:["websocket","polling"],reconnection:!0,reconnectionDelay:2e3,reconnectionAttempts:5,timeout:3e4,forceNew:!0}),this.socket.on("connect",()=>{this.isConnected=!0,console.log(" YjsClient: Connected to server"),this.socket?.emit("join_document",{documentId:this.documentId})}),this.socket.on("disconnect",c=>{this.isConnected=!1,this.isSynced=!1,console.log(" YjsClient: Disconnected from server:",c)}),this.socket.on("connect_error",c=>{console.error(" YjsClient: Connection error:",c),n.onError?.(c)}),this.socket.on("document_joined",()=>{console.log(" YjsClient: Joined document successfully")}),this.socket.on("yjs_sync",c=>{try{const u=new Uint8Array(c);u.length>0&&(Wy(this.ydoc,u,"server"),console.log(" YjsClient: Applied initial state from server")),this.isSynced=!0,n.onSync?.()}catch(u){console.error(" YjsClient: Error applying initial Yjs state:",u)}}),this.socket.on("yjs_update",c=>{if(c.documentId===this.documentId)try{const u=new Uint8Array(c.update);if(this.isSynced){const h=this.ydoc.getText("editor"),f=h.toString();Wy(this.ydoc,u,"remote"),n.onUpdate?.();const m=h.toString();console.log(` YjsClient: Applied remote update (${c.timestamp?new Date(c.timestamp).toLocaleTimeString():"no timestamp"})`),f!==m&&console.log(` Content changed: ${f.length} -> ${m.length} chars`)}else console.log(" YjsClient: Ignoring update - not synced yet")}catch(u){console.error(" YjsClient: Error applying remote Yjs update:",u)}}),this.socket.on("cursor_updated",c=>{c.userId!==this.userId&&(console.log(" YjsClient: Received cursor update from user:",c.userId),n.onCursorUpdate?.(c.userId,c.cursor))}),this.socket.on("formatting_updated",c=>{c.userId!==this.userId&&(console.log(" YjsClient: Received formatting update from user:",c.userId),n.onFormattingUpdate?.(c.userId,c.formatting))}),this.socket.on("presence_update",c=>{console.log(" YjsClient: Presence update:",c.users),n.onPresenceUpdate?.(c.users)}),this.socket.on("user_left",c=>{console.log(" YjsClient: User left:",c.userId),n.onUserLeft?.(c.userId)}),this.socket.on("content_updated",c=>{if(c.documentId===this.documentId&&c.userId!==this.userId){console.log(" YjsClient: Received content update from remote user");const u=this.ydoc.getMap("content");u.set("data",JSON.stringify(c.content)),u.set("timestamp",Date.now()),n.onUpdate?.(c.content)}}),this.updateHandler=(c,u)=>{u!=="server"&&u!=="remote"&&u!==this.socket&&this.isConnected&&this.isSynced&&(console.log(" YjsClient: Sending local update to server"),this.socket?.emit("yjs_update",{documentId:this.documentId,update:Array.from(c),timestamp:Date.now()}))},this.ydoc.on("update",this.updateHandler),this.ydoc.getMap("content").observe(c=>{console.log(" Y.Map content changed"),c.transaction.origin!=="local"&&(console.log(" Remote content changed, notifying editor"),n.onUpdate?.())}),this.ydoc.getText("editor").observe(c=>{console.log(" Y.Text changed:",c.changes),c.transaction.origin!=="local"&&n.onUpdate?.()})}getDocument(){return this.ydoc}getText(e="editor"){return this.ydoc.getText(e)}updateCursor(e){this.socket&&this.isConnected&&this.socket.emit("cursor_update",{documentId:this.documentId,userId:this.userId,cursor:e})}updateFormatting(e){this.socket&&this.isConnected&&this.socket.emit("formatting_update",{documentId:this.documentId,userId:this.userId,formatting:{...e,timestamp:Date.now()}})}getPresence(){this.socket&&this.isConnected&&this.socket.emit("get_presence",{documentId:this.documentId})}disconnect(){console.log(" YjsClient: Disconnecting..."),this.updateHandler&&(this.ydoc.off("update",this.updateHandler),this.updateHandler=null),this.socket&&(this.socket.emit("leave_document",{documentId:this.documentId}),this.socket.disconnect(),this.socket=null),this.persistence&&(this.persistence.destroy(),this.persistence=null),this.isConnected=!1,this.isSynced=!1}isReady(){return this.isConnected&&this.isSynced}getSocket(){return this.socket}}const TK=jt.replace("/api",""),bA=xt.create({baseURL:TK});bA.interceptors.request.use(t=>{const e=localStorage.getItem(gn);return e&&(t.headers.Authorization=`Bearer ${e}`),t});const wA={uploadImage:async t=>{const e=new FormData;e.append("image",t);try{return(await bA.post("/api/upload-image",e)).data}catch(n){throw console.error("Image upload error:",n),new Error(n?.response?.data?.message||"Failed to upload image")}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var Kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Um(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function MK(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}function Hv(){}Object.assign(Hv,{default:Hv,register:Hv,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),s=parseInt(n.getPropertyValue("border-left-width")),o=this.offsetTop-e.offsetTop<e.scrollTop,i=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,c=this.offsetLeft-e.offsetLeft<e.scrollLeft,u=this.offsetLeft-e.offsetLeft+this.clientWidth-s>e.scrollLeft+e.clientWidth,h=o&&!i;(o||i)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(c||u)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-s+this.clientWidth/2),(o||i||c||u)&&!t&&this.scrollIntoView(h)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let OK=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var kA=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(kA||{});const We={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46},PK={LEFT:0};function Nu(t,e,n="log",r,s="color: inherit"){if(!("console"in window)||!window.console[n])return;const o=["info","log","warn","error"].includes(n),i=[];switch(Nu.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!o||t)return;break}r&&i.push(r);const c="Editor.js 2.31.0";t&&(o?(i.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,s),e=`%c${c}%c ${e}`):e=`( ${c} )${e}`);try{o?r?console[n](`${e} %o`,...i):console[n](e,...i):console[n](e)}catch{}}Nu.logLevel="VERBOSE";function AK(t){Nu.logLevel=t}const dt=Nu.bind(window,!1),Dr=Nu.bind(window,!0);function Na(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Pt(t){return Na(t)==="function"||Na(t)==="asyncfunction"}function wn(t){return Na(t)==="object"}function wo(t){return Na(t)==="string"}function RK(t){return Na(t)==="boolean"}function aE(t){return Na(t)==="number"}function lE(t){return Na(t)==="undefined"}function $r(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function SA(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function IK(t,e=()=>{},n=()=>{}){async function r(s,o,i){try{await s.function(s.data),await o(lE(s.data)?{}:s.data)}catch{i(lE(s.data)?{}:s.data)}}return t.reduce(async(s,o)=>(await s,r(o,e,n)),Promise.resolve())}function CA(t){return Array.prototype.slice.call(t)}function Ap(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function DK(t){return t.name.split(".").pop()}function LK(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function cE(t,e,n){let r;return(...s)=>{const o=this,i=()=>{r=null,t.apply(o,s)};window.clearTimeout(r),r=window.setTimeout(i,e)}}function t0(t,e,n=void 0){let r,s,o,i=null,c=0;n||(n={});const u=function(){c=n.leading===!1?0:Date.now(),i=null,o=t.apply(r,s),i||(r=s=null)};return function(){const h=Date.now();!c&&n.leading===!1&&(c=h);const f=e-(h-c);return r=this,s=arguments,f<=0||f>e?(i&&(clearTimeout(i),i=null),c=h,o=t.apply(r,s),i||(r=s=null)):!i&&n.trailing!==!1&&(i=setTimeout(u,f)),o}}function BK(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function Rp(t){return t[0].toUpperCase()+t.slice(1)}function n0(t,...e){if(!e.length)return t;const n=e.shift();if(wn(t)&&wn(n))for(const r in n)wn(n[r])?(t[r]||Object.assign(t,{[r]:{}}),n0(t[r],n[r])):Object.assign(t,{[r]:n[r]});return n0(t,...e)}function $b(t){const e=BK();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function FK(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function $K(){return OK(10)}function zK(t){window.open(t,"_blank")}function UK(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function r0(t,e,n){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&Dr(r,"warn")}function pc(t,e,n){const r=n.value?"value":"get",s=n[r],o=`#${e}Cache`;if(n[r]=function(...i){return this[o]===void 0&&(this[o]=s.apply(this,...i)),this[o]},r==="get"&&n.set){const i=n.set;n.set=function(c){delete t[o],i.apply(this,c)}}return n}const _A=650;function mc(){return window.matchMedia(`(max-width: ${_A}px)`).matches}const s0=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function HK(t,e){const n=Array.isArray(t)||wn(t),r=Array.isArray(e)||wn(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}let pe=class Fn{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const s=document.createElement(e);if(Array.isArray(n)){const o=n.filter(i=>i!==void 0);s.classList.add(...o)}else n&&s.classList.add(n);for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=r[o]);return s}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),s=e.parentNode;s.insertBefore(r,e),s.insertBefore(e,n),s.insertBefore(n,r),s.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return CA(e.querySelectorAll(Fn.allInputsSelector)).reduce((n,r)=>Fn.isNativeInput(r)||Fn.containsOnlyInlineElements(r)?[...n,r]:[...n,...Fn.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",s=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let o=e[r];if(Fn.isSingleTag(o)&&!Fn.isNativeInput(o)&&!Fn.isLineBreakTag(o))if(o[s])o=o[s];else if(o.parentNode[s])o=o.parentNode[s];else return o.parentNode;return this.getDeepestNode(o,n)}return e}static isElement(e){return aE(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return aE(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(Fn.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=Fn.isContentEditable(e);return n}static isNodeEmpty(e,n){let r;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?r=e.value:r=e.textContent.replace("",""),n&&(r=r.replace(new RegExp(n,"g"),"")),r.length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,n){const r=[e];for(;r.length>0;)if(e=r.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,n))return!1;e.childNodes&&r.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=Fn.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return Fn.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;wo(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=s=>!Fn.blockElements.includes(s.tagName.toLowerCase())&&Array.from(s.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return Fn.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...Fn.getDeepestBlockElements(r)],[])}static getHolder(e){return wo(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop,o=n.top+s,i=n.left+r;return{top:o,left:i,bottom:o+n.height,right:i+n.width}}static getNodeByOffset(e,n){let r=0,s=null;const o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null);let i=o.nextNode();for(;i;){const h=i.textContent,f=h===null?0:h.length;if(s=i,r+f>=n)break;r+=f,i=o.nextNode()}if(!s)return{node:null,offset:0};const c=s.textContent;if(c===null||c.length===0)return{node:null,offset:0};const u=Math.min(n-r,c.length);return{node:s,offset:u}}};function WK(t){return!/[^\t\n\r ]/.test(t)}function VK(t){const e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,s=parseFloat(e.paddingTop),o=parseFloat(e.borderTopWidth),i=parseFloat(e.marginTop),c=n*.8,u=(r-n)/2;return i+o+s+u+c}function EA(t){t.dataset.empty=pe.isEmpty(t)?"true":"false"}const qK={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},YK={Text:"",Link:"",Bold:"",Italic:""},KK={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},XK={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},NA={ui:qK,toolNames:YK,tools:KK,blockTunes:XK},jA=class Sl{static ui(e,n){return Sl._t(e,n)}static t(e,n){return Sl._t(e,n)}static setDictionary(e){Sl.currentDictionary=e}static _t(e,n){const r=Sl.getNamespace(e);return!r||!r[n]?n:r[n]}static getNamespace(e){return e.split(".").reduce((n,r)=>!n||!Object.keys(n).length?{}:n[r],Sl.currentDictionary)}};jA.currentDictionary=NA;let zn=jA;class TA extends Error{}let ju=class{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=s=>{const o=n(s),i=this.subscribers[e].indexOf(r);return i!==-1&&this.subscribers[e].splice(i,1),o};this.subscribers[e].push(r)}emit(e,n){$r(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,s)=>{const o=s(r);return o!==void 0?o:r},n)}off(e,n){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers={}}};function lo(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},get focusable(){return t.focusable},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()},getActiveToolboxEntry(){return t.getActiveToolboxEntry()}})}let Tu=class{constructor(){this.allListeners=[]}on(e,n,r,s=!1){const o=UK("l"),i={id:o,element:e,eventType:n,handler:r,options:s};if(!this.findOne(e,n,r))return this.allListeners.push(i),e.addEventListener(n,r,s),o}off(e,n,r,s){const o=this.findAll(e,n,r);o.forEach((i,c)=>{const u=this.allListeners.indexOf(o[c]);u>-1&&(this.allListeners.splice(u,1),i.element.removeEventListener(i.eventType,i.handler,i.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const s=this.findAll(e,n,r);return s.length>0?s[0]:null}findAll(e,n,r){let s;const o=e?this.findByEventTarget(e):[];return e&&n&&r?s=o.filter(i=>i.eventType===n&&i.handler===r):e&&n?s=o.filter(i=>i.eventType===n):s=o,s}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}},st=class MA{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new Tu,this.readOnlyMutableListeners={on:(r,s,o,i=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,s,o,i))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===MA)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},Ue=class ti{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?pe.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(ti.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${ti.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${ti.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!ti.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return dt("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return dt("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const s=document.createElement("span");if(s.getBoundingClientRect){s.appendChild(document.createTextNode("")),n.insertNode(s),r=s.getBoundingClientRect();const o=s.parentNode;o.removeChild(s),o.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),s=window.getSelection();return pe.isNativeInput(e)?pe.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),s.removeAllRanges(),s.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=ti.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=ti.range;if(e===null)return;const n=pe.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return pe.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=pe.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=ti.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const s=window.getSelection();let o=null;return!s||!s.anchorNode||!s.focusNode?null:([s.anchorNode,s.focusNode].forEach(i=>{let c=r;for(;c>0&&i.parentNode&&!(i.tagName===e&&(o=i,n&&i.classList&&!i.classList.contains(n)&&(o=null),o));)i=i.parentNode,c--}),o)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}};function GK(t,e){const{type:n,target:r,addedNodes:s,removedNodes:o}=t;return t.type==="attributes"&&t.attributeName==="data-empty"?!1:!!(e.contains(r)||n==="childList"&&(Array.from(s).some(i=>i===e)||Array.from(o).some(i=>i===e)))}const o0="redactor dom changed",OA="block changed",PA="fake cursor is about to be toggled",AA="fake cursor have been set",Xd="editor mobile layout toggled";function i0(t,e){if(!t.conversionConfig)return!1;const n=t.conversionConfig[e];return Pt(n)||wo(n)}function Ip(t,e){return i0(t.tool,e)}function RA(t,e){return Object.entries(t).some(([n,r])=>e[n]&&HK(e[n],r))}async function IA(t,e){const n=(await t.save()).data,r=e.find(s=>s.name===t.name);return r!==void 0&&!i0(r,"export")?[]:e.reduce((s,o)=>{if(!i0(o,"import")||o.toolbox===void 0)return s;const i=o.toolbox.filter(c=>{if($r(c)||c.icon===void 0)return!1;if(c.data!==void 0){if(RA(c.data,n))return!1}else if(o.name===t.name)return!1;return!0});return s.push({...o,toolbox:i}),s},[])}function dE(t,e){return t.mergeable?t.name===e.name?!0:Ip(e,"export")&&Ip(t,"import"):!1}function JK(t,e){const n=e?.export;return Pt(n)?n(t):wo(n)?t[n]:(n!==void 0&&dt("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function uE(t,e,n){const r=e?.import;return Pt(r)?r(t,n):wo(r)?{[r]:t}:(r!==void 0&&dt("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var Nt=(t=>(t.Default="default",t.Separator="separator",t.Html="html",t))(Nt||{}),co=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(co||{});let ho=class ni extends ju{constructor({id:e=$K(),data:n,tool:r,readOnly:s,tunesData:o},i){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(c=void 0)=>{const u=c===void 0,h=c instanceof InputEvent;!u&&!h&&this.detectToolRootChange(c);let f;u||h?f=!0:f=!(c.length>0&&c.every(m=>{const{addedNodes:g,removedNodes:y,target:v}=m;return[...Array.from(g),...Array.from(y),v].some(b=>(pe.isElement(b)||(b=b.parentElement),b&&b.closest('[data-mutation-free="true"]')!==null))})),f&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.editorEventBus=i||null,this.blockAPI=new lo(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,s),this.tunes=r.tunes,this.composeTunes(o),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=pe.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!$r(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return Pt(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=pe.isEmpty(this.pluginsContent,"/"),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var n,r;this.holder.classList.toggle(ni.CSS.selected,e);const s=e===!0&&Ue.isRangeInsideContainer(this.holder),o=e===!1&&Ue.isFakeCursorInsideContainer(this.holder);(s||o)&&((n=this.editorEventBus)==null||n.emit(PA,{state:e}),s?Ue.addFakeCursor():Ue.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(AA,{state:e}))}get selected(){return this.holder.classList.contains(ni.CSS.selected)}set stretched(e){this.holder.classList.toggle(ni.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(ni.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(ni.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(Pt(this.toolInstance[e])){e==="appendCallback"&&dt("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){dt(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([o,i])=>{if(Pt(i.save))try{n[o]=i.save()}catch(c){dt(`Tune ${i.constructor.name} save method throws an Error %o`,"warn",c)}});const r=window.performance.now();let s;return Promise.resolve(e).then(o=>(s=window.performance.now(),{id:this.id,tool:this.name,data:o,tunes:n,time:s-r})).catch(o=>{dt(`Saving process for ${this.name} tool failed due to the ${o}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=[],n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return pe.isElement(r)?e.push({type:Nt.Html,element:r}):Array.isArray(r)?e.push(...r):e.push(r),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(s=>s.render()).forEach(s=>{pe.isElement(s)?n.push({type:Nt.Html,element:s}):Array.isArray(s)?n.push(...s):n.push(s)}),{toolTunes:e,commonTunes:n}}updateCurrentInput(){this.currentInput=pe.isNativeInput(document.activeElement)||!Ue.anchorNode?document.activeElement:Ue.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),Pt(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data,r=e;return r?.find(s=>RA(s.data,n))}async exportDataAsString(){const e=await this.data;return JK(e,this.tool.conversionConfig)}compose(){const e=pe.make("div",ni.CSS.wrapper),n=pe.make("div",ni.CSS.content),r=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let s=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(o=>{if(Pt(o.wrap))try{s=o.wrap(s)}catch(i){dt(`Tune ${o.constructor.name} wrap method throws an Error %o`,"warn",i)}}),e.appendChild(s),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),pe.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),pe.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(s=>GK(s,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(o0,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(o0,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(EA)}};class QK extends st{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},s,o,i,c)=>{const u=this.Editor.BlockManager.insert({id:c,tool:e,data:n,index:s,needToFocus:o,replace:i});return new lo(u)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new ho({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,n,r)=>{const{BlockManager:s}=this.Editor,o=s.getBlockById(e);if(o===void 0)throw new Error(`Block with id "${e}" not found`);const i=await s.update(o,n,r);return new lo(i)},this.convert=async(e,n,r)=>{var s,o;const{BlockManager:i,Tools:c}=this.Editor,u=i.getBlockById(e);if(!u)throw new Error(`Block with id "${e}" not found`);const h=c.blockTools.get(u.name),f=c.blockTools.get(n);if(!f)throw new Error(`Block Tool with type "${n}" not found`);const m=((s=h?.conversionConfig)==null?void 0:s.export)!==void 0,g=((o=f.conversionConfig)==null?void 0:o.import)!==void 0;if(m&&g){const y=await i.convert(u,n,r);return new lo(y)}else{const y=[m?!1:Rp(u.name),g?!1:Rp(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${u.name}" to "${n}" is not possible. ${y} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const r=e.map(({id:s,type:o,data:i})=>this.Editor.BlockManager.composeBlock({id:s,tool:o||this.config.defaultBlock,data:i}));return this.Editor.BlockManager.insertMany(r,n),r.map(s=>new lo(s))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:e=>this.getBlockByElement(e),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){Dr("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){Dr("There is no block at index `"+e+"`","warn");return}return new lo(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(Dr("There is no block with id `"+e+"`","warn"),null):new lo(n)}getBlockByElement(e){const n=this.Editor.BlockManager.getBlock(e);if(n===void 0){Dr("There is no block corresponding to element `"+e+"`","warn");return}return new lo(n)}swap(e,n){dt("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(n)}catch(n){Dr(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}async renderFromHTML(e){return await this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){r0(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){dt("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}function ZK(t,e){return typeof t=="number"?e.BlockManager.getBlockByIndex(t):typeof t=="string"?e.BlockManager.getBlockById(t):e.BlockManager.getBlockById(t.id)}class eX extends st{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>{const s=ZK(e,this.Editor);return s===void 0?!1:(this.Editor.Caret.setToBlock(s,n,r),!0)},this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class tX extends st{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}let nX=class DA extends st{static getNamespace(e,n){return n?`blockTunes.${e}`:`tools.${e}`}get methods(){return{t:()=>{Dr("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e,n){return Object.assign(this.methods,{t:r=>zn.t(DA.getNamespace(e,n),r)})}};class rX extends st{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e,n){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e,n)})}}class sX extends st{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class oX extends st{get methods(){return{on:(e,n,r,s)=>this.on(e,n,r,s),off:(e,n,r,s)=>this.off(e,n,r,s),offById:e=>this.offById(e)}}on(e,n,r,s){return this.listeners.on(e,n,r,s)}off(e,n,r,s){this.listeners.off(e,n,r,s)}offById(e){this.listeners.offById(e)}}var LA={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return(function(n){var r={};function s(o){if(r[o])return r[o].exports;var i=r[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=n,s.c=r,s.d=function(o,i,c){s.o(o,i)||Object.defineProperty(o,i,{enumerable:!0,get:c})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,i){if(1&i&&(o=s(o)),8&i||4&i&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),2&i&&typeof o!="string")for(var u in o)s.d(c,u,(function(h){return o[h]}).bind(null,u));return c},s.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(i,"a",i),i},s.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},s.p="/",s(s.s=0)})([function(n,r,s){s(1),n.exports=(function(){var o=s(6),i="cdx-notify--bounce-in",c=null;return{show:function(u){if(u.message){(function(){if(c)return!0;c=o.getWrapper(),document.body.appendChild(c)})();var h=null,f=u.time||8e3;switch(u.type){case"confirm":h=o.confirm(u);break;case"prompt":h=o.prompt(u);break;default:h=o.alert(u),window.setTimeout(function(){h.remove()},f)}c.appendChild(h),h.classList.add(i)}}}})()},function(n,r,s){var o=s(2);typeof o=="string"&&(o=[[n.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};s(4)(o,i),o.locals&&(n.exports=o.locals)},function(n,r,s){(n.exports=s(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(s){var o=[];return o.toString=function(){return this.map(function(i){var c=(function(u,h){var f=u[1]||"",m=u[3];if(!m)return f;if(h&&typeof btoa=="function"){var g=(v=m,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(v))))+" */"),y=m.sources.map(function(b){return"/*# sourceURL="+m.sourceRoot+b+" */"});return[f].concat(y).concat([g]).join(`
`)}var v;return[f].join(`
`)})(i,s);return i[2]?"@media "+i[2]+"{"+c+"}":c}).join("")},o.i=function(i,c){typeof i=="string"&&(i=[[null,i,""]]);for(var u={},h=0;h<this.length;h++){var f=this[h][0];typeof f=="number"&&(u[f]=!0)}for(h=0;h<i.length;h++){var m=i[h];typeof m[0]=="number"&&u[m[0]]||(c&&!m[2]?m[2]=c:c&&(m[2]="("+m[2]+") and ("+c+")"),o.push(m))}},o}},function(n,r,s){var o,i,c={},u=(o=function(){return window&&document&&document.all&&!window.atob},function(){return i===void 0&&(i=o.apply(this,arguments)),i}),h=(function(O){var L={};return function($){if(typeof $=="function")return $();if(L[$]===void 0){var V=(function(Q){return document.querySelector(Q)}).call(this,$);if(window.HTMLIFrameElement&&V instanceof window.HTMLIFrameElement)try{V=V.contentDocument.head}catch{V=null}L[$]=V}return L[$]}})(),f=null,m=0,g=[],y=s(5);function v(O,L){for(var $=0;$<O.length;$++){var V=O[$],Q=c[V.id];if(Q){Q.refs++;for(var K=0;K<Q.parts.length;K++)Q.parts[K](V.parts[K]);for(;K<V.parts.length;K++)Q.parts.push(N(V.parts[K],L))}else{var se=[];for(K=0;K<V.parts.length;K++)se.push(N(V.parts[K],L));c[V.id]={id:V.id,refs:1,parts:se}}}}function b(O,L){for(var $=[],V={},Q=0;Q<O.length;Q++){var K=O[Q],se=L.base?K[0]+L.base:K[0],ne={css:K[1],media:K[2],sourceMap:K[3]};V[se]?V[se].parts.push(ne):$.push(V[se]={id:se,parts:[ne]})}return $}function k(O,L){var $=h(O.insertInto);if(!$)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var V=g[g.length-1];if(O.insertAt==="top")V?V.nextSibling?$.insertBefore(L,V.nextSibling):$.appendChild(L):$.insertBefore(L,$.firstChild),g.push(L);else if(O.insertAt==="bottom")$.appendChild(L);else{if(typeof O.insertAt!="object"||!O.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var Q=h(O.insertInto+" "+O.insertAt.before);$.insertBefore(L,Q)}}function C(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O);var L=g.indexOf(O);L>=0&&g.splice(L,1)}function _(O){var L=document.createElement("style");return O.attrs.type===void 0&&(O.attrs.type="text/css"),T(L,O.attrs),k(O,L),L}function T(O,L){Object.keys(L).forEach(function($){O.setAttribute($,L[$])})}function N(O,L){var $,V,Q,K;if(L.transform&&O.css){if(!(K=L.transform(O.css)))return function(){};O.css=K}if(L.singleton){var se=m++;$=f||(f=_(L)),V=I.bind(null,$,se,!1),Q=I.bind(null,$,se,!0)}else O.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?($=(function(ne){var W=document.createElement("link");return ne.attrs.type===void 0&&(ne.attrs.type="text/css"),ne.attrs.rel="stylesheet",T(W,ne.attrs),k(ne,W),W})(L),V=(function(ne,W,U){var R=U.css,D=U.sourceMap,Z=W.convertToAbsoluteUrls===void 0&&D;(W.convertToAbsoluteUrls||Z)&&(R=y(R)),D&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(D))))+" */");var M=new Blob([R],{type:"text/css"}),B=ne.href;ne.href=URL.createObjectURL(M),B&&URL.revokeObjectURL(B)}).bind(null,$,L),Q=function(){C($),$.href&&URL.revokeObjectURL($.href)}):($=_(L),V=(function(ne,W){var U=W.css,R=W.media;if(R&&ne.setAttribute("media",R),ne.styleSheet)ne.styleSheet.cssText=U;else{for(;ne.firstChild;)ne.removeChild(ne.firstChild);ne.appendChild(document.createTextNode(U))}}).bind(null,$),Q=function(){C($)});return V(O),function(ne){if(ne){if(ne.css===O.css&&ne.media===O.media&&ne.sourceMap===O.sourceMap)return;V(O=ne)}else Q()}}n.exports=function(O,L){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(L=L||{}).attrs=typeof L.attrs=="object"?L.attrs:{},L.singleton||typeof L.singleton=="boolean"||(L.singleton=u()),L.insertInto||(L.insertInto="head"),L.insertAt||(L.insertAt="bottom");var $=b(O,L);return v($,L),function(V){for(var Q=[],K=0;K<$.length;K++){var se=$[K];(ne=c[se.id]).refs--,Q.push(ne)}for(V&&v(b(V,L),L),K=0;K<Q.length;K++){var ne;if((ne=Q[K]).refs===0){for(var W=0;W<ne.parts.length;W++)ne.parts[W]();delete c[ne.id]}}}};var j,P=(j=[],function(O,L){return j[O]=L,j.filter(Boolean).join(`
`)});function I(O,L,$,V){var Q=$?"":V.css;if(O.styleSheet)O.styleSheet.cssText=P(L,Q);else{var K=document.createTextNode(Q),se=O.childNodes;se[L]&&O.removeChild(se[L]),se.length?O.insertBefore(K,se[L]):O.appendChild(K)}}},function(n,r){n.exports=function(s){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!s||typeof s!="string")return s;var i=o.protocol+"//"+o.host,c=i+o.pathname.replace(/\/[^\/]*$/,"/");return s.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(u,h){var f,m=h.trim().replace(/^"(.*)"$/,function(g,y){return y}).replace(/^'(.*)'$/,function(g,y){return y});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(m)?u:(f=m.indexOf("//")===0?m:m.indexOf("/")===0?i+m:c+m.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}},function(n,r,s){var o,i,c,u,h,f,m,g,y;n.exports=(o="cdx-notifies",i="cdx-notify",c="cdx-notify__cross",u="cdx-notify__button--confirm",h="cdx-notify__button--cancel",f="cdx-notify__input",m="cdx-notify__button",g="cdx-notify__btns-wrapper",{alert:y=function(v){var b=document.createElement("DIV"),k=document.createElement("DIV"),C=v.message,_=v.style;return b.classList.add(i),_&&b.classList.add(i+"--"+_),b.innerHTML=C,k.classList.add(c),k.addEventListener("click",b.remove.bind(b)),b.appendChild(k),b},confirm:function(v){var b=y(v),k=document.createElement("div"),C=document.createElement("button"),_=document.createElement("button"),T=b.querySelector("."+c),N=v.cancelHandler,j=v.okHandler;return k.classList.add(g),C.innerHTML=v.okText||"Confirm",_.innerHTML=v.cancelText||"Cancel",C.classList.add(m),_.classList.add(m),C.classList.add(u),_.classList.add(h),N&&typeof N=="function"&&(_.addEventListener("click",N),T.addEventListener("click",N)),j&&typeof j=="function"&&C.addEventListener("click",j),C.addEventListener("click",b.remove.bind(b)),_.addEventListener("click",b.remove.bind(b)),k.appendChild(C),k.appendChild(_),b.appendChild(k),b},prompt:function(v){var b=y(v),k=document.createElement("div"),C=document.createElement("button"),_=document.createElement("input"),T=b.querySelector("."+c),N=v.cancelHandler,j=v.okHandler;return k.classList.add(g),C.innerHTML=v.okText||"Ok",C.classList.add(m),C.classList.add(u),_.classList.add(f),v.placeholder&&_.setAttribute("placeholder",v.placeholder),v.default&&(_.value=v.default),v.inputType&&(_.type=v.inputType),N&&typeof N=="function"&&T.addEventListener("click",N),j&&typeof j=="function"&&C.addEventListener("click",function(){j(_.value)}),C.addEventListener("click",b.remove.bind(b)),k.appendChild(_),k.appendChild(C),b.appendChild(k),b},getWrapper:function(){var v=document.createElement("DIV");return v.classList.add(o),v}})}])})})(LA);var iX=LA.exports;const aX=Um(iX);class lX{show(e){aX.show(e)}}class cX extends st{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new lX}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class dX extends st{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var BA={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Kd,function(){function n(m){var g=m.tags,y=Object.keys(g),v=y.map(function(b){return typeof g[b]}).every(function(b){return b==="object"||b==="boolean"||b==="function"});if(!v)throw new Error("The configuration was invalid");this.config=m}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function s(m){return r.indexOf(m.nodeName)!==-1}var o=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function i(m){return o.indexOf(m.nodeName)!==-1}n.prototype.clean=function(m){const g=document.implementation.createHTMLDocument(),y=g.createElement("div");return y.innerHTML=m,this._sanitize(g,y),y.innerHTML},n.prototype._sanitize=function(m,g){var y=c(m,g),v=y.firstChild();if(v)do{if(v.nodeType===Node.TEXT_NODE)if(v.data.trim()===""&&(v.previousElementSibling&&s(v.previousElementSibling)||v.nextElementSibling&&s(v.nextElementSibling))){g.removeChild(v),this._sanitize(m,g);break}else continue;if(v.nodeType===Node.COMMENT_NODE){g.removeChild(v),this._sanitize(m,g);break}var b=i(v),k;b&&(k=Array.prototype.some.call(v.childNodes,s));var C=!!g.parentNode,_=s(g)&&s(v)&&C,T=v.nodeName.toLowerCase(),N=u(this.config,T,v),j=b&&k;if(j||h(v,N)||!this.config.keepNestedBlockElements&&_){if(!(v.nodeName==="SCRIPT"||v.nodeName==="STYLE"))for(;v.childNodes.length>0;)g.insertBefore(v.childNodes[0],v);g.removeChild(v),this._sanitize(m,g);break}for(var P=0;P<v.attributes.length;P+=1){var I=v.attributes[P];f(I,N,v)&&(v.removeAttribute(I.name),P=P-1)}this._sanitize(m,v)}while(v=y.nextSibling())};function c(m,g){return m.createTreeWalker(g,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function u(m,g,y){return typeof m.tags[g]=="function"?m.tags[g](y):m.tags[g]}function h(m,g){return typeof g>"u"?!0:typeof g=="boolean"?!g:!1}function f(m,g,y){var v=m.name.toLowerCase();return g===!0?!1:typeof g[v]=="function"?!g[v](m.value,y):typeof g[v]>"u"||g[v]===!1?!0:typeof g[v]=="string"?g[v]!==m.value:!1}return n})})(BA);var uX=BA.exports;const hX=Um(uX);function zb(t,e){return t.map(n=>{const r=Pt(e)?e(n.tool):e;return $r(r)||(n.data=Ub(n.data,r)),n})}function Ms(t,e={}){const n={tags:e};return new hX(n).clean(t)}function Ub(t,e){return Array.isArray(t)?fX(t,e):wn(t)?pX(t,e):wo(t)?mX(t,e):t}function fX(t,e){return t.map(n=>Ub(n,e))}function pX(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const s=t[r],o=gX(e[r])?e[r]:e;n[r]=Ub(s,o)}return n}function mX(t,e){return wn(e)?Ms(t,e):e===!1?Ms(t,{}):t}function gX(t){return wn(t)||RK(t)||Pt(t)}class xX extends st{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return Ms(e,n)}}class vX extends st{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Dr(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class yX extends st{constructor(){super(...arguments),this.selectionUtils=new Ue}get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(e,n){return this.selectionUtils.findParentTag(e,n)}expandToTag(e){this.selectionUtils.expandToTag(e)}}class bX extends st{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}}class wX extends st{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class kX extends st{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Dr("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Dr("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var FA={exports:{}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return(function(n){var r={};function s(o){if(r[o])return r[o].exports;var i=r[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=n,s.c=r,s.d=function(o,i,c){s.o(o,i)||Object.defineProperty(o,i,{enumerable:!0,get:c})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,i){if(1&i&&(o=s(o)),8&i||4&i&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),2&i&&typeof o!="string")for(var u in o)s.d(c,u,(function(h){return o[h]}).bind(null,u));return c},s.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(i,"a",i),i},s.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},s.p="",s(s.s=0)})([function(n,r,s){n.exports=s(1)},function(n,r,s){s.r(r),s.d(r,"default",function(){return o});class o{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(c,u,h){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const f=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},h);if(f.hidingDelay&&(this.hidingDelay=f.hidingDelay),this.nodes.content.innerHTML="",typeof u=="string")this.nodes.content.appendChild(document.createTextNode(u));else{if(!(u instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof u+" given.");this.nodes.content.appendChild(u)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),f.placement){case"top":this.placeTop(c,f);break;case"left":this.placeLeft(c,f);break;case"right":this.placeRight(c,f);break;case"bottom":default:this.placeBottom(c,f)}f&&f.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},f.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(c=!1){if(this.hidingDelay&&!c)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(c,u,h){c.addEventListener("mouseenter",()=>{this.show(c,u,h)}),c.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const c="codex-tooltips-style";if(document.getElementById(c))return;const u=s(2),h=this.make("style",null,{textContent:u.toString(),id:c});this.prepend(document.head,h)}placeBottom(c,u){const h=c.getBoundingClientRect(),f=h.left+c.clientWidth/2-this.nodes.wrapper.offsetWidth/2,m=h.bottom+window.pageYOffset+this.offsetTop+u.marginTop;this.applyPlacement("bottom",f,m)}placeTop(c,u){const h=c.getBoundingClientRect(),f=h.left+c.clientWidth/2-this.nodes.wrapper.offsetWidth/2,m=h.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",f,m)}placeLeft(c,u){const h=c.getBoundingClientRect(),f=h.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-u.marginLeft,m=h.top+window.pageYOffset+c.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",f,m)}placeRight(c,u){const h=c.getBoundingClientRect(),f=h.right+this.offsetRight+u.marginRight,m=h.top+window.pageYOffset+c.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",f,m)}applyPlacement(c,u,h){this.nodes.wrapper.classList.add(this.CSS.placement[c]),this.nodes.wrapper.style.left=u+"px",this.nodes.wrapper.style.top=h+"px"}make(c,u=null,h={}){const f=document.createElement(c);Array.isArray(u)?f.classList.add(...u):u&&f.classList.add(u);for(const m in h)h.hasOwnProperty(m)&&(f[m]=h[m]);return f}append(c,u){Array.isArray(u)?u.forEach(h=>c.appendChild(h)):c.appendChild(u)}prepend(c,u){Array.isArray(u)?(u=u.reverse()).forEach(h=>c.prepend(h)):c.prepend(u)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(FA);var SX=FA.exports;const CX=Um(SX);let os=null;function Hb(){os||(os=new CX)}function _X(t,e,n){Hb(),os?.show(t,e,n)}function Dp(t=!1){Hb(),os?.hide(t)}function Lp(t,e,n){Hb(),os?.onHover(t,e,n)}function EX(){os?.destroy(),os=null}class NX extends st{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n})}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){_X(e,n,r)}hide(){Dp()}onHover(e,n,r){Lp(e,n,r)}}class jX extends st{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function $A(t,e){const n={};return Object.entries(t).forEach(([r,s])=>{if(wn(s)){const o=e?`${e}.${r}`:r;Object.values(s).every(i=>wo(i))?n[r]=o:n[r]=$A(s,o);return}n[r]=s}),n}const gr=$A(NA);function TX(t,e){const n={};return Object.keys(t).forEach(r=>{const s=e[r];s!==void 0?n[s]=t[r]:n[r]=t[r]}),n}const zA=class yd{constructor(e,n){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=n}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(yd.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(yd.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(this.items.length===0)return this.cursor;let n=this.cursor;return n===-1?n=e===yd.directions.RIGHT?-1:0:this.items[n].classList.remove(this.focusedCssClass),e===yd.directions.RIGHT?n=(n+1)%this.items.length:n=(this.items.length+n-1)%this.items.length,pe.canSetCaret(this.items[n])&&Ap(()=>Ue.setCursor(this.items[n]),50)(),this.items[n].classList.add(this.focusedCssClass),n}};zA.directions={RIGHT:"right",LEFT:"left"};let od=zA,Bp=class a0{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(!(!this.isEventReadyForHandling(n)||n.shiftKey===!0))switch(a0.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case We.TAB:this.handleTabPress(n);break;case We.LEFT:case We.UP:this.flipLeft();break;case We.RIGHT:case We.DOWN:this.flipRight();break;case We.ENTER:this.handleEnterPress(n);break}},this.iterator=new od(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||a0.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[We.TAB,We.LEFT,We.RIGHT,We.ENTER,We.UP,We.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?od.directions.LEFT:od.directions.RIGHT){case od.directions.RIGHT:this.flipRight();break;case od.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),Pt(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}};const MX='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',OX='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',PX='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',AX='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',RX='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',IX='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',DX='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',LX='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',hE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',BX='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',FX='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',UA='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',$X='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',zX='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',UX='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',HX="__",WX="--";function Oi(t){return(e,n)=>[[t,e].filter(r=>!!r).join(HX),n].filter(r=>!!r).join(WX)}const id=Oi("ce-hint"),ad={root:id(),alignedStart:id(null,"align-left"),alignedCenter:id(null,"align-center"),title:id("title"),description:id("description")};class VX{constructor(e){this.nodes={root:pe.make("div",[ad.root,e.alignment==="center"?ad.alignedCenter:ad.alignedStart]),title:pe.make("div",ad.title,{textContent:e.title})},this.nodes.root.appendChild(this.nodes.title),e.description!==void 0&&(this.nodes.description=pe.make("div",ad.description,{textContent:e.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}let Wb=class{constructor(e){this.params=e}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){Dp()}onChildrenOpen(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onClose)=="function"&&this.params.children.onClose()}handleClick(){var e,n;this.params!==void 0&&"onActivate"in this.params&&((n=(e=this.params).onActivate)==null||n.call(e,this.params))}addHint(e,n){const r=new VX(n);Lp(e,r.getElement(),{placement:n.position,hidingDelay:100})}get children(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.isOpen)===!0}get isChildrenFlippable(){var e;return!(this.params===void 0||!("children"in this.params)||((e=this.params.children)==null?void 0:e.isFlippable)===!1)}get isChildrenSearchable(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}};const cr=Oi("ce-popover-item"),It={container:cr(),active:cr(null,"active"),disabled:cr(null,"disabled"),focused:cr(null,"focused"),hidden:cr(null,"hidden"),confirmationState:cr(null,"confirmation"),noHover:cr(null,"no-hover"),noFocus:cr(null,"no-focus"),title:cr("title"),secondaryTitle:cr("secondary-title"),icon:cr("icon"),iconTool:cr("icon","tool"),iconChevronRight:cr("icon","chevron-right"),wobbleAnimation:Oi("wobble")()};let oa=class extends Wb{constructor(e,n){super(e),this.params=e,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(It.noFocus)},this.removeSpecialHoverBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(It.noHover)},this.onErrorAnimationEnd=()=>{var r,s;(r=this.nodes.icon)==null||r.classList.remove(It.wobbleAnimation),(s=this.nodes.icon)==null||s.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(e,n)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(It.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){var n;(n=this.nodes.root)==null||n.classList.toggle(It.active,e)}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(It.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e,n){var r,s;const o=n?.wrapperTag||"div",i=pe.make(o,It.container,{type:o==="button"?"button":void 0});return e.name&&(i.dataset.itemName=e.name),this.nodes.icon=pe.make("div",[It.icon,It.iconTool],{innerHTML:e.icon||DX}),i.appendChild(this.nodes.icon),e.title!==void 0&&i.appendChild(pe.make("div",It.title,{innerHTML:e.title||""})),e.secondaryLabel&&i.appendChild(pe.make("div",It.secondaryTitle,{textContent:e.secondaryLabel})),this.hasChildren&&i.appendChild(pe.make("div",[It.icon,It.iconChevronRight],{innerHTML:AX})),this.isActive&&i.classList.add(It.active),e.isDisabled&&i.classList.add(It.disabled),e.hint!==void 0&&((r=n?.hint)==null?void 0:r.enabled)!==!1&&this.addHint(i,{...e.hint,position:((s=n?.hint)==null?void 0:s.position)||"right"}),i}enableConfirmationMode(e){if(this.nodes.root===null)return;const n={...this.params,...e,confirmation:"confirmation"in e?e.confirmation:void 0},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(It.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(It.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var e,n,r;(e=this.nodes.root)==null||e.classList.add(It.noHover),(n=this.nodes.root)==null||n.classList.add(It.noFocus),(r=this.nodes.root)==null||r.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var e;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(e=this.nodes.root)==null||e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){var n;if(!("confirmation"in e)||e.confirmation===void 0)try{(n=e.onActivate)==null||n.call(e,e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){var e,n,r;(e=this.nodes.icon)!=null&&e.classList.contains(It.wobbleAnimation)||((n=this.nodes.icon)==null||n.classList.add(It.wobbleAnimation),(r=this.nodes.icon)==null||r.addEventListener("animationend",this.onErrorAnimationEnd))}};const Wv=Oi("ce-popover-item-separator"),Vv={container:Wv(),line:Wv("line"),hidden:Wv(null,"hidden")};class HA extends Wb{constructor(){super(),this.nodes={root:pe.make("div",Vv.container),line:pe.make("div",Vv.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(Vv.hidden,e)}}var Rs=(t=>(t.Closed="closed",t.ClosedOnActivate="closed-on-activate",t))(Rs||{});const Ln=Oi("ce-popover"),$t={popover:Ln(),popoverContainer:Ln("container"),popoverOpenTop:Ln(null,"open-top"),popoverOpenLeft:Ln(null,"open-left"),popoverOpened:Ln(null,"opened"),search:Ln("search"),nothingFoundMessage:Ln("nothing-found-message"),nothingFoundMessageDisplayed:Ln("nothing-found-message","displayed"),items:Ln("items"),overlay:Ln("overlay"),overlayHidden:Ln("overlay","hidden"),popoverNested:Ln(null,"nested"),getPopoverNestedClass:t=>Ln(null,`nested-level-${t.toString()}`),popoverInline:Ln(null,"inline"),popoverHeader:Ln("header")};var Rl=(t=>(t.NestingLevel="--nesting-level",t.PopoverHeight="--popover-height",t.InlinePopoverWidth="--inline-popover-width",t.TriggerItemLeft="--trigger-item-left",t.TriggerItemTop="--trigger-item-top",t))(Rl||{});const fE=Oi("ce-popover-item-html"),pE={root:fE(),hidden:fE(null,"hidden")};let Gd=class extends Wb{constructor(e,n){var r,s;super(e),this.nodes={root:pe.make("div",pE.root)},this.nodes.root.appendChild(e.element),e.name&&(this.nodes.root.dataset.itemName=e.name),e.hint!==void 0&&((r=n?.hint)==null?void 0:r.enabled)!==!1&&this.addHint(this.nodes.root,{...e.hint,position:((s=n?.hint)==null?void 0:s.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(pE.hidden,e)}getControls(){const e=this.nodes.root.querySelectorAll(`button, ${pe.allInputsSelector}`);return Array.from(e)}};class WA extends ju{constructor(e,n={}){super(),this.params=e,this.itemsRenderParams=n,this.listeners=new Tu,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(e.items),e.messages&&(this.messages={...this.messages,...e.messages}),this.nodes={},this.nodes.popoverContainer=pe.make("div",[$t.popoverContainer]),this.nodes.nothingFoundMessage=pe.make("div",[$t.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=pe.make("div",[$t.items]),this.items.forEach(r=>{const s=r.getElement();s!==null&&this.nodes.items.appendChild(s)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",r=>this.handleClick(r)),this.nodes.popover=pe.make("div",[$t.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(e=>e instanceof oa)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add($t.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove($t.popoverOpened),this.nodes.popover.classList.remove($t.popoverOpenTop),this.itemsDefault.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),this.emit(Rs.Closed)}destroy(){var e;this.items.forEach(n=>n.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(e=this.search)==null||e.destroy()}activateItemByName(e){const n=this.items.find(r=>r.name===e);this.handleItemClick(n)}buildItems(e){return e.map(n=>{switch(n.type){case Nt.Separator:return new HA;case Nt.Html:return new Gd(n,this.itemsRenderParams[Nt.Html]);default:return new oa(n,this.itemsRenderParams[Nt.Default])}})}getTargetItem(e){return this.items.filter(n=>n instanceof oa||n instanceof Gd).find(n=>{const r=n.getElement();return r===null?!1:e.composedPath().includes(r)})}handleItemClick(e){if(!("isDisabled"in e&&e.isDisabled)){if(e.hasChildren){this.showNestedItems(e),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick();return}this.itemsDefault.filter(n=>n!==e).forEach(n=>n.reset()),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&(this.hide(),this.emit(Rs.ClosedOnActivate))}}handleClick(e){const n=this.getTargetItem(e);n!==void 0&&this.handleItemClick(n)}toggleItemActivenessIfNeeded(e){if(e instanceof oa&&(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string")){const n=this.itemsDefault.filter(r=>r.toggle===e.toggle);if(n.length===1){e.toggleActive();return}n.forEach(r=>{r.toggleActive(r===e)})}}}var Fp=(t=>(t.Search="search",t))(Fp||{});const qv=Oi("cdx-search-field"),Yv={wrapper:qv(),icon:qv("icon"),input:qv("input")};class qX extends ju{constructor({items:e,placeholder:n}){super(),this.listeners=new Tu,this.items=e,this.wrapper=pe.make("div",Yv.wrapper);const r=pe.make("div",Yv.icon,{innerHTML:$X});this.input=pe.make("input",Yv.input,{placeholder:n,tabIndex:-1}),this.wrapper.appendChild(r),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(Fp.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(Fp.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n,r;const s=((n=e.title)==null?void 0:n.toLowerCase())||"",o=(r=this.searchQuery)==null?void 0:r.toLowerCase();return o!==void 0?s.includes(o):!1}}var YX=Object.defineProperty,KX=Object.getOwnPropertyDescriptor,XX=(t,e,n,r)=>{for(var s=KX(e,n),o=t.length-1,i;o>=0;o--)(i=t[o])&&(s=i(e,n,s)||s);return s&&YX(e,n,s),s};const VA=class qA extends WA{constructor(e,n){super(e,n),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var r;super.hide(),this.destroyNestedPopoverIfExists(),(r=this.flipper)==null||r.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const r=this.itemsDefault.find(s=>s.isFocused);r?.onFocus()},this.onSearch=r=>{var s;const o=r.query==="",i=r.items.length===0;this.items.forEach(u=>{let h=!1;u instanceof oa?h=!r.items.includes(u):(u instanceof HA||u instanceof Gd)&&(h=i||!o),u.toggleHidden(h)}),this.toggleNothingFoundMessage(i);const c=r.query===""?this.flippableElements:r.items.map(u=>u.getElement());(s=this.flipper)!=null&&s.isActivated&&(this.flipper.deactivate(),this.flipper.activate(c))},e.nestingLevel!==void 0&&(this.nestingLevel=e.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add($t.popoverNested),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",r=>this.handleHover(r)),e.searchable&&this.addSearch(),e.flippable!==!1&&(this.flipper=new Bp({items:this.flippableElements,focusedItemClass:It.focused,allowedKeys:[We.TAB,We.UP,We.DOWN,We.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var e;this.nodes.popover.style.setProperty(Rl.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add($t.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add($t.popoverOpenLeft),super.show(),(e=this.flipper)==null||e.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(e){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=e,this.showNestedPopoverForItem(e))}handleHover(e){const n=this.getTargetItem(e);n!==void 0&&this.previouslyHoveredItem!==n&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=n,n.hasChildren&&this.showNestedPopoverForItem(n))}setTriggerItemPosition(e,n){const r=n.getElement(),s=(r?r.offsetTop:0)-this.scrollTop,o=this.offsetTop+s;e.style.setProperty(Rl.TriggerItemTop,o+"px")}destroyNestedPopoverIfExists(){var e,n;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(Rs.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(e=this.flipper)==null||e.activate(this.flippableElements),(n=this.nestedPopoverTriggerItem)==null||n.onChildrenClose())}showNestedPopoverForItem(e){var n;this.nestedPopover=new qA({searchable:e.isChildrenSearchable,items:e.children,nestingLevel:this.nestingLevel+1,flippable:e.isChildrenFlippable,messages:this.messages}),e.onChildrenOpen(),this.nestedPopover.on(Rs.ClosedOnActivate,this.hide);const r=this.nestedPopover.getElement();return this.nodes.popover.appendChild(r),this.setTriggerItemPosition(r,e),r.style.setProperty(Rl.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(n=this.flipper)==null||n.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popoverContainer.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.size.height,s=e.top+r,o=e.top-r,i=Math.min(window.innerHeight,n.bottom);return o<n.top||s<=i}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popover.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.size.width,s=e.right+r,o=e.left-r,i=Math.min(window.innerWidth,n.right);return o<n.left||s<=i}get size(){var e;const n={height:0,width:0};if(this.nodes.popover===null)return n;const r=this.nodes.popover.cloneNode(!0);r.style.visibility="hidden",r.style.position="absolute",r.style.top="-1000px",r.classList.add($t.popoverOpened),(e=r.querySelector("."+$t.popoverNested))==null||e.remove(),document.body.appendChild(r);const s=r.querySelector("."+$t.popoverContainer);return n.height=s.offsetHeight,n.width=s.offsetWidth,r.remove(),n}get flippableElements(){return this.items.map(e=>{if(e instanceof oa)return e.getElement();if(e instanceof Gd)return e.getControls()}).flat().filter(e=>e!=null)}addSearch(){this.search=new qX({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(Fp.Search,this.onSearch);const e=this.search.getElement();e.classList.add($t.search),this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle($t.nothingFoundMessageDisplayed,e)}};XX([pc],VA.prototype,"size");let Vb=VA;class GX extends Vb{constructor(e){const n=!mc();super({...e,class:$t.popoverInline},{[Nt.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:n}},[Nt.Html]:{hint:{position:"top",alignment:"center",enabled:n}}}),this.items.forEach(r=>{!(r instanceof oa)&&!(r instanceof Gd)||r.hasChildren&&r.isChildrenOpen&&this.showNestedItems(r)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(Rl.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(e,n){const r=n.getElement(),s=r?r.offsetLeft:0,o=this.offsetLeft+s;e.style.setProperty(Rl.TriggerItemLeft,o+"px")}showNestedItems(e){if(this.nestedPopoverTriggerItem===e){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(e)}showNestedPopoverForItem(e){const n=super.showNestedPopoverForItem(e);return n.getElement().classList.add($t.getPopoverNestedClass(n.nestingLevel)),n}handleItemClick(e){var n;e!==this.nestedPopoverTriggerItem&&((n=this.nestedPopoverTriggerItem)==null||n.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(e)}}const YA=class bd{constructor(){this.scrollPosition=null}lock(){s0?this.lockHard():document.body.classList.add(bd.CSS.scrollLocked)}unlock(){s0?this.unlockHard():document.body.classList.remove(bd.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(bd.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(bd.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};YA.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let JX=YA;const Kv=Oi("ce-popover-header"),Xv={root:Kv(),text:Kv("text"),backButton:Kv("back-button")};class QX{constructor({text:e,onBackButtonClick:n}){this.listeners=new Tu,this.text=e,this.onBackButtonClick=n,this.nodes={root:pe.make("div",[Xv.root]),backButton:pe.make("button",[Xv.backButton]),text:pe.make("div",[Xv.text])},this.nodes.backButton.innerHTML=PX,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class ZX{constructor(){this.history=[]}push(e){this.history.push(e)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}let KA=class extends WA{constructor(e){super(e,{[Nt.Default]:{hint:{enabled:!1}},[Nt.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new JX,this.history=new ZX,this.isHidden=!0,this.nodes.overlay=pe.make("div",[$t.overlay,$t.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:e.items})}show(){this.nodes.overlay.classList.remove($t.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add($t.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(e){this.updateItemsAndHeader(e.children,e.title),this.history.push({title:e.title,items:e.children})}updateItemsAndHeader(e,n){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),n!==void 0){this.header=new QX({text:n,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const r=this.header.getElement();r!==null&&this.nodes.popoverContainer.insertBefore(r,this.nodes.popoverContainer.firstChild)}this.items.forEach(r=>{var s;return(s=r.getElement())==null?void 0:s.remove()}),this.items=this.buildItems(e),this.items.forEach(r=>{var s;const o=r.getElement();o!==null&&((s=this.nodes.items)==null||s.appendChild(o))})}};class eG extends st{constructor(){super(...arguments),this.opened=!1,this.selection=new Ue,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,Ue.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Rs.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;if(this.popover!==null)return"flipper"in this.popover?(e=this.popover)==null?void 0:e.flipper:void 0}make(){this.nodes.wrapper=pe.make("div",[this.CSS.settings]),this.eventsDispatcher.on(Xd,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(Xd,this.close)}async open(e=this.Editor.BlockManager.currentBlock){var n;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const{toolTunes:r,commonTunes:s}=e.getTunes();this.eventsDispatcher.emit(this.events.opened);const o=mc()?KA:Vb;this.popover=new o({searchable:!0,items:await this.getTunesItems(e,s,r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:zn.ui(gr.ui.popover,"Nothing found"),search:zn.ui(gr.ui.popover,"Filter")}}),this.popover.on(Rs.Closed,this.onPopoverClose),(n=this.nodes.wrapper)==null||n.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(e,n,r){const s=[];r!==void 0&&r.length>0&&(s.push(...r),s.push({type:Nt.Separator}));const o=Array.from(this.Editor.Tools.blockTools.values()),i=(await IA(e,o)).reduce((c,u)=>(u.toolbox.forEach(h=>{c.push({icon:h.icon,title:zn.t(gr.toolNames,h.title),name:u.name,closeOnActivate:!0,onActivate:async()=>{const{BlockManager:f,Caret:m,Toolbar:g}=this.Editor,y=await f.convert(e,u.name,h.data);g.close(),m.setToBlock(y,m.positions.END)}})}),c),[]);return i.length>0&&(s.push({icon:UA,name:"convert-to",title:zn.ui(gr.ui.popover,"Convert to"),children:{searchable:!0,items:i}}),s.push({type:Nt.Separator})),s.push(...n),s.map(c=>this.resolveTuneAliases(c))}resolveTuneAliases(e){if(e.type===Nt.Separator||e.type===Nt.Html)return e;const n=TX(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}var XA={exports:{}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return(function(n){var r={};function s(o){if(r[o])return r[o].exports;var i=r[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=n,s.c=r,s.d=function(o,i,c){s.o(o,i)||Object.defineProperty(o,i,{enumerable:!0,get:c})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,i){if(1&i&&(o=s(o)),8&i||4&i&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),2&i&&typeof o!="string")for(var u in o)s.d(c,u,(function(h){return o[h]}).bind(null,u));return c},s.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(i,"a",i),i},s.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},s.p="",s(s.s=0)})([function(n,r,s){function o(u,h){for(var f=0;f<h.length;f++){var m=h[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}function i(u,h,f){return h&&o(u.prototype,h),f&&o(u,f),u}s.r(r);var c=(function(){function u(h){var f=this;(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u),this.commands={},this.keys={},this.name=h.name,this.parseShortcutName(h.name),this.element=h.on,this.callback=h.callback,this.executeShortcut=function(m){f.execute(m)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return i(u,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),i(u,[{key:"parseShortcutName",value:function(h){h=h.split("+");for(var f=0;f<h.length;f++){h[f]=h[f].toUpperCase();var m=!1;for(var g in u.supportedCommands)if(u.supportedCommands[g].includes(h[f])){m=this.commands[g]=!0;break}m||(this.keys[h[f]]=!0)}for(var y in u.supportedCommands)this.commands[y]||(this.commands[y]=!1)}},{key:"execute",value:function(h){var f,m={CMD:h.ctrlKey||h.metaKey,SHIFT:h.shiftKey,ALT:h.altKey},g=!0;for(f in this.commands)this.commands[f]!==m[f]&&(g=!1);var y,v=!0;for(y in this.keys)v=v&&h.keyCode===u.keyCodes[y];g&&v&&this.callback(h)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),u})();r.default=c}]).default})})(XA);var tG=XA.exports;const nG=Um(tG);class rG{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new nG({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const s=this.registeredShortcuts.get(e).filter(o=>o!==r);if(s.length===0){this.registeredShortcuts.delete(e);return}this.registeredShortcuts.set(e,s)}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const ql=new rG;var sG=Object.defineProperty,oG=Object.getOwnPropertyDescriptor,GA=(t,e,n,r)=>{for(var s=oG(e,n),o=t.length-1,i;o>=0;o--)(i=t[o])&&(s=i(e,n,s)||s);return s&&sG(e,n,s),s},$f=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))($f||{});const qb=class JA extends ju{constructor({api:e,tools:n,i18nLabels:r}){super(),this.opened=!1,this.listeners=new Tu,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=n,this.i18nLabels=r,this.enableShortcuts(),this.nodes={toolbox:pe.make("div",JA.CSS.toolbox)},this.initPopover(),this.api.events.on(Xd,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(e=this.popover)==null||e.off(Rs.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(Xd,this.handleMobileLayoutToggle)}toolButtonActivated(e,n){this.insertNewBlock(e,n)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var e;const n=mc()?KA:Vb;this.popover=new n({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Rs.Closed,this.onPopoverClose),(e=this.nodes.toolbox)==null||e.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(Rs.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(n=>{n.toolbox&&e.push(n)}),e}get toolboxItemsToBeDisplayed(){const e=(n,r,s=!0)=>({icon:n.icon,title:zn.t(gr.toolNames,n.title||Rp(r.name)),name:r.name,onActivate:()=>{this.toolButtonActivated(r.name,n.data)},secondaryLabel:r.shortcut&&s?$b(r.shortcut):""});return this.toolsToBeDisplayed.reduce((n,r)=>(Array.isArray(r.toolbox)?r.toolbox.forEach((s,o)=>{n.push(e(s,r,o===0))}):r.toolbox!==void 0&&n.push(e(r.toolbox,r)),n),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&this.enableShortcutForTool(e.name,n)})}enableShortcutForTool(e,n){ql.add({name:n,on:this.api.ui.nodes.redactor,handler:async r=>{r.preventDefault();const s=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(s);if(o)try{const i=await this.api.blocks.convert(o.id,e);this.api.caret.setToBlock(i,"end");return}catch{}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&ql.remove(this.api.ui.nodes.redactor,n)})}async insertNewBlock(e,n){const r=this.api.blocks.getCurrentBlockIndex(),s=this.api.blocks.getBlockByIndex(r);if(!s)return;const o=s.isEmpty?r:r+1;let i;if(n){const u=await this.api.blocks.composeBlockData(e);i=Object.assign(u,n)}const c=this.api.blocks.insert(e,i,void 0,o,void 0,s.isEmpty);c.call(co.APPEND_CALLBACK),this.api.caret.setToBlock(o),this.emit("toolbox-block-added",{block:c}),this.api.toolbar.close()}};GA([pc],qb.prototype,"toolsToBeDisplayed");GA([pc],qb.prototype,"toolboxItemsToBeDisplayed");let iG=qb;const QA="block hovered";async function aG(t,e){const n=navigator.keyboard;if(!n)return e;try{return(await n.getLayoutMap()).get(t)||e}catch(r){return console.error(r),e}}class lG extends st{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){dt("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){dt("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){dt("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI;let s;const o=20,i=e.firstInput,c=n.getBoundingClientRect(),u=i!==void 0?i.getBoundingClientRect():null,h=u!==null?u.top-c.top:null,f=h!==null?h>o:void 0;if(r)s=n.offsetTop+n.offsetHeight;else if(i===void 0||f){const m=parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);s=n.offsetTop+m}else{const m=VK(i),g=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);s=n.offsetTop+m-g+8+h}this.nodes.wrapper.style.top=`${Math.floor(s)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,n;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(n=this.toolboxInstance)==null||n.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=pe.make("div",this.CSS.toolbar),["content","actions"].forEach(o=>{this.nodes[o]=pe.make("div",this.CSS[o])}),pe.append(this.nodes.wrapper,this.nodes.content),pe.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=pe.make("div",this.CSS.plusButton,{innerHTML:FX}),pe.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{Dp(!0),this.plusButtonClicked()},!1);const e=pe.make("div");e.appendChild(document.createTextNode(zn.ui(gr.ui.toolbar.toolbox,"Add"))),e.appendChild(pe.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),Lp(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=pe.make("span",this.CSS.settingsToggler,{innerHTML:BX}),pe.append(this.nodes.actions,this.nodes.settingsToggler);const n=pe.make("div"),r=pe.text(zn.ui(gr.ui.blockTunes.toggler,"Click to tune")),s=await aG("Slash","/");n.appendChild(r),n.appendChild(pe.make("div",this.CSS.plusButtonShortcut,{textContent:$b(`CMD + ${s}`)})),Lp(this.nodes.settingsToggler,n,{hidingDelay:400}),pe.append(this.nodes.actions,this.makeToolbox()),pe.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),pe.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new iG({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:zn.ui(gr.ui.popover,"Filter"),nothingFound:zn.ui(gr.ui.popover,"Nothing found")}}),this.toolboxInstance.on($f.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on($f.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on($f.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,s=n.getBlockById(e.id);s.inputs.length===0&&(s===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var n;e.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),Dp(!0)},!0),mc()||this.eventsDispatcher.on(QA,e=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var fa=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(fa||{}),zf=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(zf||{}),ZA=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(ZA||{}),Cl=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(Cl||{}),$p=(t=>(t.IsInline="isInline",t.Title="title",t.IsReadOnlySupported="isReadOnlySupported",t))($p||{}),l0=(t=>(t.IsTune="isTune",t))(l0||{});let Yb=class{constructor({name:e,constructable:n,config:r,api:s,isDefault:o,isInternal:i=!1,defaultPlaceholder:c}){this.api=s,this.name=e,this.constructable=n,this.config=r,this.isDefault=o,this.isInternal=i,this.defaultPlaceholder=c}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(Pt(this.constructable.reset))return this.constructable.reset()}prepare(){if(Pt(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===fa.Inline}isBlock(){return this.type===fa.Block}isTune(){return this.type===fa.Tune}};class cG extends st{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=mc()?20:6,this.tools=new Map,window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1){e&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var e,n;if(this.opened){for(const[r,s]of this.tools){const o=this.getToolShortcut(r.name);o!==void 0&&ql.remove(this.Editor.UI.nodes.redactor,o),Pt(s.clear)&&s.clear()}this.tools=new Map,this.reset(),this.opened=!1,(e=this.popover)==null||e.hide(),(n=this.popover)==null||n.destroy(),this.popover=null}}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){var e;this.removeAllNodes(),(e=this.popover)==null||e.destroy(),this.popover=null}make(){this.nodes.wrapper=pe.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),pe.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var e;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy(),this.createToolsInstances();const n=await this.getPopoverItems();this.popover=new GX({items:n,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:zn.ui(gr.ui.popover,"Nothing found"),search:zn.ui(gr.ui.popover,"Filter")}}),this.move(this.popover.size.width),(e=this.nodes.wrapper)==null||e.append(this.popover.getElement()),this.popover.show()}move(e){const n=Ue.rect,r=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),s={x:n.x-r.x,y:n.y+n.height-r.top+this.toolbarVerticalMargin};s.x+e+r.x>this.Editor.UI.contentRect.right&&(s.x=this.Editor.UI.contentRect.right-e-r.x),this.nodes.wrapper.style.left=Math.floor(s.x)+"px",this.nodes.wrapper.style.top=Math.floor(s.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],n=Ue.get(),r=Ue.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const s=pe.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(s===null||n!==null&&e.includes(s.tagName))return!1;const o=this.Editor.BlockManager.getBlock(n.anchorNode);return!o||this.getTools().some(i=>o.tool.inlineTools.has(i.name))===!1?!1:s.closest("[contenteditable]")!==null}getTools(){const e=this.Editor.BlockManager.currentBlock;return e?Array.from(e.tool.inlineTools.values()).filter(n=>!(this.Editor.ReadOnly.isEnabled&&n.isReadOnlySupported!==!0)):[]}createToolsInstances(){this.tools=new Map,this.getTools().forEach(e=>{const n=e.create();this.tools.set(e,n)})}async getPopoverItems(){const e=[];let n=0;for(const[r,s]of this.tools){const o=await s.render(),i=this.getToolShortcut(r.name);if(i!==void 0)try{this.enableShortcuts(r.name,i)}catch{}const c=i!==void 0?$b(i):void 0,u=zn.t(gr.toolNames,r.title||Rp(r.name));[o].flat().forEach(h=>{var f,m;const g={name:r.name,onActivate:()=>{this.toolClicked(s)},hint:{title:u,description:c}};if(pe.isElement(h)){const y={...g,element:h,type:Nt.Html};if(Pt(s.renderActions)){const v=s.renderActions();y.children={isOpen:(f=s.checkState)==null?void 0:f.call(s,Ue.get()),isFlippable:!1,items:[{type:Nt.Html,element:v}]}}else(m=s.checkState)==null||m.call(s,Ue.get());e.push(y)}else if(h.type===Nt.Html)e.push({...g,...h,type:Nt.Html});else if(h.type===Nt.Separator)e.push({type:Nt.Separator});else{const y={...g,...h,type:Nt.Default};"children"in y&&n!==0&&e.push({type:Nt.Separator}),e.push(y),"children"in y&&n<this.tools.size-1&&e.push({type:Nt.Separator})}}),n++}return e}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),s=n.internal.inlineTools;return Array.from(s.keys()).includes(e)?this.inlineTools[e][ZA.Shortcut]:r?.shortcut}enableShortcuts(e,n){ql.add({name:n,handler:r=>{var s;const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(r.preventDefault(),(s=this.popover)==null||s.activateItemByName(e))},on:document})}toolClicked(e){var n;const r=Ue.range;(n=e.surround)==null||n.call(e,r),this.checkToolsState()}checkToolsState(){var e;(e=this.tools)==null||e.forEach(n=>{var r;(r=n.checkState)==null||r.call(n,Ue.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}}function eR(){const t=window.getSelection();if(t===null)return[null,0];let e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],n=e.textContent.length)),[e,n])}function tR(t,e,n,r){const s=document.createRange();r==="left"?(s.setStart(t,0),s.setEnd(e,n)):(s.setStart(e,n),s.setEnd(t,t.childNodes.length));const o=s.cloneContents(),i=document.createElement("div");i.appendChild(o);const c=i.textContent||"";return WK(c)}function Uf(t){const e=pe.getDeepestNode(t);if(e===null||pe.isEmpty(t))return!0;if(pe.isNativeInput(e))return e.selectionEnd===0;if(pe.isEmpty(t))return!0;const[n,r]=eR();return n===null?!1:tR(t,n,r,"left")}function Hf(t){const e=pe.getDeepestNode(t,!0);if(e===null)return!0;if(pe.isNativeInput(e))return e.selectionEnd===e.value.length;const[n,r]=eR();return n===null?!1:tR(t,n,r,"right")}var nR={},Kb={},Hm={},Ia={},Xb={},Gb={};Object.defineProperty(Gb,"__esModule",{value:!0});Gb.allInputsSelector=dG;function dG(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=Gb;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(Xb);var Da={},Jb={};Object.defineProperty(Jb,"__esModule",{value:!0});Jb.isNativeInput=uG;function uG(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=Jb;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(Da);var rR={},Qb={};Object.defineProperty(Qb,"__esModule",{value:!0});Qb.append=hG;function hG(t,e){Array.isArray(e)?e.forEach(function(n){t.appendChild(n)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=Qb;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(rR);var Zb={},ew={};Object.defineProperty(ew,"__esModule",{value:!0});ew.blockElements=fG;function fG(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=ew;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(Zb);var sR={},tw={};Object.defineProperty(tw,"__esModule",{value:!0});tw.calculateBaseline=pG;function pG(t){var e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,s=parseFloat(e.paddingTop),o=parseFloat(e.borderTopWidth),i=parseFloat(e.marginTop),c=n*.8,u=(r-n)/2,h=i+o+s+u+c;return h}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=tw;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(sR);var oR={},nw={},rw={},sw={};Object.defineProperty(sw,"__esModule",{value:!0});sw.isContentEditable=mG;function mG(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=sw;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(rw);Object.defineProperty(nw,"__esModule",{value:!0});nw.canSetCaret=vG;var gG=Da,xG=rw;function vG(t){var e=!0;if((0,gG.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,xG.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=nw;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(oR);var Wm={},ow={};function yG(t,e,n){const r=n.value!==void 0?"value":"get",s=n[r],o=`#${e}Cache`;if(n[r]=function(...i){return this[o]===void 0&&(this[o]=s.apply(this,i)),this[o]},r==="get"&&n.set){const i=n.set;n.set=function(c){delete t[o],i.apply(this,c)}}return n}function iR(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e!==void 0&&(t[e]=!0),t}function iw(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function bG(t){return!iw(t)}const wG=()=>typeof window<"u"&&window.navigator!==null&&iw(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function kG(t){const e=iR();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function SG(t){return t[0].toUpperCase()+t.slice(1)}function CG(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const n=window.getSelection(),r=document.createRange();if(r.selectNode(e),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(e)}function _G(t,e,n){let r;return(...s)=>{const o=this,i=()=>{r=void 0,n!==!0&&t.apply(o,s)},c=n===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(i,e),c&&t.apply(o,s)}}function _i(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function EG(t){return _i(t)==="boolean"}function aR(t){return _i(t)==="function"||_i(t)==="asyncfunction"}function NG(t){return aR(t)&&/^\s*class\s+/.test(t.toString())}function jG(t){return _i(t)==="number"}function Wf(t){return _i(t)==="object"}function TG(t){return Promise.resolve(t)===t}function MG(t){return _i(t)==="string"}function OG(t){return _i(t)==="undefined"}function c0(t,...e){if(!e.length)return t;const n=e.shift();if(Wf(t)&&Wf(n))for(const r in n)Wf(n[r])?(t[r]===void 0&&Object.assign(t,{[r]:{}}),c0(t[r],n[r])):Object.assign(t,{[r]:n[r]});return c0(t,...e)}function PG(t,e,n){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&console.warn(r)}function AG(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function RG(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const IG={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},DG={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};let LG=class{constructor(){this.completed=Promise.resolve()}add(t){return new Promise((e,n)=>{this.completed=this.completed.then(t).then(e).catch(n)})}};function BG(t,e,n=void 0){let r,s,o,i=null,c=0;n||(n={});const u=function(){c=n.leading===!1?0:Date.now(),i=null,o=t.apply(r,s),i===null&&(r=s=null)};return function(){const h=Date.now();!c&&n.leading===!1&&(c=h);const f=e-(h-c);return r=this,s=arguments,f<=0||f>e?(i&&(clearTimeout(i),i=null),c=h,o=t.apply(r,s),i===null&&(r=s=null)):!i&&n.trailing!==!1&&(i=setTimeout(u,f)),o}}const FG=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:LG,beautifyShortcut:kG,cacheable:yG,capitalize:SG,copyTextToClipboard:CG,debounce:_G,deepMerge:c0,deprecationAssert:PG,getUserOS:iR,getValidUrl:AG,isBoolean:EG,isClass:NG,isEmpty:bG,isFunction:aR,isIosDevice:wG,isNumber:jG,isObject:Wf,isPrintableKey:RG,isPromise:TG,isString:MG,isUndefined:OG,keyCodes:IG,mouseButtons:DG,notEmpty:iw,throttle:BG,typeOf:_i},Symbol.toStringTag,{value:"Module"})),aw=MK(FG);Object.defineProperty(ow,"__esModule",{value:!0});ow.containsOnlyInlineElements=UG;var $G=aw,zG=Zb;function UG(t){var e;(0,$G.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var n=function(r){return!(0,zG.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(n)};return Array.from(e.children).every(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=ow;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(Wm);var lR={},lw={},Vm={},cw={};Object.defineProperty(cw,"__esModule",{value:!0});cw.make=HG;function HG(t,e,n){var r;e===void 0&&(e=null),n===void 0&&(n={});var s=document.createElement(t);if(Array.isArray(e)){var o=e.filter(function(c){return c!==void 0});(r=s.classList).add.apply(r,o)}else e!==null&&s.classList.add(e);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i]);return s}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=cw;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})(Vm);Object.defineProperty(lw,"__esModule",{value:!0});lw.fragmentToString=VG;var WG=Vm;function VG(t){var e=(0,WG.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=lw;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(lR);var cR={},dw={};Object.defineProperty(dw,"__esModule",{value:!0});dw.getContentLength=YG;var qG=Da;function YG(t){var e,n;return(0,qG.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(n=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=dw;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(cR);var uw={},hw={},mE=Kd&&Kd.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(hw,"__esModule",{value:!0});hw.getDeepestBlockElements=dR;var KG=Wm;function dR(t){return(0,KG.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,n){return mE(mE([],e,!0),dR(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=hw;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(uw);var uR={},fw={},qm={},pw={};Object.defineProperty(pw,"__esModule",{value:!0});pw.isLineBreakTag=XG;function XG(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=pw;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(qm);var Ym={},mw={};Object.defineProperty(mw,"__esModule",{value:!0});mw.isSingleTag=GG;function GG(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=mw;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(Ym);Object.defineProperty(fw,"__esModule",{value:!0});fw.getDeepestNode=hR;var JG=Da,QG=qm,ZG=Ym;function hR(t,e){e===void 0&&(e=!1);var n=e?"lastChild":"firstChild",r=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[n]){var s=t[n];if((0,ZG.isSingleTag)(s)&&!(0,JG.isNativeInput)(s)&&!(0,QG.isLineBreakTag)(s))if(s[r])s=s[r];else if(s.parentNode!==null&&s.parentNode[r])s=s.parentNode[r];else return s.parentNode;return hR(s,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=fw;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(uR);var fR={},gw={},rf=Kd&&Kd.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(gw,"__esModule",{value:!0});gw.findAllInputs=sJ;var eJ=Wm,tJ=uw,nJ=Xb,rJ=Da;function sJ(t){return Array.from(t.querySelectorAll((0,nJ.allInputsSelector)())).reduce(function(e,n){return(0,rJ.isNativeInput)(n)||(0,eJ.containsOnlyInlineElements)(n)?rf(rf([],e,!0),[n],!1):rf(rf([],e,!0),(0,tJ.getDeepestBlockElements)(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=gw;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(fR);var pR={},xw={};Object.defineProperty(xw,"__esModule",{value:!0});xw.isCollapsedWhitespaces=oJ;function oJ(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=xw;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(pR);var vw={},yw={};Object.defineProperty(yw,"__esModule",{value:!0});yw.isElement=aJ;var iJ=aw;function aJ(t){return(0,iJ.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=yw;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(vw);var mR={},bw={},ww={},kw={};Object.defineProperty(kw,"__esModule",{value:!0});kw.isLeaf=lJ;function lJ(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=kw;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(ww);var Sw={},Cw={};Object.defineProperty(Cw,"__esModule",{value:!0});Cw.isNodeEmpty=fJ;var cJ=qm,dJ=vw,uJ=Da,hJ=Ym;function fJ(t,e){var n="";return(0,hJ.isSingleTag)(t)&&!(0,cJ.isLineBreakTag)(t)?!1:((0,dJ.isElement)(t)&&(0,uJ.isNativeInput)(t)?n=t.value:t.textContent!==null&&(n=t.textContent.replace("","")),e!==void 0&&(n=n.replace(new RegExp(e,"g"),"")),n.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=Cw;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(Sw);Object.defineProperty(bw,"__esModule",{value:!0});bw.isEmpty=gJ;var pJ=ww,mJ=Sw;function gJ(t,e){t.normalize();for(var n=[t];n.length>0;){var r=n.shift();if(r){if(t=r,(0,pJ.isLeaf)(t)&&!(0,mJ.isNodeEmpty)(t,e))return!1;n.push.apply(n,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=bw;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(mR);var gR={},_w={};Object.defineProperty(_w,"__esModule",{value:!0});_w.isFragment=vJ;var xJ=aw;function vJ(t){return(0,xJ.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=_w;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(gR);var xR={},Ew={};Object.defineProperty(Ew,"__esModule",{value:!0});Ew.isHTMLString=bJ;var yJ=Vm;function bJ(t){var e=(0,yJ.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=Ew;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(xR);var vR={},Nw={};Object.defineProperty(Nw,"__esModule",{value:!0});Nw.offset=wJ;function wJ(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,s=e.top+r,o=e.left+n;return{top:s,left:o,bottom:s+e.height,right:o+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=Nw;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(vR);var yR={},jw={};Object.defineProperty(jw,"__esModule",{value:!0});jw.prepend=kJ;function kJ(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(n){return t.prepend(n)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=jw;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(yR);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=Xb;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var n=Da;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var r=rR;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return r.append}});var s=Zb;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return s.blockElements}});var o=sR;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return o.calculateBaseline}});var i=oR;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return i.canSetCaret}});var c=Wm;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return c.containsOnlyInlineElements}});var u=lR;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return u.fragmentToString}});var h=cR;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return h.getContentLength}});var f=uw;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return f.getDeepestBlockElements}});var m=uR;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return m.getDeepestNode}});var g=fR;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return g.findAllInputs}});var y=pR;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return y.isCollapsedWhitespaces}});var v=rw;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return v.isContentEditable}});var b=vw;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return b.isElement}});var k=mR;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return k.isEmpty}});var C=gR;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return C.isFragment}});var _=xR;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return _.isHTMLString}});var T=ww;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return T.isLeaf}});var N=Sw;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return N.isNodeEmpty}});var j=qm;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return j.isLineBreakTag}});var P=Ym;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return P.isSingleTag}});var I=Vm;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return I.make}});var O=vR;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return O.offset}});var L=yR;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return L.prepend}})})(Ia);var Km={};Object.defineProperty(Km,"__esModule",{value:!0});Km.getContenteditableSlice=CJ;var SJ=Ia;function CJ(t,e,n,r,s){var o;s===void 0&&(s=!1);var i=document.createRange();if(r==="left"?(i.setStart(t,0),i.setEnd(e,n)):(i.setStart(e,n),i.setEnd(t,t.childNodes.length)),s===!0){var c=i.extractContents();return(0,SJ.fragmentToString)(c)}var u=i.cloneContents(),h=document.createElement("div");h.appendChild(u);var f=(o=h.textContent)!==null&&o!==void 0?o:"";return f}Object.defineProperty(Hm,"__esModule",{value:!0});Hm.checkContenteditableSliceForEmptiness=NJ;var _J=Ia,EJ=Km;function NJ(t,e,n,r){var s=(0,EJ.getContenteditableSlice)(t,e,n,r);return(0,_J.isCollapsedWhitespaces)(s)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkContenteditableSliceForEmptiness=void 0;var e=Hm;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}})})(Kb);var bR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContenteditableSlice=void 0;var e=Km;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return e.getContenteditableSlice}})})(bR);var wR={},Tw={};Object.defineProperty(Tw,"__esModule",{value:!0});Tw.focus=TJ;var jJ=Ia;function TJ(t,e){var n,r;if(e===void 0&&(e=!0),(0,jJ.isNativeInput)(t)){t.focus();var s=e?0:t.value.length;t.setSelectionRange(s,s)}else{var o=document.createRange(),i=window.getSelection();if(!i)return;var c=function(g){var y=document.createTextNode("");g.appendChild(y),o.setStart(y,0),o.setEnd(y,0)},u=function(g){return g!=null},h=t.childNodes,f=e?h[0]:h[h.length-1];if(u(f)){for(;u(f)&&f.nodeType!==Node.TEXT_NODE;)f=e?f.firstChild:f.lastChild;if(u(f)&&f.nodeType===Node.TEXT_NODE){var m=(r=(n=f.textContent)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0,s=e?0:m;o.setStart(f,s),o.setEnd(f,s)}else c(t)}else c(t);i.removeAllRanges(),i.addRange(o)}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.focus=void 0;var e=Tw;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return e.focus}})})(wR);var Mw={},Xm={};Object.defineProperty(Xm,"__esModule",{value:!0});Xm.getCaretNodeAndOffset=MJ;function MJ(){var t=window.getSelection();if(t===null)return[null,0];var e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]!==void 0?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],e.textContent!==null&&(n=e.textContent.length))),[e,n])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCaretNodeAndOffset=void 0;var e=Xm;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return e.getCaretNodeAndOffset}})})(Mw);var kR={},Gm={};Object.defineProperty(Gm,"__esModule",{value:!0});Gm.getRange=OJ;function OJ(){var t=window.getSelection();return t&&t.rangeCount?t.getRangeAt(0):null}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRange=void 0;var e=Gm;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return e.getRange}})})(kR);var SR={},Ow={};Object.defineProperty(Ow,"__esModule",{value:!0});Ow.isCaretAtEndOfInput=RJ;var gE=Ia,PJ=Mw,AJ=Kb;function RJ(t){var e=(0,gE.getDeepestNode)(t,!0);if(e===null)return!0;if((0,gE.isNativeInput)(e))return e.selectionEnd===e.value.length;var n=(0,PJ.getCaretNodeAndOffset)(),r=n[0],s=n[1];return r===null?!1:(0,AJ.checkContenteditableSliceForEmptiness)(t,r,s,"right")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtEndOfInput=void 0;var e=Ow;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return e.isCaretAtEndOfInput}})})(SR);var CR={},Pw={};Object.defineProperty(Pw,"__esModule",{value:!0});Pw.isCaretAtStartOfInput=LJ;var sf=Ia,IJ=Xm,DJ=Hm;function LJ(t){var e=(0,sf.getDeepestNode)(t);if(e===null||(0,sf.isEmpty)(t))return!0;if((0,sf.isNativeInput)(e))return e.selectionEnd===0;if((0,sf.isEmpty)(t))return!0;var n=(0,IJ.getCaretNodeAndOffset)(),r=n[0],s=n[1];return r===null?!1:(0,DJ.checkContenteditableSliceForEmptiness)(t,r,s,"left")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtStartOfInput=void 0;var e=Pw;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return e.isCaretAtStartOfInput}})})(CR);var _R={},Aw={};Object.defineProperty(Aw,"__esModule",{value:!0});Aw.save=$J;var BJ=Ia,FJ=Gm;function $J(){var t=(0,FJ.getRange)(),e=(0,BJ.make)("span");if(e.id="cursor",e.hidden=!0,!!t)return t.insertNode(e),function(){var n=window.getSelection();n&&(t.setStartAfter(e),t.setEndAfter(e),n.removeAllRanges(),n.addRange(t),setTimeout(function(){e.remove()},150))}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=void 0;var e=Aw;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return e.save}})})(_R);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=t.isCaretAtStartOfInput=t.isCaretAtEndOfInput=t.getRange=t.getCaretNodeAndOffset=t.focus=t.getContenteditableSlice=t.checkContenteditableSliceForEmptiness=void 0;var e=Kb;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}});var n=bR;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return n.getContenteditableSlice}});var r=wR;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return r.focus}});var s=Mw;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return s.getCaretNodeAndOffset}});var o=kR;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return o.getRange}});var i=SR;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return i.isCaretAtEndOfInput}});var c=CR;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return c.isCaretAtStartOfInput}});var u=_R;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return u.save}})})(nR);class zJ extends st{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case We.BACKSPACE:this.backspace(e);break;case We.DELETE:this.delete(e);break;case We.ENTER:this.enter(e);break;case We.DOWN:case We.RIGHT:this.arrowRightAndDown(e);break;case We.UP:case We.LEFT:this.arrowLeftAndUp(e);break;case We.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(e),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&SA(e.keyCode)&&(this.Editor.Toolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:s}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const o=r.removeSelectedBlocks(),i=r.insertDefaultBlockAtIndex(o,!0);s.setToBlock(i,s.positions.START),n.clearSelection(e)})}tabPressed(e){const{InlineToolbar:n,Caret:r}=this.Editor;n.opened||(e.shiftKey?r.navigatePrevious(!0):r.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(e){!this.Editor.UI.nodes.wrapper.contains(e.target)||!this.Editor.BlockManager.currentBlock.isEmpty||(e.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(e){const{BlockManager:n,UI:r}=this.Editor,s=n.currentBlock;if(s===void 0||s.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey&&!s0)return;let o=s;s.currentInput!==void 0&&Uf(s.currentInput)&&!s.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):s.currentInput&&Hf(s.currentInput)?o=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):o=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:s,previousBlock:o}=n;if(!(s===void 0||!Ue.isCollapsed||!s.currentInput||!Uf(s.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),s.currentInput!==s.firstInput){r.navigatePrevious();return}if(o!==null){if(o.isEmpty){n.removeBlock(o);return}if(s.isEmpty){n.removeBlock(s);const i=n.currentBlock;r.setToBlock(i,r.positions.END);return}dE(o,s)?this.mergeBlocks(o,s):r.setToBlock(o,r.positions.END)}}}delete(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:s,nextBlock:o}=n;if(!(!Ue.isCollapsed||!Hf(s.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),s.currentInput!==s.lastInput){r.navigateNext();return}if(o!==null){if(o.isEmpty){n.removeBlock(o);return}if(s.isEmpty){n.removeBlock(s),r.setToBlock(o,r.positions.START);return}dE(s,o)?this.mergeBlocks(s,o):r.setToBlock(o,r.positions.START)}}}mergeBlocks(e,n){const{BlockManager:r,Toolbar:s}=this.Editor;e.lastInput!==void 0&&(nR.focus(e.lastInput,!1),r.mergeBlocks(e,n).then(()=>{s.close()}))}arrowRightAndDown(e){const n=Bp.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===We.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.Toolbar.close();const{currentBlock:r}=this.Editor.BlockManager,s=(r?.currentInput!==void 0?Hf(r.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===We.DOWN&&s){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===We.DOWN||e.keyCode===We.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}Ap(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(Bp.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===We.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const{currentBlock:n}=this.Editor.BlockManager,r=(n?.currentInput!==void 0?Uf(n.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===We.UP&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===We.UP||e.keyCode===We.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}Ap(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===We.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===We.ENTER&&this.Editor.BlockSettings.opened,s=e.keyCode===We.ENTER&&this.Editor.InlineToolbar.opened,o=e.keyCode===We.TAB;return!(e.shiftKey||o||n||r||s)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}let Gv=class{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return CA(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];pe.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],s=e-1,o=Math.max(0,s),i=this.blocks[o];e>0?this.insertToDOM(r,"afterend",i):this.insertToDOM(r,"beforebegin",i),this.blocks.splice(e,0,r);const c=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(co.MOVED,c)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(co.REMOVED));const s=r?1:0;if(this.blocks.splice(e,s,n),e>0){const o=this.blocks[e-1];this.insertToDOM(n,"afterend",o)}else{const o=this.blocks[e+1];o?this.insertToDOM(n,"beforebegin",o):this.insertToDOM(n)}}replace(e,n){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(n.holder),this.blocks[e]=n}insertMany(e,n){const r=new DocumentFragment;for(const s of e)r.appendChild(s.holder);if(this.length>0){if(n>0){const s=Math.min(n-1,this.length-1);this.blocks[s].holder.after(r)}else n===0&&this.workingArea.prepend(r);this.blocks.splice(n,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(r);e.forEach(s=>s.call(co.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(co.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(co.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(co.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}};const xE="block-removed",vE="block-added",UJ="block-moved",yE="block-changed";class HJ{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}class WJ extends st{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Gv(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Gv.set,get:Gv.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:s={}}){const o=this.Editor.ReadOnly.isEnabled,i=this.Editor.Tools.blockTools.get(e),c=new ho({id:r,data:n,tool:i,api:this.Editor.API,readOnly:o,tunesData:s},this.eventsDispatcher);return o||window.requestIdleCallback(()=>{this.bindBlockEvents(c)},{timeout:2e3}),c}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:s,needToFocus:o=!0,replace:i=!1,tunes:c={}}={}){let u=s;u===void 0&&(u=this.currentBlockIndex+(i?0:1));const h=this.composeBlock({id:e,tool:n,data:r,tunes:c});return i&&this.blockDidMutated(xE,this.getBlockByIndex(u),{index:u}),this._blocks.insert(u,h,i),this.blockDidMutated(vE,h,{index:u}),o?this.currentBlockIndex=u:u<=this.currentBlockIndex&&this.currentBlockIndex++,h}insertMany(e,n=0){this._blocks.insertMany(e,n)}async update(e,n,r){if(!n&&!r)return e;const s=await e.data,o=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},s,n??{}),tunes:r??e.tunes}),i=this.getBlockIndex(e);return this._blocks.replace(i,o),this.blockDidMutated(yE,o,{index:i}),o}replace(e,n,r){const s=this.getBlockIndex(e);return this.insert({tool:n,data:r,index:s,replace:!0})}paste(e,n,r=!1){const s=this.insert({tool:e,replace:r});try{window.requestIdleCallback(()=>{s.call(co.ON_PASTE,n)})}catch(o){dt(`${e}: onPaste callback call is failed`,"error",o)}return s}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(vE,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){let r;if(e.name===n.name&&e.mergeable){const s=await n.data;if($r(s)){console.error("Could not merge Block. Failed to extract original Block data.");return}const[o]=zb([s],e.tool.sanitizeConfig);r=o}else if(e.mergeable&&Ip(n,"export")&&Ip(e,"import")){const s=await n.exportDataAsString(),o=Ms(s,e.tool.sanitizeConfig);r=uE(o,e.tool.conversionConfig)}r!==void 0&&(await e.mergeWith(r),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(e))}removeBlock(e,n=!0){return new Promise(r=>{const s=this._blocks.indexOf(e);if(!this.validateIndex(s))throw new Error("Can't find a Block to remove");this._blocks.remove(s),e.destroy(),this.blockDidMutated(xE,e,{index:s}),this.currentBlockIndex>=s&&this.currentBlockIndex--,this.blocks.length?s===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),n&&this.insert()),r()})}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=pe.make("div");n.appendChild(e);const r={text:pe.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){pe.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${ho.CSS.wrapper}`),s=n.indexOf(r);if(s>=0)return this._blocks[s]}setCurrentBlockByChildNode(e){pe.isElement(e)||(e=e.parentNode);const n=e.closest(`.${ho.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;pe.isElement(e)||(e=e.parentNode);const n=e.closest(`.${ho.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){dt("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){dt("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(UJ,this.currentBlock,{fromIndex:n,toIndex:e})}async convert(e,n,r){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const s=this.Editor.Tools.blockTools.get(n);if(!s)throw new Error(`Could not convert Block. Tool ${n} not found.`);const o=await e.exportDataAsString(),i=Ms(o,s.sanitizeConfig);let c=uE(i,s.conversionConfig,s.settings);return r&&(c=Object.assign(c,r)),this.replace(e,s.name,c)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(e=!1){const n=new HJ;[...this.blocks].forEach(r=>{n.add(async()=>{await this.removeBlock(r,!1)})}),await n.completed,this.unsetCurrentBlock(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(yE,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const s=new CustomEvent(e,{detail:{target:new lo(n),...r}});return this.eventsDispatcher.emit(OA,{event:s}),n}}class VJ extends st{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new Ue,ql.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){Ue.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:s,RectangleSelection:o}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const i=e&&e instanceof KeyboardEvent,c=i&&SA(e.keyCode);if(this.anyBlockSelected&&i&&c&&!Ue.isSelectionExists){const u=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(u,!0),s.setToBlock(r.currentBlock),Ap(()=>{const h=e.key;s.insertContentAtCaretPosition(h.length>1?"":h)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||o.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=pe.make("div");this.selectedBlocks.forEach(o=>{const i=Ms(o.holder.innerHTML,this.sanitizerConfig),c=pe.make("p");c.innerHTML=i,n.appendChild(c)});const r=Array.from(n.childNodes).map(o=>o.textContent).join(`

`),s=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",s),Promise.all(this.selectedBlocks.map(o=>o.save())).then(o=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(o))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor,r=n.getBlockByIndex(e);r!==void 0&&this.selectBlock(r)}selectBlock(e){this.selection.save(),Ue.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){ql.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),pe.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target),r=n.inputs;if(r.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(r.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(n),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),Ue.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}let qJ=class d0 extends st{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(e,n=this.positions.DEFAULT,r=0){var s;const{BlockManager:o,BlockSelection:i}=this.Editor;if(i.clearSelection(),!e.focusable){(s=window.getSelection())==null||s.removeAllRanges(),i.selectBlock(e),o.currentBlock=e;return}let c;switch(n){case this.positions.START:c=e.firstInput;break;case this.positions.END:c=e.lastInput;break;default:c=e.currentInput}if(!c)return;let u,h=r;if(n===this.positions.START)u=pe.getDeepestNode(c,!1),h=0;else if(n===this.positions.END)u=pe.getDeepestNode(c,!0),h=pe.getContentLength(u);else{const{node:f,offset:m}=pe.getNodeByOffset(c,r);f?(u=f,h=m):(u=pe.getDeepestNode(c,!1),h=0)}this.set(u,h),o.setCurrentBlockByChildNode(e.holder),o.currentBlock.currentInput=c}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:s}=this.Editor.BlockManager,o=pe.getDeepestNode(e);switch(n){case this.positions.START:this.set(o,0);break;case this.positions.END:this.set(o,pe.getContentLength(o));break;default:r&&this.set(o,r)}s.currentInput=e}set(e,n=0){const{top:r,bottom:s}=Ue.setCursor(e,n),{innerHeight:o}=window;r<0?window.scrollBy(0,r-30):s>o&&window.scrollBy(0,s-o+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=Ue.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(pe.isNativeInput(r)){const s=r,o=document.createDocumentFragment(),i=s.value.substring(0,s.selectionStart),c=s.value.substring(s.selectionStart);return o.textContent=c,s.value=i,o}else{const s=n.cloneRange();return s.selectNodeContents(r),s.setStart(n.endContainer,n.endOffset),s.extractContents()}}}navigateNext(e=!1){const{BlockManager:n}=this.Editor,{currentBlock:r,nextBlock:s}=n;if(r===void 0)return!1;const{nextInput:o,currentInput:i}=r,c=i!==void 0?Hf(i):void 0;let u=s;const h=e||c||!r.focusable;if(o&&h)return this.setToInput(o,this.positions.START),!0;if(u===null){if(r.tool.isDefault||!h)return!1;u=n.insertAtEnd()}return h?(this.setToBlock(u,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:n,previousBlock:r}=this.Editor.BlockManager;if(!n)return!1;const{previousInput:s,currentInput:o}=n,i=o!==void 0?Uf(o):void 0,c=e||i||!n.focusable;return s&&c?(this.setToInput(s,this.positions.END),!0):r!==null&&c?(this.setToBlock(r,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(d0.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${d0.CSS.shadowCaret}`);if(!n)return;new Ue().expandToTag(n);const r=document.createRange();r.selectNode(n),r.extractContents()}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),s=Ue.get(),o=Ue.range;r.innerHTML=e,Array.from(r.childNodes).forEach(h=>n.appendChild(h)),n.childNodes.length===0&&n.appendChild(new Text);const i=n.lastChild;o.deleteContents(),o.insertNode(n);const c=document.createRange(),u=i.nodeType===Node.TEXT_NODE?i:i.firstChild;u!==null&&u.textContent!==null&&c.setStart(u,u.textContent.length),s.removeAllRanges(),s.addRange(c)}};class YJ extends st{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const s=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,o=n.getBlockByChildNode(e.target);if(!(!s||!o)&&o!==s){if(s===this.firstSelectedBlock){Ue.get().removeAllRanges(),s.selected=!0,o.selected=!0,r.clearCache();return}if(o===this.firstSelectedBlock){s.selected=!1,o.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(s,o),this.lastSelectedBlock=o}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==PK.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),Ue.get().removeAllRanges());const s=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),o=n.blocks[s];o&&(this.lastSelectedBlock.selected!==o.selected?(o.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=o,this.Editor.InlineToolbar.close(),o.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:s}=this.Editor,o=n.blocks.indexOf(this.firstSelectedBlock),i=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&o>-1&&i>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case We.DOWN:case We.RIGHT:s.setToBlock(n.blocks[Math.max(o,i)],s.positions.END);break;case We.UP:case We.LEFT:s.setToBlock(n.blocks[Math.min(o,i)],s.positions.START);break;default:s.setToBlock(n.blocks[Math.max(o,i)],s.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;Ue.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:s}=this.Editor,o=r.blocks.indexOf(e),i=r.blocks.indexOf(n),c=e.selected!==n.selected;for(let u=Math.min(o,i);u<=Math.max(o,i);u++){const h=r.blocks[u];h!==this.firstSelectedBlock&&h!==(c?e:n)&&(r.blocks[u].selected=!r.blocks[u].selected,s.clearCache())}}}class KJ extends st{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Paste:r,Caret:s}=this.Editor;e.preventDefault(),n.blocks.forEach(i=>{i.dropTarget=!1}),Ue.isAtEditor&&!Ue.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const o=n.setCurrentBlockByChildNode(e.target);if(o)this.Editor.Caret.setToBlock(o,s.positions.END);else{const i=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(i,s.positions.END)}await r.processDataTransfer(e.dataTransfer,!0)}processDragStart(){Ue.isAtEditor&&!Ue.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}const XJ=180,GJ=400;class JJ extends st{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=GJ,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(OA,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(PA,()=>{this.disable()}),this.eventsDispatcher.on(AA,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!Pt(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(o0,{mutations:e})}}const ER=class NR extends st{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const n=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!Pt(n.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(n){dt(`Paste handling for ${e.name} Tool hasn't been set up because of the error`,"warn",n)}},this.handlePasteEvent=async e=>{const{BlockManager:n,Toolbar:r}=this.Editor,s=n.setCurrentBlockByChildNode(e.target);!s||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||s&&this.exceptionList.includes(s.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),r.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,n=!1){const{Tools:r}=this.Editor,s=e.types;if((s.includes?s.includes("Files"):s.contains("Files"))&&!$r(this.toolsFiles)){await this.processFiles(e.files);return}const o=e.getData(this.MIME_TYPE),i=e.getData("text/plain");let c=e.getData("text/html");if(o)try{this.insertEditorJSData(JSON.parse(o));return}catch{}n&&i.trim()&&c.trim()&&(c="<p>"+(c.trim()?c:i)+"</p>");const u=Object.keys(this.toolsTags).reduce((m,g)=>(m[g.toLowerCase()]=this.toolsTags[g].sanitizationConfig??{},m),{}),h=Object.assign({},u,r.getAllInlineToolsSanitizeConfig(),{br:{}}),f=Ms(c,h);!f.trim()||f.trim()===i||!pe.isHTMLString(f)?await this.processText(i):await this.processText(f,!0)}async processText(e,n=!1){const{Caret:r,BlockManager:s}=this.Editor,o=n?this.processHTML(e):this.processPlain(e);if(!o.length)return;if(o.length===1){o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop());return}const i=s.currentBlock&&s.currentBlock.tool.isDefault&&s.currentBlock.isEmpty;o.map(async(c,u)=>this.insertBlock(c,u===0&&i)),s.currentBlock&&r.setToBlock(s.currentBlock,r.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return wo(e)?[e]:wn(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const n=e.pasteConfig.tags||[],r=[];n.forEach(s=>{const o=this.collectTagNames(s);r.push(...o),o.forEach(i=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,i)){dt(`Paste handler for ${e.name} Tool on ${i} tag is skipped because it is already used by ${this.toolsTags[i].tool.name} Tool.`,"warn");return}const c=wn(s)?s[i]:null;this.toolsTags[i.toUpperCase()]={tool:e,sanitizationConfig:c}})}),this.tagsByTool[e.name]=r.map(s=>s.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:n={}}=e.pasteConfig;let{extensions:r,mimeTypes:s}=n;!r&&!s||(r&&!Array.isArray(r)&&(dt(`extensions property of the onDrop config for ${e.name} Tool should be an array`),r=[]),s&&!Array.isArray(s)&&(dt(`mimeTypes property of the onDrop config for ${e.name} Tool should be an array`),s=[]),s&&(s=s.filter(o=>LK(o)?!0:(dt(`MIME type value ${o} for the ${e.name} Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:r||[],mimeTypes:s||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||$r(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([n,r])=>{r instanceof RegExp||dt(`Pattern ${r} for ${e.name} Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:n,pattern:r,tool:e})})}isNativeBehaviour(e){return pe.isNativeInput(e)}async processFiles(e){const{BlockManager:n}=this.Editor;let r;r=await Promise.all(Array.from(e).map(o=>this.processFile(o))),r=r.filter(o=>!!o);const s=n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;r.forEach((o,i)=>{n.paste(o.type,o.event,i===0&&s)})}async processFile(e){const n=DK(e),r=Object.entries(this.toolsFiles).find(([o,{mimeTypes:i,extensions:c}])=>{const[u,h]=e.type.split("/"),f=c.find(g=>g.toLowerCase()===n.toLowerCase()),m=i.find(g=>{const[y,v]=g.split("/");return y===u&&(v===h||v==="*")});return!!f||!!m});if(!r)return;const[s]=r;return{event:this.composePasteEvent("file",{file:e}),type:s}}processHTML(e){const{Tools:n}=this.Editor,r=pe.make("DIV");return r.innerHTML=e,this.getNodes(r).map(s=>{let o,i=n.defaultTool,c=!1;switch(s.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:o=pe.make("div"),o.appendChild(s);break;case Node.ELEMENT_NODE:o=s,c=!0,this.toolsTags[o.tagName]&&(i=this.toolsTags[o.tagName].tool);break}const{tags:u}=i.pasteConfig||{tags:[]},h=u.reduce((g,y)=>(this.collectTagNames(y).forEach(v=>{const b=wn(y)?y[v]:null;g[v.toLowerCase()]=b||{}}),g),{}),f=Object.assign({},h,i.baseSanitizeConfig);if(o.tagName.toLowerCase()==="table"){const g=Ms(o.outerHTML,f);o=pe.make("div",void 0,{innerHTML:g}).firstChild}else o.innerHTML=Ms(o.innerHTML,f);const m=this.composePasteEvent("tag",{data:o});return{content:o,isBlock:c,tool:i.name,event:m}}).filter(s=>{const o=pe.isEmpty(s.content),i=pe.isSingleTag(s.content);return!o||i})}processPlain(e){const{defaultBlock:n}=this.config;if(!e)return[];const r=n;return e.split(/\r?\n/).filter(s=>s.trim()).map(s=>{const o=pe.make("div");o.textContent=s;const i=this.composePasteEvent("tag",{data:o});return{content:o,tool:r,isBlock:!1,event:i}})}async processSingleBlock(e){const{Caret:n,BlockManager:r}=this.Editor,{currentBlock:s}=r;if(!s||e.tool!==s.name||!pe.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,s?.tool.isDefault&&s.isEmpty);return}n.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:n,Caret:r}=this.Editor,{content:s}=e;if(n.currentBlock&&n.currentBlock.tool.isDefault&&s.textContent.length<NR.PATTERN_PROCESSING_MAX_LENGTH){const o=await this.processPattern(s.textContent);if(o){const i=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,c=n.paste(o.tool,o.event,i);r.setToBlock(c,r.positions.END);return}}if(n.currentBlock&&n.currentBlock.currentInput){const o=n.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Ms(s.innerHTML,o))}else this.insertBlock(e)}async processPattern(e){const n=this.toolsPatterns.find(r=>{const s=r.pattern.exec(e);return s?e===s.shift():!1});return n?{event:this.composePasteEvent("pattern",{key:n.key,data:e}),tool:n.tool.name}:void 0}insertBlock(e,n=!1){const{BlockManager:r,Caret:s}=this.Editor,{currentBlock:o}=r;let i;if(n&&o&&o.isEmpty){i=r.paste(e.tool,e.event,!0),s.setToBlock(i,s.positions.END);return}i=r.paste(e.tool,e.event),s.setToBlock(i,s.positions.END)}insertEditorJSData(e){const{BlockManager:n,Caret:r,Tools:s}=this.Editor;zb(e,o=>s.blockTools.get(o).sanitizeConfig).forEach(({tool:o,data:i},c)=>{let u=!1;c===0&&(u=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty);const h=n.insert({tool:o,data:i,replace:u});r.setToBlock(h,r.positions.END)})}processElementNode(e,n,r){const s=Object.keys(this.toolsTags),o=e,{tool:i}=this.toolsTags[o.tagName]||{},c=this.tagsByTool[i?.name]||[],u=s.includes(o.tagName),h=pe.blockElements.includes(o.tagName.toLowerCase()),f=Array.from(o.children).some(({tagName:g})=>s.includes(g)&&!c.includes(g)),m=Array.from(o.children).some(({tagName:g})=>pe.blockElements.includes(g.toLowerCase()));if(!h&&!u&&!f)return r.appendChild(o),[...n,r];if(u&&!f||h&&!m&&!f)return[...n,r,o]}getNodes(e){const n=Array.from(e.childNodes);let r;const s=(o,i)=>{if(pe.isEmpty(i)&&!pe.isSingleTag(i))return o;const c=o[o.length-1];let u=new DocumentFragment;switch(c&&pe.isFragment(c)&&(u=o.pop()),i.nodeType){case Node.ELEMENT_NODE:if(r=this.processElementNode(i,o,u),r)return r;break;case Node.TEXT_NODE:return u.appendChild(i),[...o,u];default:return[...o,u]}return[...o,...Array.from(i.childNodes).reduce(s,[])]};return n.reduce(s,[])}composePasteEvent(e,n){return new CustomEvent(e,{detail:n})}};ER.PATTERN_PROCESSING_MAX_LENGTH=450;let QJ=ER;class ZJ extends st{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([s,o])=>{o.isReadOnlySupported||r.push(s)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(e=!this.readOnlyEnabled,n=!1){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const r=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(r===e)return this.readOnlyEnabled;if(n)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();const s=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(s.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new TA(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}let eQ=class Vf extends st{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const s=[`.${ho.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],o=r.closest("."+this.Editor.UI.CSS.editorWrapper),i=s.some(c=>!!r.closest(c));!o||i||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",t0(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",t0(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(pe.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=pe.make("div",Vf.CSS.overlay,{}),s=pe.make("div",Vf.CSS.overlayContainer,{}),o=pe.make("div",Vf.CSS.rect,{});return s.appendChild(o),r.appendChild(s),n.appendChild(r),this.overlayRectangle=o,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:s}=this.genInfoForMouseSelection(),o=this.startX>n&&this.mouseX>n,i=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(o||i),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),s!==void 0&&(this.trySelectNextBlock(s),this.inverseSelection(),Ue.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),s=this.Editor.BlockManager.getBlockByChildNode(r);let o;s!==void 0&&(o=this.Editor.BlockManager.blocks.findIndex(f=>f.holder===s.holder));const i=this.Editor.BlockManager.lastBlock.holder.querySelector("."+ho.CSS.content),c=Number.parseInt(window.getComputedStyle(i).width,10)/2,u=e-c,h=e+c;return{index:o,leftPos:u,rightPos:h}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,s=1,o=-1,i=0;if(n)return;const c=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let u=i;r>1&&(u=c?s:o);const h=e>this.stackOfSelected[r-1]&&u===s,f=e<this.stackOfSelected[r-1]&&u===o,m=!(h||f||u===i);if(!m&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let v=this.stackOfSelected[r-1]+1||e;for(v;v<=e;v++)this.addBlockInSelection(v);return}if(!m&&e<this.stackOfSelected[r-1]){for(let v=this.stackOfSelected[r-1]-1;v>=e;v--)this.addBlockInSelection(v);return}if(!m)return;let g=r-1,y;for(e>this.stackOfSelected[r-1]?y=()=>e>this.stackOfSelected[g]:y=()=>e<this.stackOfSelected[g];y();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[g]),this.stackOfSelected.pop(),g--}};class tQ extends st{async render(e){return new Promise(n=>{const{Tools:r,BlockManager:s}=this.Editor;if(e.length===0)s.insert();else{const o=e.map(({type:i,data:c,tunes:u,id:h})=>{r.available.has(i)===!1&&(Dr(`Tool ${i} is not found. Check 'tools' property at the Editor.js config.`,"warn"),c=this.composeStubDataForTool(i,c,h),i=r.stubTool);let f;try{f=s.composeBlock({id:h,tool:i,data:c,tunes:u})}catch(m){dt(`Block ${i} skipped because of plugins error`,"error",{data:c,error:m}),c=this.composeStubDataForTool(i,c,h),i=r.stubTool,f=s.composeBlock({id:h,tool:i,data:c,tunes:u})}return f});s.insertMany(o)}window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(e,n,r){const{Tools:s}=this.Editor;let o=e;if(s.unavailable.has(e)){const i=s.unavailable.get(e).toolbox;i!==void 0&&i[0].title!==void 0&&(o=i[0].title)}return{savedData:{id:r,type:e,data:n},title:o}}}class nQ extends st{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,s=[];try{r.forEach(c=>{s.push(this.getSavedData(c))});const o=await Promise.all(s),i=await zb(o,c=>n.blockTools.get(c).sanitizeConfig);return this.makeOutput(i)}catch(o){Dr("Saving failed due to the Error %o","error",o)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){const n=[];return e.forEach(({id:r,tool:s,data:o,tunes:i,isValid:c})=>{if(!c){dt(`Block ${s} skipped because saved data is invalid`);return}if(s===this.Editor.Tools.stubTool){n.push(o);return}const u={id:r,type:s,data:o,...!$r(i)&&{tunes:i}};n.push(u)}),{time:+new Date,blocks:n,version:"2.31.0"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const rQ='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function sQ(t){const e=document.createElement("div");e.innerHTML=t.trim();const n=document.createDocumentFragment();return n.append(...Array.from(e.childNodes)),n}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class Rw{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:n,api:r,readOnly:s}){this.api=r,this.readOnly=s,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:Rw.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=n.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const n=sQ(e.text);this._element.appendChild(n),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const n={text:e.detail.data.innerHTML};this._data=n,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:rQ,title:"Text"}}}class Iw{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:MX,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}}Iw.isInline=!0;Iw.title="Bold";class Dw{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=LX,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}Dw.isInline=!0;Dw.title="Italic";class Lw{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new Ue}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=hE,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=zX,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=hE,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new Ue;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),dt("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",s=/^\/\/[^/\s]/.test(e);return!n&&!r&&!s&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}Lw.isInline=!0;Lw.title="Link";let jR=class{constructor({api:e}){this.i18nAPI=e.i18n,this.blocksAPI=e.blocks,this.selectionAPI=e.selection,this.toolsAPI=e.tools,this.caretAPI=e.caret}async render(){const e=Ue.get(),n=this.blocksAPI.getBlockByElement(e.anchorNode);if(n===void 0)return[];const r=this.toolsAPI.getBlockTools(),s=await IA(n,r);if(s.length===0)return[];const o=s.reduce((h,f)=>{var m;return(m=f.toolbox)==null||m.forEach(g=>{h.push({icon:g.icon,title:zn.t(gr.toolNames,g.title),name:f.name,closeOnActivate:!0,onActivate:async()=>{const y=await this.blocksAPI.convert(n.id,f.name,g.data);this.caretAPI.setToBlock(y,"end")}})}),h},[]),i=await n.getActiveToolboxEntry(),c=i!==void 0?i.icon:UA,u=!mc();return{icon:c,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:u,items:o,onOpen:()=>{u&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{u&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}};jR.isInline=!0;let TR=class{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=pe.make("div",this.CSS.wrapper),n=UX,r=pe.make("div",this.CSS.info),s=pe.make("div",this.CSS.title,{textContent:this.title}),o=pe.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(s),r.appendChild(o),e.appendChild(r),e}};TR.isReadOnlySupported=!0;class oQ extends Yb{constructor(){super(...arguments),this.type=fa.Inline}get title(){return this.constructable[$p.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[$p.IsReadOnlySupported]??!1}}class iQ extends Yb{constructor(){super(...arguments),this.type=fa.Tune}create(e,n){return new this.constructable({api:this.api,config:this.settings,block:n,data:e})}}let Cs=class _l extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new _l(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new _l(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new _l(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new _l(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new _l(e)}};var aQ=Object.defineProperty,lQ=Object.getOwnPropertyDescriptor,MR=(t,e,n,r)=>{for(var s=lQ(e,n),o=t.length-1,i;o>=0;o--)(i=t[o])&&(s=i(e,n,s)||s);return s&&aQ(e,n,s),s};class Bw extends Yb{constructor(){super(...arguments),this.type=fa.Block,this.inlineTools=new Cs,this.tunes=new Cs}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[Cl.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Cl.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[Cl.Toolbox],n=this.config[zf.Toolbox];if(!$r(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,s)=>{const o=e[s];return o?{...o,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[Cl.ConversionConfig]}get enabledInlineTools(){return this.config[zf.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[zf.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Cl.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if($r(e))return n;const r={};for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){const o=e[s];wn(o)?r[s]=Object.assign({},n,o):r[s]=o}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}MR([pc],Bw.prototype,"sanitizeConfig");MR([pc],Bw.prototype,"baseSanitizeConfig");class cQ{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...s}=this.config[e],o=this.getConstructor(n),i=n[l0.IsTune];return new o({name:e,constructable:n,config:s,api:this.api.getMethodsForTool(e,i),isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[$p.IsInline]:return oQ;case e[l0.IsTune]:return iQ;default:return Bw}}}let OR=class{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:OX,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,s=r.getBoundingClientRect();let o=Math.abs(window.innerHeight-r.offsetHeight);s.top<window.innerHeight&&(o=window.scrollY+r.offsetHeight),window.scrollTo(0,o),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}};OR.isTune=!0;let PR=class{constructor({api:e}){this.api=e}render(){return{icon:IX,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}};PR.isTune=!0;let AR=class{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:RX,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const s=n.holder,o=r.holder,i=s.getBoundingClientRect(),c=o.getBoundingClientRect();let u;c.top>0?u=Math.abs(i.top)-Math.abs(c.top):u=Math.abs(i.top)+c.height,window.scrollBy(0,-1*u),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}};AR.isTune=!0;var dQ=Object.defineProperty,uQ=Object.getOwnPropertyDescriptor,hQ=(t,e,n,r)=>{for(var s=uQ(e,n),o=t.length-1,i;o>=0;o--)(i=t[o])&&(s=i(e,n,s)||s);return s&&dQ(e,n,s),s};let RR=class extends st{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Cs,this.toolsUnavailable=new Cs}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=n0({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new cQ(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await IK(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{Pt(e.reset)&&await e.reset()})}get internalTools(){return{convertTo:{class:jR,isInternal:!0},link:{class:Lw,isInternal:!0},bold:{class:Iw,isInternal:!0},italic:{class:Dw,isInternal:!0},paragraph:{class:Rw,inlineToolbar:!0,isInternal:!0},stub:{class:TR,isInternal:!0},moveUp:{class:AR,isInternal:!0},delete:{class:PR,isInternal:!0},moveDown:{class:OR,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render"].filter(s=>!n.create()[s]);if(r.length){dt(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,s])=>{n.push({function:Pt(s.class.prepare)?s.class.prepare:()=>{},data:{toolName:r,config:s.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Cs(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Cs(["convertTo",...e.enabledInlineTools].map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new Cs(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Cs([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new Cs(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Cs([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!Pt(n)&&!Pt(n.class))throw Error(`Tool ${e} must be a constructor function or an object with function in the class property`)}}prepareConfig(){const e={};for(const n in this.config.tools)wn(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}};hQ([pc],RR.prototype,"getAllInlineToolsSanitizeConfig");const fQ=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`;class pQ extends st{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=null,this.resizeDebouncer=cE(()=>{this.windowResize()},200),this.selectionChangeDebounced=cE(()=>{this.selectionChanged()},XJ),this.documentTouchedListener=e=>{this.documentTouched(e)}}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache!==null)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${ho.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.unbindReadOnlySensitiveListeners():window.requestIdleCallback(()=>{this.bindReadOnlySensitiveListeners()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r}=this.Editor;return!!(n.opened||r.opened||e.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof Bp).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML="",this.unbindReadOnlyInsensitiveListeners()}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r}=this.Editor;n.close(),r.close(),e.toolbox.close()}setIsMobile(){const e=window.innerWidth<_A;e!==this.isMobile&&this.eventsDispatcher.emit(Xd,{isEnabled:this.isMobile}),this.isMobile=e}make(){this.nodes.holder=pe.getHolder(this.config.holder),this.nodes.wrapper=pe.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=pe.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper),this.bindReadOnlyInsensitiveListeners()}loadStyles(){const e="editor-js-styles";if(pe.get(e))return;const n=pe.make("style",null,{id:e,textContent:fQ.toString()});this.config.style&&!$r(this.config.style)&&this.config.style.nonce&&n.setAttribute("nonce",this.config.style.nonce),pe.prepend(document.head,n)}bindReadOnlyInsensitiveListeners(){this.listeners.on(document,"selectionchange",this.selectionChangeDebounced),this.listeners.on(window,"resize",this.resizeDebouncer,{passive:!0}),this.listeners.on(this.nodes.redactor,"mousedown",this.documentTouchedListener,{capture:!0,passive:!0}),this.listeners.on(this.nodes.redactor,"touchstart",this.documentTouchedListener,{capture:!0,passive:!0})}unbindReadOnlyInsensitiveListeners(){this.listeners.off(document,"selectionchange",this.selectionChangeDebounced),this.listeners.off(window,"resize",this.resizeDebouncer),this.listeners.off(this.nodes.redactor,"mousedown",this.documentTouchedListener),this.listeners.off(this.nodes.redactor,"touchstart",this.documentTouchedListener)}bindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",t0(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(QA,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}unbindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(e){switch(e.keyCode){case We.ENTER:this.enterPressed(e);break;case We.BACKSPACE:case We.DELETE:this.backspacePressed(e);break;case We.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&s||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:s}=this.Editor;if(r.anyBlockSelected&&!Ue.isSelectionExists){const o=n.removeSelectedBlocks(),i=n.insertDefaultBlockAtIndex(o,!0);s.setToBlock(i,s.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor;if(this.someToolbarOpened)return;const s=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!Ue.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&s&&e.target.tagName==="BODY"){const o=this.Editor.BlockManager.insert();e.preventDefault(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var n,r;if(!e.isTrusted)return;const s=e.target;this.nodes.holder.contains(s)||Ue.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());const o=(n=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:n.contains(s),i=(r=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:r.contains(s),c=o||i;if(this.Editor.BlockSettings.opened&&!c){this.Editor.BlockSettings.close();const u=this.Editor.BlockManager.getBlockByChildNode(s);this.Editor.Toolbar.moveAndOpen(u)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,s=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,s)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.ReadOnly.isEnabled||this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!Ue.isCollapsed)return;const n=e.target,r=e.metaKey||e.ctrlKey;if(pe.isAnchor(n)&&r){e.stopImmediatePropagation(),e.stopPropagation();const s=n.getAttribute("href"),o=FK(s);zK(o);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const n=this.Editor.BlockManager.getBlockByIndex(-1),r=pe.offset(n.holder).bottom,s=e.pageY,{BlockSelection:o}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!o.anyBlockSelected&&r<s){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:i,Caret:c,Toolbar:u}=this.Editor;(!i.lastBlock.tool.isDefault||!i.lastBlock.isEmpty)&&i.insertAtEnd(),c.setToTheLastBlock(),u.moveAndOpen(i.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=Ue.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&Ue.get().removeAllRanges(),!r){Ue.range||this.Editor.InlineToolbar.close();return}const s=r.closest(`.${ho.CSS.content}`);(s===null||s.closest(`.${Ue.CSS.editorWrapper}`)!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function e(n){const r=n.target;EA(r)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",e)}}const mQ={BlocksAPI:QK,CaretAPI:eX,EventsAPI:tX,I18nAPI:nX,API:rX,InlineToolbarAPI:sX,ListenersAPI:oX,NotifierAPI:cX,ReadOnlyAPI:dX,SanitizerAPI:xX,SaverAPI:vX,SelectionAPI:yX,ToolsAPI:bX,StylesAPI:wX,ToolbarAPI:kX,TooltipAPI:NX,UiAPI:jX,BlockSettings:eG,Toolbar:lG,InlineToolbar:cG,BlockEvents:zJ,BlockManager:WJ,BlockSelection:VJ,Caret:qJ,CrossBlockSelection:YJ,DragNDrop:KJ,ModificationsObserver:JJ,Paste:QJ,ReadOnly:ZJ,RectangleSelection:eQ,Renderer:tQ,Saver:nQ,Tools:RR,UI:pQ};class gQ{constructor(e){this.moduleInstances={},this.eventsDispatcher=new ju;let n,r;this.isReady=new Promise((s,o)=>{n=s,r=o}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:s,Caret:o,UI:i,ModificationsObserver:c}=this.moduleInstances;i.checkEmptiness(),c.enable(),this.configuration.autofocus===!0&&this.configuration.readOnly!==!0&&o.setToBlock(s.blocks[0],o.positions.START),n()}).catch(s=>{dt(`Editor.js is not ready because of ${s}`,"error"),r(s)})}set configuration(e){var n,r;wn(e)?this.config={...e}:this.config={holder:e},r0(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=kA.VERBOSE),AK(this.config.logLevel),r0(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const s={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,($r(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[s]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&zn.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("holderId and holder param can't assign at the same time.");if(wo(n)&&!pe.get(n))throw Error(`element with ID ${n} is missing. Pass correct holder's ID.`);if(n&&wn(n)&&!pe.isElement(n))throw Error("holder value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof TA)throw new Error(r.message);dt(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(mQ).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){dt("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class xQ{static get version(){return"2.31.0"}constructor(e){let n=()=>{};wn(e)&&Pt(e.onReady)&&(n=e.onReady);const r=new gQ(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(s=>{Pt(s.destroy)&&s.destroy(),s.listeners.removeAll()}),EX(),e=null;for(const s in this)Object.prototype.hasOwnProperty.call(this,s)&&delete this[s];Object.setPrototypeOf(this,null)};n.forEach(s=>{this[s]=e[s]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([s,o])=>{Object.entries(o).forEach(([i,c])=>{this[c]=e.moduleInstances.API.methods[s][i]})})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const vQ='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',yQ='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',bQ='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',wQ='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',kQ='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',SQ='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',CQ='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */let _Q=class{constructor({data:e,config:n,api:r,readOnly:s}){this.api=r,this.readOnly=s,this._settings=n,this._data=this.normalizeData(e),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(e){return e.text!==void 0}normalizeData(e){const n={text:"",level:this.defaultLevel.number};return this.isHeaderData(e)&&(n.text=e.text||"",e.level!==void 0&&!isNaN(parseInt(e.level.toString()))&&(n.level=parseInt(e.level.toString()))),n}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number,render:()=>document.createElement("div")}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){this._element.insertAdjacentHTML("beforeend",e.text)}validate(e){return e.text.trim()!==""}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),e.level!==void 0&&this._element.parentNode){const n=this.getTag();n.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(n,this._element),this._element=n}e.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(n=>n.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){const e=this.levels.find(n=>n.number===this._settings.defaultLevel);if(e)return e;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const e=[{number:1,tag:"H1",svg:vQ},{number:2,tag:"H2",svg:yQ},{number:3,tag:"H3",svg:bQ},{number:4,tag:"H4",svg:wQ},{number:5,tag:"H5",svg:kQ},{number:6,tag:"H6",svg:SQ}];return this._settings.levels?e.filter(n=>this._settings.levels.includes(n.number)):e}onPaste(e){const n=e.detail;if("data"in n){const r=n.data;let s=this.defaultLevel.number;switch(r.tagName){case"H1":s=1;break;case"H2":s=2;break;case"H3":s=3;break;case"H4":s=4;break;case"H5":s=5;break;case"H6":s=6;break}this._settings.levels&&(s=this._settings.levels.reduce((o,i)=>Math.abs(i-s)<Math.abs(o-s)?i:o)),this.data={level:s,text:r.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:CQ,title:"Heading"}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.cdx-list{margin:0;padding:0;outline:none;display:grid;counter-reset:item;gap:var(--spacing-s);padding:var(--spacing-xs);--spacing-s: 8px;--spacing-xs: 6px;--list-counter-type: numeric;--radius-border: 5px;--checkbox-background: #fff;--color-border: #C9C9C9;--color-bg-checked: #369FFF;--line-height: 1.45em;--color-bg-checked-hover: #0059AB;--color-tick: #fff;--size-checkbox: 1.2em}.cdx-list__item{line-height:var(--line-height);display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto auto;grid-template-areas:"checkbox content" ". child"}.cdx-list__item-children{display:grid;grid-area:child;gap:var(--spacing-s);padding-top:var(--spacing-s)}.cdx-list__item [contenteditable]{outline:none}.cdx-list__item-content{word-break:break-word;white-space:pre-wrap;grid-area:content;padding-left:var(--spacing-s)}.cdx-list__item:before{counter-increment:item;white-space:nowrap}.cdx-list-ordered .cdx-list__item:before{content:counters(item,".",var(--list-counter-type)) "."}.cdx-list-ordered{counter-reset:item}.cdx-list-unordered .cdx-list__item:before{content:""}.cdx-list-checklist .cdx-list__item:before{content:""}.cdx-list__settings .cdx-settings-button{width:50%}.cdx-list__checkbox{padding-top:calc((var(--line-height) - var(--size-checkbox)) / 2);grid-area:checkbox;width:var(--size-checkbox);height:var(--size-checkbox);display:flex;cursor:pointer}.cdx-list__checkbox svg{opacity:0;height:var(--size-checkbox);width:var(--size-checkbox);left:-1px;top:-1px;position:absolute}@media (hover: hover){.cdx-list__checkbox:not(.cdx-list__checkbox--no-hover):hover .cdx-list__checkbox-check svg{opacity:1}}.cdx-list__checkbox--checked{line-height:var(--line-height)}@media (hover: hover){.cdx-list__checkbox--checked:not(.cdx-list__checkbox--checked--no-hover):hover .cdx-checklist__checkbox-check{background:var(--color-bg-checked-hover);border-color:var(--color-bg-checked-hover)}}.cdx-list__checkbox--checked .cdx-list__checkbox-check{background:var(--color-bg-checked);border-color:var(--color-bg-checked)}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg{opacity:1}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg path{stroke:var(--color-tick)}.cdx-list__checkbox--checked .cdx-list__checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}.cdx-list__checkbox-check{cursor:pointer;display:inline-block;position:relative;margin:0 auto;width:var(--size-checkbox);height:var(--size-checkbox);box-sizing:border-box;border-radius:var(--radius-border);border:1px solid var(--color-border);background:var(--checkbox-background)}.cdx-list__checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:var(--color-bg-checked);visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}.cdx-list-start-with-field{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-list-start-with-field--invalid{background:#FFECED;border:1px solid #E13F3F}.cdx-list-start-with-field--invalid .cdx-list-start-with-field__input{color:#e13f3f}.cdx-list-start-with-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - var(--toolbox-buttons-size) - var(--icon-margin-right))}.cdx-list-start-with-field__input::placeholder{color:var(--grayText);font-weight:500}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const EQ='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',bE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',wE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',kE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',NQ='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 14.2L10 7.4135C10 7.32872 9.90111 7.28241 9.83598 7.33668L7 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',jQ='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 9.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 7.01L10 7" stroke="black" stroke-width="1.8" stroke-linecap="round"/></svg>',TQ='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 7.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',MQ='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.0087 14.2H16" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M7 14.2L7.78865 12M13 14.2L12.1377 12M7.78865 12C7.78865 12 9.68362 7 10 7C10.3065 7 12.1377 12 12.1377 12M7.78865 12L12.1377 12" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',OQ='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2087 14.2H14.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M11.5 14.5C11.5 14.5 11 13.281 11 12.5M7 9.5C7 9.5 7.5 8.5 9 8.5C10.5 8.5 11 9.5 11 10.5L11 11.5M11 11.5L11 12.5M11 11.5C11 11.5 7 11 7 13C7 15.3031 11 15 11 12.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',PQ='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 14.2L8 7.4135C8 7.32872 7.90111 7.28241 7.83598 7.33668L5 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M14 13L16.4167 10.7778M16.4167 10.7778L14 8.5M16.4167 10.7778H11.6562" stroke="black" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>';var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function AQ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var wt={},Fw={},$w={};Object.defineProperty($w,"__esModule",{value:!0});$w.allInputsSelector=RQ;function RQ(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=$w;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(Fw);var La={},zw={};Object.defineProperty(zw,"__esModule",{value:!0});zw.isNativeInput=IQ;function IQ(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=zw;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(La);var IR={},Uw={};Object.defineProperty(Uw,"__esModule",{value:!0});Uw.append=DQ;function DQ(t,e){Array.isArray(e)?e.forEach(function(n){t.appendChild(n)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=Uw;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(IR);var Hw={},Ww={};Object.defineProperty(Ww,"__esModule",{value:!0});Ww.blockElements=LQ;function LQ(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=Ww;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(Hw);var DR={},Vw={};Object.defineProperty(Vw,"__esModule",{value:!0});Vw.calculateBaseline=BQ;function BQ(t){var e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,s=parseFloat(e.paddingTop),o=parseFloat(e.borderTopWidth),i=parseFloat(e.marginTop),c=n*.8,u=(r-n)/2,h=i+o+s+u+c;return h}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=Vw;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(DR);var LR={},qw={},Yw={},Kw={};Object.defineProperty(Kw,"__esModule",{value:!0});Kw.isContentEditable=FQ;function FQ(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=Kw;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(Yw);Object.defineProperty(qw,"__esModule",{value:!0});qw.canSetCaret=UQ;var $Q=La,zQ=Yw;function UQ(t){var e=!0;if((0,$Q.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,zQ.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=qw;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(LR);var Jm={},Xw={};function HQ(t,e,n){const r=n.value!==void 0?"value":"get",s=n[r],o=`#${e}Cache`;if(n[r]=function(...i){return this[o]===void 0&&(this[o]=s.apply(this,i)),this[o]},r==="get"&&n.set){const i=n.set;n.set=function(c){delete t[o],i.apply(this,c)}}return n}function BR(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e!==void 0&&(t[e]=!0),t}function Gw(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function WQ(t){return!Gw(t)}const VQ=()=>typeof window<"u"&&window.navigator!==null&&Gw(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function qQ(t){const e=BR();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function YQ(t){return t[0].toUpperCase()+t.slice(1)}function KQ(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const n=window.getSelection(),r=document.createRange();if(r.selectNode(e),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(e)}function XQ(t,e,n){let r;return(...s)=>{const o=this,i=()=>{r=void 0,n!==!0&&t.apply(o,s)},c=n===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(i,e),c&&t.apply(o,s)}}function Ei(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function GQ(t){return Ei(t)==="boolean"}function FR(t){return Ei(t)==="function"||Ei(t)==="asyncfunction"}function JQ(t){return FR(t)&&/^\s*class\s+/.test(t.toString())}function QQ(t){return Ei(t)==="number"}function qf(t){return Ei(t)==="object"}function ZQ(t){return Promise.resolve(t)===t}function eZ(t){return Ei(t)==="string"}function tZ(t){return Ei(t)==="undefined"}function u0(t,...e){if(!e.length)return t;const n=e.shift();if(qf(t)&&qf(n))for(const r in n)qf(n[r])?(t[r]===void 0&&Object.assign(t,{[r]:{}}),u0(t[r],n[r])):Object.assign(t,{[r]:n[r]});return u0(t,...e)}function nZ(t,e,n){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&console.warn(r)}function rZ(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function sZ(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const oZ={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},iZ={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class aZ{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}function lZ(t,e,n=void 0){let r,s,o,i=null,c=0;n||(n={});const u=function(){c=n.leading===!1?0:Date.now(),i=null,o=t.apply(r,s),i===null&&(r=s=null)};return function(){const h=Date.now();!c&&n.leading===!1&&(c=h);const f=e-(h-c);return r=this,s=arguments,f<=0||f>e?(i&&(clearTimeout(i),i=null),c=h,o=t.apply(r,s),i===null&&(r=s=null)):!i&&n.trailing!==!1&&(i=setTimeout(u,f)),o}}const cZ=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:aZ,beautifyShortcut:qQ,cacheable:HQ,capitalize:YQ,copyTextToClipboard:KQ,debounce:XQ,deepMerge:u0,deprecationAssert:nZ,getUserOS:BR,getValidUrl:rZ,isBoolean:GQ,isClass:JQ,isEmpty:WQ,isFunction:FR,isIosDevice:VQ,isNumber:QQ,isObject:qf,isPrintableKey:sZ,isPromise:ZQ,isString:eZ,isUndefined:tZ,keyCodes:oZ,mouseButtons:iZ,notEmpty:Gw,throttle:lZ,typeOf:Ei},Symbol.toStringTag,{value:"Module"})),Jw=AQ(cZ);Object.defineProperty(Xw,"__esModule",{value:!0});Xw.containsOnlyInlineElements=hZ;var dZ=Jw,uZ=Hw;function hZ(t){var e;(0,dZ.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var n=function(r){return!(0,uZ.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(n)};return Array.from(e.children).every(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=Xw;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(Jm);var $R={},Qw={},Qm={},Zw={};Object.defineProperty(Zw,"__esModule",{value:!0});Zw.make=fZ;function fZ(t,e,n){var r;e===void 0&&(e=null),n===void 0&&(n={});var s=document.createElement(t);if(Array.isArray(e)){var o=e.filter(function(c){return c!==void 0});(r=s.classList).add.apply(r,o)}else e!==null&&s.classList.add(e);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i]);return s}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=Zw;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})(Qm);Object.defineProperty(Qw,"__esModule",{value:!0});Qw.fragmentToString=mZ;var pZ=Qm;function mZ(t){var e=(0,pZ.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=Qw;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})($R);var zR={},e1={};Object.defineProperty(e1,"__esModule",{value:!0});e1.getContentLength=xZ;var gZ=La;function xZ(t){var e,n;return(0,gZ.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(n=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=e1;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(zR);var t1={},n1={},SE=zp&&zp.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(n1,"__esModule",{value:!0});n1.getDeepestBlockElements=UR;var vZ=Jm;function UR(t){return(0,vZ.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,n){return SE(SE([],e,!0),UR(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=n1;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(t1);var HR={},r1={},Zm={},s1={};Object.defineProperty(s1,"__esModule",{value:!0});s1.isLineBreakTag=yZ;function yZ(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=s1;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(Zm);var eg={},o1={};Object.defineProperty(o1,"__esModule",{value:!0});o1.isSingleTag=bZ;function bZ(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=o1;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(eg);Object.defineProperty(r1,"__esModule",{value:!0});r1.getDeepestNode=WR;var wZ=La,kZ=Zm,SZ=eg;function WR(t,e){e===void 0&&(e=!1);var n=e?"lastChild":"firstChild",r=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[n]){var s=t[n];if((0,SZ.isSingleTag)(s)&&!(0,wZ.isNativeInput)(s)&&!(0,kZ.isLineBreakTag)(s))if(s[r])s=s[r];else if(s.parentNode!==null&&s.parentNode[r])s=s.parentNode[r];else return s.parentNode;return WR(s,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=r1;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(HR);var VR={},i1={},of=zp&&zp.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(i1,"__esModule",{value:!0});i1.findAllInputs=jZ;var CZ=Jm,_Z=t1,EZ=Fw,NZ=La;function jZ(t){return Array.from(t.querySelectorAll((0,EZ.allInputsSelector)())).reduce(function(e,n){return(0,NZ.isNativeInput)(n)||(0,CZ.containsOnlyInlineElements)(n)?of(of([],e,!0),[n],!1):of(of([],e,!0),(0,_Z.getDeepestBlockElements)(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=i1;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(VR);var qR={},a1={};Object.defineProperty(a1,"__esModule",{value:!0});a1.isCollapsedWhitespaces=TZ;function TZ(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=a1;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(qR);var l1={},c1={};Object.defineProperty(c1,"__esModule",{value:!0});c1.isElement=OZ;var MZ=Jw;function OZ(t){return(0,MZ.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=c1;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(l1);var YR={},d1={},u1={},h1={};Object.defineProperty(h1,"__esModule",{value:!0});h1.isLeaf=PZ;function PZ(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=h1;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(u1);var f1={},p1={};Object.defineProperty(p1,"__esModule",{value:!0});p1.isNodeEmpty=LZ;var AZ=Zm,RZ=l1,IZ=La,DZ=eg;function LZ(t,e){var n="";return(0,DZ.isSingleTag)(t)&&!(0,AZ.isLineBreakTag)(t)?!1:((0,RZ.isElement)(t)&&(0,IZ.isNativeInput)(t)?n=t.value:t.textContent!==null&&(n=t.textContent.replace("","")),e!==void 0&&(n=n.replace(new RegExp(e,"g"),"")),n.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=p1;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(f1);Object.defineProperty(d1,"__esModule",{value:!0});d1.isEmpty=$Z;var BZ=u1,FZ=f1;function $Z(t,e){t.normalize();for(var n=[t];n.length>0;){var r=n.shift();if(r){if(t=r,(0,BZ.isLeaf)(t)&&!(0,FZ.isNodeEmpty)(t,e))return!1;n.push.apply(n,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=d1;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(YR);var KR={},m1={};Object.defineProperty(m1,"__esModule",{value:!0});m1.isFragment=UZ;var zZ=Jw;function UZ(t){return(0,zZ.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=m1;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(KR);var XR={},g1={};Object.defineProperty(g1,"__esModule",{value:!0});g1.isHTMLString=WZ;var HZ=Qm;function WZ(t){var e=(0,HZ.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=g1;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(XR);var GR={},x1={};Object.defineProperty(x1,"__esModule",{value:!0});x1.offset=VZ;function VZ(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,s=e.top+r,o=e.left+n;return{top:s,left:o,bottom:s+e.height,right:o+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=x1;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(GR);var JR={},v1={};Object.defineProperty(v1,"__esModule",{value:!0});v1.prepend=qZ;function qZ(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(n){return t.prepend(n)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=v1;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(JR);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=Fw;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var n=La;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var r=IR;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return r.append}});var s=Hw;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return s.blockElements}});var o=DR;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return o.calculateBaseline}});var i=LR;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return i.canSetCaret}});var c=Jm;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return c.containsOnlyInlineElements}});var u=$R;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return u.fragmentToString}});var h=zR;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return h.getContentLength}});var f=t1;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return f.getDeepestBlockElements}});var m=HR;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return m.getDeepestNode}});var g=VR;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return g.findAllInputs}});var y=qR;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return y.isCollapsedWhitespaces}});var v=Yw;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return v.isContentEditable}});var b=l1;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return b.isElement}});var k=YR;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return k.isEmpty}});var C=KR;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return C.isFragment}});var _=XR;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return _.isHTMLString}});var T=u1;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return T.isLeaf}});var N=f1;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return N.isNodeEmpty}});var j=Zm;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return j.isLineBreakTag}});var P=eg;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return P.isSingleTag}});var I=Qm;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return I.make}});var O=GR;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return O.offset}});var L=JR;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return L.prepend}})})(wt);const Qn="cdx-list",Tn={wrapper:Qn,item:`${Qn}__item`,itemContent:`${Qn}__item-content`,itemChildren:`${Qn}__item-children`};let QR=class ri{static get CSS(){return{...Tn,orderedList:`${Qn}-ordered`}}constructor(e,n){this.config=n,this.readOnly=e}renderWrapper(e){let n;return e===!0?n=wt.make("ol",[ri.CSS.wrapper,ri.CSS.orderedList]):n=wt.make("ol",[ri.CSS.orderedList,ri.CSS.itemChildren]),n}renderItem(e,n){const r=wt.make("li",ri.CSS.item),s=wt.make("div",ri.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()});return r.appendChild(s),r}getItemContent(e){const n=e.querySelector(`.${ri.CSS.itemContent}`);return!n||wt.isEmpty(n)?"":n.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}},ZR=class si{static get CSS(){return{...Tn,unorderedList:`${Qn}-unordered`}}constructor(e,n){this.config=n,this.readOnly=e}renderWrapper(e){let n;return e===!0?n=wt.make("ul",[si.CSS.wrapper,si.CSS.unorderedList]):n=wt.make("ul",[si.CSS.unorderedList,si.CSS.itemChildren]),n}renderItem(e,n){const r=wt.make("li",si.CSS.item),s=wt.make("div",si.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()});return r.appendChild(s),r}getItemContent(e){const n=e.querySelector(`.${si.CSS.itemContent}`);return!n||wt.isEmpty(n)?"":n.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}};function Xi(t){return t.nodeType===Node.ELEMENT_NODE}var Nd={},y1={},tg={},ng={};Object.defineProperty(ng,"__esModule",{value:!0});ng.getContenteditableSlice=KZ;var YZ=wt;function KZ(t,e,n,r,s){var o;s===void 0&&(s=!1);var i=document.createRange();if(r==="left"?(i.setStart(t,0),i.setEnd(e,n)):(i.setStart(e,n),i.setEnd(t,t.childNodes.length)),s===!0){var c=i.extractContents();return(0,YZ.fragmentToString)(c)}var u=i.cloneContents(),h=document.createElement("div");h.appendChild(u);var f=(o=h.textContent)!==null&&o!==void 0?o:"";return f}Object.defineProperty(tg,"__esModule",{value:!0});tg.checkContenteditableSliceForEmptiness=JZ;var XZ=wt,GZ=ng;function JZ(t,e,n,r){var s=(0,GZ.getContenteditableSlice)(t,e,n,r);return(0,XZ.isCollapsedWhitespaces)(s)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkContenteditableSliceForEmptiness=void 0;var e=tg;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}})})(y1);var eI={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContenteditableSlice=void 0;var e=ng;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return e.getContenteditableSlice}})})(eI);var tI={},b1={};Object.defineProperty(b1,"__esModule",{value:!0});b1.focus=ZZ;var QZ=wt;function ZZ(t,e){var n,r;if(e===void 0&&(e=!0),(0,QZ.isNativeInput)(t)){t.focus();var s=e?0:t.value.length;t.setSelectionRange(s,s)}else{var o=document.createRange(),i=window.getSelection();if(!i)return;var c=function(g,y){y===void 0&&(y=!1);var v=document.createTextNode("");y?g.insertBefore(v,g.firstChild):g.appendChild(v),o.setStart(v,0),o.setEnd(v,0)},u=function(g){return g!=null},h=t.childNodes,f=e?h[0]:h[h.length-1];if(u(f)){for(;u(f)&&f.nodeType!==Node.TEXT_NODE;)f=e?f.firstChild:f.lastChild;if(u(f)&&f.nodeType===Node.TEXT_NODE){var m=(r=(n=f.textContent)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0,s=e?0:m;o.setStart(f,s),o.setEnd(f,s)}else c(t,e)}else c(t);i.removeAllRanges(),i.addRange(o)}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.focus=void 0;var e=b1;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return e.focus}})})(tI);var w1={},rg={};Object.defineProperty(rg,"__esModule",{value:!0});rg.getCaretNodeAndOffset=eee;function eee(){var t=window.getSelection();if(t===null)return[null,0];var e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]!==void 0?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],e.textContent!==null&&(n=e.textContent.length))),[e,n])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCaretNodeAndOffset=void 0;var e=rg;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return e.getCaretNodeAndOffset}})})(w1);var nI={},sg={};Object.defineProperty(sg,"__esModule",{value:!0});sg.getRange=tee;function tee(){var t=window.getSelection();return t&&t.rangeCount?t.getRangeAt(0):null}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRange=void 0;var e=sg;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return e.getRange}})})(nI);var rI={},k1={};Object.defineProperty(k1,"__esModule",{value:!0});k1.isCaretAtEndOfInput=see;var CE=wt,nee=w1,ree=y1;function see(t){var e=(0,CE.getDeepestNode)(t,!0);if(e===null)return!0;if((0,CE.isNativeInput)(e))return e.selectionEnd===e.value.length;var n=(0,nee.getCaretNodeAndOffset)(),r=n[0],s=n[1];return r===null?!1:(0,ree.checkContenteditableSliceForEmptiness)(t,r,s,"right")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtEndOfInput=void 0;var e=k1;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return e.isCaretAtEndOfInput}})})(rI);var sI={},S1={};Object.defineProperty(S1,"__esModule",{value:!0});S1.isCaretAtStartOfInput=aee;var af=wt,oee=rg,iee=tg;function aee(t){var e=(0,af.getDeepestNode)(t);if(e===null||(0,af.isEmpty)(t))return!0;if((0,af.isNativeInput)(e))return e.selectionEnd===0;if((0,af.isEmpty)(t))return!0;var n=(0,oee.getCaretNodeAndOffset)(),r=n[0],s=n[1];return r===null?!1:(0,iee.checkContenteditableSliceForEmptiness)(t,r,s,"left")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtStartOfInput=void 0;var e=S1;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return e.isCaretAtStartOfInput}})})(sI);var oI={},C1={};Object.defineProperty(C1,"__esModule",{value:!0});C1.save=dee;var lee=wt,cee=sg;function dee(){var t=(0,cee.getRange)(),e=(0,lee.make)("span");if(e.id="cursor",e.hidden=!0,!!t)return t.insertNode(e),function(){var n=window.getSelection();n&&(t.setStartAfter(e),t.setEndAfter(e),n.removeAllRanges(),n.addRange(t),setTimeout(function(){e.remove()},150))}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=void 0;var e=C1;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return e.save}})})(oI);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=t.isCaretAtStartOfInput=t.isCaretAtEndOfInput=t.getRange=t.getCaretNodeAndOffset=t.focus=t.getContenteditableSlice=t.checkContenteditableSliceForEmptiness=void 0;var e=y1;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}});var n=eI;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return n.getContenteditableSlice}});var r=tI;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return r.focus}});var s=w1;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return s.getCaretNodeAndOffset}});var o=nI;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return o.getRange}});var i=rI;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return i.isCaretAtEndOfInput}});var c=sI;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return c.isCaretAtStartOfInput}});var u=oI;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return u.save}})})(Nd);let uee=class un{static get CSS(){return{...Tn,checklist:`${Qn}-checklist`,itemChecked:`${Qn}__checkbox--checked`,noHover:`${Qn}__checkbox--no-hover`,checkbox:`${Qn}__checkbox-check`,checkboxContainer:`${Qn}__checkbox`}}constructor(e,n){this.config=n,this.readOnly=e}renderWrapper(e){let n;return e===!0?(n=wt.make("ul",[un.CSS.wrapper,un.CSS.checklist]),n.addEventListener("click",r=>{const s=r.target;if(s){const o=s.closest(`.${un.CSS.checkboxContainer}`);o&&o.contains(s)&&this.toggleCheckbox(o)}})):n=wt.make("ul",[un.CSS.checklist,un.CSS.itemChildren]),n}renderItem(e,n){const r=wt.make("li",[un.CSS.item,un.CSS.item]),s=wt.make("div",un.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()}),o=wt.make("span",un.CSS.checkbox),i=wt.make("div",un.CSS.checkboxContainer);return n.checked===!0&&i.classList.add(un.CSS.itemChecked),o.innerHTML=EQ,i.appendChild(o),r.appendChild(i),r.appendChild(s),r}getItemContent(e){const n=e.querySelector(`.${un.CSS.itemContent}`);return!n||wt.isEmpty(n)?"":n.innerHTML}getItemMeta(e){const n=e.querySelector(`.${un.CSS.checkboxContainer}`);return{checked:n?n.classList.contains(un.CSS.itemChecked):!1}}composeDefaultMeta(){return{checked:!1}}toggleCheckbox(e){e.classList.toggle(un.CSS.itemChecked),e.classList.add(un.CSS.noHover),e.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(e),{once:!0})}removeSpecialHoverBehavior(e){e.classList.remove(un.CSS.noHover)}};function Jv(t,e="after"){const n=[];let r;function s(o){switch(e){case"after":return o.nextElementSibling;case"before":return o.previousElementSibling}}for(r=s(t);r!==null;)n.push(r),r=s(r);return n.length!==0?n:null}function oo(t,e=!0){let n=t;return t.classList.contains(Tn.item)&&(n=t.querySelector(`.${Tn.itemChildren}`)),n===null?[]:e?Array.from(n.querySelectorAll(`:scope > .${Tn.item}`)):Array.from(n.querySelectorAll(`.${Tn.item}`))}function hee(t){return t.nextElementSibling===null}function fee(t){return t.querySelector(`.${Tn.itemChildren}`)!==null}function oi(t){return t.querySelector(`.${Tn.itemChildren}`)}function Qv(t){let e=t;t.classList.contains(Tn.item)&&(e=oi(t)),e!==null&&oo(e).length===0&&e.remove()}function Yf(t){return t.querySelector(`.${Tn.itemContent}`)}function pl(t,e=!0){const n=Yf(t);n&&Nd.focus(n,e)}let Zv=class{get currentItem(){const e=window.getSelection();if(!e)return null;let n=e.anchorNode;return!n||(Xi(n)||(n=n.parentNode),!n)||!Xi(n)?null:n.closest(`.${Tn.item}`)}get currentItemLevel(){const e=this.currentItem;if(e===null)return null;let n=e.parentNode,r=0;for(;n!==null&&n!==this.listWrapper;)Xi(n)&&n.classList.contains(Tn.item)&&(r+=1),n=n.parentNode;return r+1}constructor({data:e,config:n,api:r,readOnly:s,block:o},i){this.config=n,this.data=e,this.readOnly=s,this.api=r,this.block=o,this.renderer=i}render(){return this.listWrapper=this.renderer.renderWrapper(!0),this.data.items.length?this.appendItems(this.data.items,this.listWrapper):this.appendItems([{content:"",meta:{},items:[]}],this.listWrapper),this.readOnly||this.listWrapper.addEventListener("keydown",e=>{switch(e.key){case"Enter":e.shiftKey||this.enterPressed(e);break;case"Backspace":this.backspace(e);break;case"Tab":e.shiftKey?this.shiftTab(e):this.addTab(e);break}},!1),"start"in this.data.meta&&this.data.meta.start!==void 0&&this.changeStartWith(this.data.meta.start),"counterType"in this.data.meta&&this.data.meta.counterType!==void 0&&this.changeCounters(this.data.meta.counterType),this.listWrapper}save(e){const n=e??this.listWrapper,r=i=>oo(i).map(c=>{const u=oi(c),h=this.renderer.getItemContent(c),f=this.renderer.getItemMeta(c),m=u?r(u):[];return{content:h,meta:f,items:m}}),s=n?r(n):[];let o={style:this.data.style,meta:{},items:s};return this.data.style==="ordered"&&(o.meta={start:this.data.meta.start,counterType:this.data.meta.counterType}),o}static get pasteConfig(){return{tags:["OL","UL","LI"]}}merge(e){const n=this.block.holder.querySelectorAll(`.${Tn.item}`),r=n[n.length-1],s=Yf(r);if(r===null||s===null||(s.insertAdjacentHTML("beforeend",e.items[0].content),this.listWrapper===void 0))return;const o=oo(this.listWrapper);if(o.length===0)return;const i=o[o.length-1];let c=oi(i);const u=e.items.shift();u!==void 0&&(u.items.length!==0&&(c===null&&(c=this.renderer.renderWrapper(!1)),this.appendItems(u.items,c)),e.items.length>0&&this.appendItems(e.items,this.listWrapper))}onPaste(e){const n=e.detail.data;this.data=this.pasteHandler(n);const r=this.listWrapper;r&&r.parentNode&&r.parentNode.replaceChild(this.render(),r)}pasteHandler(e){const{tagName:n}=e;let r="unordered",s;switch(n){case"OL":r="ordered",s="ol";break;case"UL":case"LI":r="unordered",s="ul"}const o={style:r,meta:{},items:[]};r==="ordered"&&(this.data.meta.counterType="numeric",this.data.meta.start=1);const i=c=>Array.from(c.querySelectorAll(":scope > li")).map(u=>{const h=u.querySelector(`:scope > ${s}`),f=h?i(h):[];return{content:u.innerHTML??"",meta:{},items:f}});return o.items=i(e),o}changeStartWith(e){this.listWrapper.style.setProperty("counter-reset",`item ${e-1}`),this.data.meta.start=e}changeCounters(e){this.listWrapper.style.setProperty("--list-counter-type",e),this.data.meta.counterType=e}enterPressed(e){var n;const r=this.currentItem;if(e.stopPropagation(),e.preventDefault(),e.isComposing||r===null)return;const s=((n=this.renderer)==null?void 0:n.getItemContent(r).trim().length)===0,o=r.parentNode===this.listWrapper,i=r.previousElementSibling===null,c=this.api.blocks.getCurrentBlockIndex();if(o&&s)if(hee(r)&&!fee(r)){i?this.convertItemToDefaultBlock(c,!0):this.convertItemToDefaultBlock();return}else{this.splitList(r);return}else if(s){this.unshiftItem(r);return}else this.splitItem(r)}backspace(e){var n;const r=this.currentItem;if(r!==null&&Nd.isCaretAtStartOfInput(r)&&((n=window.getSelection())==null?void 0:n.isCollapsed)!==!1){if(e.stopPropagation(),r.parentNode===this.listWrapper&&r.previousElementSibling===null){this.convertFirstItemToDefaultBlock();return}e.preventDefault(),this.mergeItemWithPrevious(r)}}shiftTab(e){e.stopPropagation(),e.preventDefault(),this.currentItem!==null&&this.unshiftItem(this.currentItem)}unshiftItem(e){if(!e.parentNode||!Xi(e.parentNode))return;const n=e.parentNode.closest(`.${Tn.item}`);if(!n)return;let r=oi(e);if(e.parentElement===null)return;const s=Jv(e);s!==null&&(r===null&&(r=this.renderer.renderWrapper(!1)),s.forEach(o=>{r.appendChild(o)}),e.appendChild(r)),n.after(e),pl(e,!1),Qv(n)}splitList(e){const n=oo(e),r=this.block,s=this.api.blocks.getCurrentBlockIndex();if(n.length!==0){const u=n[0];this.unshiftItem(u),pl(e,!1)}if(e.previousElementSibling===null&&e.parentNode===this.listWrapper){this.convertItemToDefaultBlock(s);return}const o=Jv(e);if(o===null)return;const i=this.renderer.renderWrapper(!0);o.forEach(u=>{i.appendChild(u)});const c=this.save(i);c.meta.start=this.data.style=="ordered"?1:void 0,this.api.blocks.insert(r?.name,c,this.config,s+1),this.convertItemToDefaultBlock(s+1),i.remove()}splitItem(e){const[n,r]=Nd.getCaretNodeAndOffset();if(n===null)return;const s=Yf(e);let o;s===null?o="":o=Nd.getContenteditableSlice(s,n,r,"right",!0);const i=oi(e),c=this.renderItem(o);e?.after(c),i&&c.appendChild(i),pl(c)}mergeItemWithPrevious(e){const n=e.previousElementSibling,r=e.parentNode;if(r===null||!Xi(r))return;const s=r.closest(`.${Tn.item}`);if(!n&&!s||n&&!Xi(n))return;let o;if(n){const m=oo(n,!1);m.length!==0&&m.length!==0?o=m[m.length-1]:o=n}else o=s;const i=this.renderer.getItemContent(e);if(!o)return;pl(o,!1);const c=Yf(o);if(c===null)return;c.insertAdjacentHTML("beforeend",i);const u=oo(e);if(u.length===0){e.remove(),Qv(o);return}const h=n||s,f=oi(h)??this.renderer.renderWrapper(!1);n?u.forEach(m=>{f.appendChild(m)}):u.forEach(m=>{f.prepend(m)}),oi(h)===null&&o.appendChild(f),e.remove()}addTab(e){var n;e.stopPropagation(),e.preventDefault();const r=this.currentItem;if(!r)return;if(((n=this.config)==null?void 0:n.maxLevel)!==void 0){const i=this.currentItemLevel;if(i!==null&&i===this.config.maxLevel)return}const s=r.previousSibling;if(s===null||!Xi(s))return;const o=oi(s);if(o)o.appendChild(r),oo(r).forEach(i=>{o.appendChild(i)});else{const i=this.renderer.renderWrapper(!1);i.appendChild(r),oo(r).forEach(c=>{i.appendChild(c)}),s.appendChild(i)}Qv(r),pl(r,!1)}convertItemToDefaultBlock(e,n){let r;const s=this.currentItem,o=s!==null?this.renderer.getItemContent(s):"";n===!0&&this.api.blocks.delete(),e!==void 0?r=this.api.blocks.insert(void 0,{text:o},void 0,e):r=this.api.blocks.insert(),s?.remove(),this.api.caret.setToBlock(r,"start")}convertFirstItemToDefaultBlock(){const e=this.currentItem;if(e===null)return;const n=oo(e);if(n.length!==0){const i=n[0];this.unshiftItem(i),pl(e)}const r=Jv(e),s=this.api.blocks.getCurrentBlockIndex(),o=r===null;this.convertItemToDefaultBlock(s,o)}renderItem(e,n){const r=n??this.renderer.composeDefaultMeta();switch(!0){case this.renderer instanceof QR:return this.renderer.renderItem(e,r);case this.renderer instanceof ZR:return this.renderer.renderItem(e,r);default:return this.renderer.renderItem(e,r)}}appendItems(e,n){e.forEach(r=>{var s;const o=this.renderItem(r.content,r.meta);if(n.appendChild(o),r.items.length){const i=(s=this.renderer)==null?void 0:s.renderWrapper(!1);this.appendItems(r.items,i),o.appendChild(i)}})}};const ml={wrapper:`${Qn}-start-with-field`,input:`${Qn}-start-with-field__input`,startWithElementWrapperInvalid:`${Qn}-start-with-field--invalid`};function pee(t,{value:e,placeholder:n,attributes:r,sanitize:s}){const o=wt.make("div",ml.wrapper),i=wt.make("input",ml.input,{placeholder:n,tabIndex:-1,value:e});for(const c in r)i.setAttribute(c,r[c]);return o.appendChild(i),i.addEventListener("input",()=>{s!==void 0&&(i.value=s(i.value));const c=i.checkValidity();!c&&!o.classList.contains(ml.startWithElementWrapperInvalid)&&o.classList.add(ml.startWithElementWrapperInvalid),c&&o.classList.contains(ml.startWithElementWrapperInvalid)&&o.classList.remove(ml.startWithElementWrapperInvalid),c&&t(i.value)}),o}const ld=new Map([["Numeric","numeric"],["Lower Roman","lower-roman"],["Upper Roman","upper-roman"],["Lower Alpha","lower-alpha"],["Upper Alpha","upper-alpha"]]),_E=new Map([["numeric",NQ],["lower-roman",jQ],["upper-roman",TQ],["lower-alpha",OQ],["upper-alpha",MQ]]);function mee(t){return t.replace(/\D+/g,"")}function gee(t){return typeof t.items[0]=="string"}function xee(t){return!("meta"in t)}function vee(t){return typeof t.items[0]!="string"&&"text"in t.items[0]&&"checked"in t.items[0]&&typeof t.items[0].text=="string"&&typeof t.items[0].checked=="boolean"}function yee(t){const e=[];return gee(t)?(t.items.forEach(n=>{e.push({content:n,meta:{},items:[]})}),{style:t.style,meta:{},items:e}):vee(t)?(t.items.forEach(n=>{e.push({content:n.text,meta:{checked:n.checked},items:[]})}),{style:"checklist",meta:{},items:e}):xee(t)?{style:t.style,meta:{},items:t.items}:structuredClone(t)}let bee=class h0{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return[{icon:wE,title:"Unordered List",data:{style:"unordered"}},{icon:kE,title:"Ordered List",data:{style:"ordered"}},{icon:bE,title:"Checklist",data:{style:"checklist"}}]}static get pasteConfig(){return{tags:["OL","UL","LI"]}}static get conversionConfig(){return{export:e=>h0.joinRecursive(e),import:(e,n)=>({meta:{},items:[{content:e,meta:{},items:[]}],style:n?.defaultStyle!==void 0?n.defaultStyle:"unordered"})}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(e){var n;this.data.style=e,this.changeTabulatorByStyle();const r=this.list.render();(n=this.listElement)==null||n.replaceWith(r),this.listElement=r}constructor({data:e,config:n,api:r,readOnly:s,block:o}){var i;this.api=r,this.readOnly=s,this.config=n,this.block=o,this.defaultListStyle=((i=this.config)==null?void 0:i.defaultStyle)||"unordered",this.defaultCounterTypes=this.config.counterTypes||Array.from(ld.values());const c={style:this.defaultListStyle,meta:{},items:[]};this.data=Object.keys(e).length?yee(e):c,this.listStyle==="ordered"&&this.data.meta.counterType===void 0&&(this.data.meta.counterType="numeric"),this.changeTabulatorByStyle()}static joinRecursive(e){return e.items.map(n=>`${n.content} ${h0.joinRecursive(n)}`).join("")}render(){return this.listElement=this.list.render(),this.listElement}save(){return this.data=this.list.save(),this.data}merge(e){this.list.merge(e)}renderSettings(){const e=[{label:this.api.i18n.t("Unordered"),icon:wE,closeOnActivate:!0,isActive:this.listStyle=="unordered",onActivate:()=>{this.listStyle="unordered"}},{label:this.api.i18n.t("Ordered"),icon:kE,closeOnActivate:!0,isActive:this.listStyle=="ordered",onActivate:()=>{this.listStyle="ordered"}},{label:this.api.i18n.t("Checklist"),icon:bE,closeOnActivate:!0,isActive:this.listStyle=="checklist",onActivate:()=>{this.listStyle="checklist"}}];if(this.listStyle==="ordered"){const n=pee(o=>this.changeStartWith(Number(o)),{value:String(this.data.meta.start??1),placeholder:"",attributes:{required:"true"},sanitize:o=>mee(o)}),r=[{label:this.api.i18n.t("Start with"),icon:PQ,children:{items:[{element:n,type:"html"}]}}],s={label:this.api.i18n.t("Counter type"),icon:_E.get(this.data.meta.counterType),children:{items:[]}};ld.forEach((o,i)=>{const c=ld.get(i);this.defaultCounterTypes.includes(c)&&s.children.items.push({title:this.api.i18n.t(i),icon:_E.get(c),isActive:this.data.meta.counterType===ld.get(i),closeOnActivate:!0,onActivate:()=>{this.changeCounters(ld.get(i))}})}),s.children.items.length>1&&r.push(s),e.push({type:"separator"},...r)}return e}onPaste(e){const{tagName:n}=e.detail.data;switch(n){case"OL":this.listStyle="ordered";break;case"UL":case"LI":this.listStyle="unordered"}this.list.onPaste(e)}pasteHandler(e){return this.list.pasteHandler(e)}changeCounters(e){var n;(n=this.list)==null||n.changeCounters(e),this.data.meta.counterType=e}changeStartWith(e){var n;(n=this.list)==null||n.changeStartWith(e),this.data.meta.start=e}changeTabulatorByStyle(){switch(this.listStyle){case"ordered":this.list=new Zv({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new QR(this.readOnly,this.config));break;case"unordered":this.list=new Zv({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new ZR(this.readOnly,this.config));break;case"checklist":this.list=new Zv({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new uee(this.readOnly,this.config));break}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.cdx-checklist{gap:6px;display:flex;flex-direction:column}.cdx-checklist__item{display:flex;box-sizing:content-box;align-items:flex-start}.cdx-checklist__item-text{outline:none;flex-grow:1;line-height:1.57em}.cdx-checklist__item-checkbox{width:22px;height:22px;display:flex;align-items:center;margin-right:8px;margin-top:calc(.785em - 11px);cursor:pointer}.cdx-checklist__item-checkbox svg{opacity:0;height:20px;width:20px;position:absolute;left:-1px;top:-1px;max-height:20px}@media (hover: hover){.cdx-checklist__item-checkbox:not(.cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check svg{opacity:1}}.cdx-checklist__item-checkbox-check{cursor:pointer;display:inline-block;flex-shrink:0;position:relative;width:20px;height:20px;box-sizing:border-box;margin-left:0;border-radius:5px;border:1px solid #C9C9C9;background:#fff}.cdx-checklist__item-checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:#369fff;visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}@media (hover: hover){.cdx-checklist__item--checked .cdx-checklist__item-checkbox:not(.cdx-checklist__item--checked .cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check{background:#0059AB;border-color:#0059ab}}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check{background:#369FFF;border-color:#369fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg{opacity:1}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg path{stroke:#fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const wee='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',kee='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';function EE(){const t=document.activeElement,e=window.getSelection().getRangeAt(0),n=e.cloneRange();return n.selectNodeContents(t),n.setStart(e.endContainer,e.endOffset),n.extractContents()}function See(t){const e=document.createElement("div");return e.appendChild(t),e.innerHTML}function cd(t,e=null,n={}){const r=document.createElement(t);Array.isArray(e)?r.classList.add(...e):e&&r.classList.add(e);for(const s in n)r[s]=n[s];return r}function NE(t){return t.innerHTML.replace("<br>"," ").trim()}function jE(t,e=!1,n=void 0){const r=document.createRange(),s=window.getSelection();r.selectNodeContents(t),n!==void 0&&(r.setStart(t,n),r.setEnd(t,n)),r.collapse(e),s.removeAllRanges(),s.addRange(r)}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1);return null});let Cee=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:kee,title:"Checklist"}}static get conversionConfig(){return{export:e=>e.items.map(({text:n})=>n).join(". "),import:e=>({items:[{text:e,checked:!1}]})}}constructor({data:e,config:n,api:r,readOnly:s}){this._elements={wrapper:null,items:[]},this.readOnly=s,this.api=r,this.data=e||{}}render(){return this._elements.wrapper=cd("div",[this.CSS.baseBlock,this.CSS.wrapper]),this.data.items||(this.data.items=[{text:"",checked:!1}]),this.data.items.forEach(e=>{const n=this.createChecklistItem(e);this._elements.wrapper.appendChild(n)}),this.readOnly?this._elements.wrapper:(this._elements.wrapper.addEventListener("keydown",e=>{const[n,r]=[13,8];switch(e.keyCode){case n:this.enterPressed(e);break;case r:this.backspace(e);break}},!1),this._elements.wrapper.addEventListener("click",e=>{this.toggleCheckbox(e)}),this._elements.wrapper)}save(){let e=this.items.map(n=>{const r=this.getItemInput(n);return{text:NE(r),checked:n.classList.contains(this.CSS.itemChecked)}});return e=e.filter(n=>n.text.trim().length!==0),{items:e}}validate(e){return!!e.items.length}toggleCheckbox(e){const n=e.target.closest(`.${this.CSS.item}`),r=n.querySelector(`.${this.CSS.checkboxContainer}`);r.contains(e.target)&&(n.classList.toggle(this.CSS.itemChecked),r.classList.add(this.CSS.noHover),r.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(r),{once:!0}))}createChecklistItem(e={}){const n=cd("div",this.CSS.item),r=cd("span",this.CSS.checkbox),s=cd("div",this.CSS.checkboxContainer),o=cd("div",this.CSS.textField,{innerHTML:e.text?e.text:"",contentEditable:!this.readOnly});return e.checked&&n.classList.add(this.CSS.itemChecked),r.innerHTML=wee,s.appendChild(r),n.appendChild(s),n.appendChild(o),n}enterPressed(e){e.preventDefault();const n=this.items,r=document.activeElement.closest(`.${this.CSS.item}`);if(n.indexOf(r)===n.length-1&&NE(this.getItemInput(r)).length===0){const c=this.api.blocks.getCurrentBlockIndex();r.remove(),this.api.blocks.insert(),this.api.caret.setToBlock(c+1);return}const s=EE(),o=See(s),i=this.createChecklistItem({text:o,checked:!1});this._elements.wrapper.insertBefore(i,r.nextSibling),jE(this.getItemInput(i),!0)}backspace(e){const n=e.target.closest(`.${this.CSS.item}`),r=this.items.indexOf(n),s=this.items[r-1];if(!s||window.getSelection().focusOffset!==0)return;e.preventDefault();const o=EE(),i=this.getItemInput(s),c=i.childNodes.length;i.appendChild(o),jE(i,void 0,c),n.remove()}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-checklist",item:"cdx-checklist__item",itemChecked:"cdx-checklist__item--checked",noHover:"cdx-checklist__item-checkbox--no-hover",checkbox:"cdx-checklist__item-checkbox-check",textField:"cdx-checklist__item-text",checkboxContainer:"cdx-checklist__item-checkbox"}}get items(){return Array.from(this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`))}removeSpecialHoverBehavior(e){e.classList.remove(this.CSS.noHover)}getItemInput(e){return e.querySelector(`.${this.CSS.textField}`)}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const _ee='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',Eee='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',Nee='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>';var Up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jee(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Kf={},_1={},E1={};Object.defineProperty(E1,"__esModule",{value:!0});E1.allInputsSelector=Tee;function Tee(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=E1;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(_1);var Ba={},N1={};Object.defineProperty(N1,"__esModule",{value:!0});N1.isNativeInput=Mee;function Mee(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=N1;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(Ba);var iI={},j1={};Object.defineProperty(j1,"__esModule",{value:!0});j1.append=Oee;function Oee(t,e){Array.isArray(e)?e.forEach(function(n){t.appendChild(n)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=j1;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(iI);var T1={},M1={};Object.defineProperty(M1,"__esModule",{value:!0});M1.blockElements=Pee;function Pee(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=M1;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(T1);var aI={},O1={};Object.defineProperty(O1,"__esModule",{value:!0});O1.calculateBaseline=Aee;function Aee(t){var e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,s=parseFloat(e.paddingTop),o=parseFloat(e.borderTopWidth),i=parseFloat(e.marginTop),c=n*.8,u=(r-n)/2,h=i+o+s+u+c;return h}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=O1;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(aI);var lI={},P1={},A1={},R1={};Object.defineProperty(R1,"__esModule",{value:!0});R1.isContentEditable=Ree;function Ree(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=R1;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(A1);Object.defineProperty(P1,"__esModule",{value:!0});P1.canSetCaret=Lee;var Iee=Ba,Dee=A1;function Lee(t){var e=!0;if((0,Iee.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,Dee.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=P1;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(lI);var og={},I1={};function Bee(t,e,n){const r=n.value!==void 0?"value":"get",s=n[r],o=`#${e}Cache`;if(n[r]=function(...i){return this[o]===void 0&&(this[o]=s.apply(this,i)),this[o]},r==="get"&&n.set){const i=n.set;n.set=function(c){delete t[o],i.apply(this,c)}}return n}function cI(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e!==void 0&&(t[e]=!0),t}function D1(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function Fee(t){return!D1(t)}const $ee=()=>typeof window<"u"&&window.navigator!==null&&D1(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function zee(t){const e=cI();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function Uee(t){return t[0].toUpperCase()+t.slice(1)}function Hee(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const n=window.getSelection(),r=document.createRange();if(r.selectNode(e),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(e)}function Wee(t,e,n){let r;return(...s)=>{const o=this,i=()=>{r=void 0,n!==!0&&t.apply(o,s)},c=n===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(i,e),c&&t.apply(o,s)}}function Ni(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Vee(t){return Ni(t)==="boolean"}function dI(t){return Ni(t)==="function"||Ni(t)==="asyncfunction"}function qee(t){return dI(t)&&/^\s*class\s+/.test(t.toString())}function Yee(t){return Ni(t)==="number"}function Xf(t){return Ni(t)==="object"}function Kee(t){return Promise.resolve(t)===t}function Xee(t){return Ni(t)==="string"}function Gee(t){return Ni(t)==="undefined"}function f0(t,...e){if(!e.length)return t;const n=e.shift();if(Xf(t)&&Xf(n))for(const r in n)Xf(n[r])?(t[r]===void 0&&Object.assign(t,{[r]:{}}),f0(t[r],n[r])):Object.assign(t,{[r]:n[r]});return f0(t,...e)}function Jee(t,e,n){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&console.warn(r)}function Qee(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function Zee(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const ete={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},tte={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class nte{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}function rte(t,e,n=void 0){let r,s,o,i=null,c=0;n||(n={});const u=function(){c=n.leading===!1?0:Date.now(),i=null,o=t.apply(r,s),i===null&&(r=s=null)};return function(){const h=Date.now();!c&&n.leading===!1&&(c=h);const f=e-(h-c);return r=this,s=arguments,f<=0||f>e?(i&&(clearTimeout(i),i=null),c=h,o=t.apply(r,s),i===null&&(r=s=null)):!i&&n.trailing!==!1&&(i=setTimeout(u,f)),o}}const ste=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:nte,beautifyShortcut:zee,cacheable:Bee,capitalize:Uee,copyTextToClipboard:Hee,debounce:Wee,deepMerge:f0,deprecationAssert:Jee,getUserOS:cI,getValidUrl:Qee,isBoolean:Vee,isClass:qee,isEmpty:Fee,isFunction:dI,isIosDevice:$ee,isNumber:Yee,isObject:Xf,isPrintableKey:Zee,isPromise:Kee,isString:Xee,isUndefined:Gee,keyCodes:ete,mouseButtons:tte,notEmpty:D1,throttle:rte,typeOf:Ni},Symbol.toStringTag,{value:"Module"})),L1=jee(ste);Object.defineProperty(I1,"__esModule",{value:!0});I1.containsOnlyInlineElements=ate;var ote=L1,ite=T1;function ate(t){var e;(0,ote.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var n=function(r){return!(0,ite.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(n)};return Array.from(e.children).every(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=I1;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(og);var uI={},B1={},ig={},F1={};Object.defineProperty(F1,"__esModule",{value:!0});F1.make=lte;function lte(t,e,n){var r;e===void 0&&(e=null),n===void 0&&(n={});var s=document.createElement(t);if(Array.isArray(e)){var o=e.filter(function(c){return c!==void 0});(r=s.classList).add.apply(r,o)}else e!==null&&s.classList.add(e);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i]);return s}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=F1;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})(ig);Object.defineProperty(B1,"__esModule",{value:!0});B1.fragmentToString=dte;var cte=ig;function dte(t){var e=(0,cte.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=B1;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(uI);var hI={},$1={};Object.defineProperty($1,"__esModule",{value:!0});$1.getContentLength=hte;var ute=Ba;function hte(t){var e,n;return(0,ute.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(n=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=$1;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(hI);var z1={},U1={},TE=Up&&Up.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(U1,"__esModule",{value:!0});U1.getDeepestBlockElements=fI;var fte=og;function fI(t){return(0,fte.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,n){return TE(TE([],e,!0),fI(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=U1;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(z1);var pI={},H1={},ag={},W1={};Object.defineProperty(W1,"__esModule",{value:!0});W1.isLineBreakTag=pte;function pte(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=W1;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(ag);var lg={},V1={};Object.defineProperty(V1,"__esModule",{value:!0});V1.isSingleTag=mte;function mte(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=V1;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(lg);Object.defineProperty(H1,"__esModule",{value:!0});H1.getDeepestNode=mI;var gte=Ba,xte=ag,vte=lg;function mI(t,e){e===void 0&&(e=!1);var n=e?"lastChild":"firstChild",r=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[n]){var s=t[n];if((0,vte.isSingleTag)(s)&&!(0,gte.isNativeInput)(s)&&!(0,xte.isLineBreakTag)(s))if(s[r])s=s[r];else if(s.parentNode!==null&&s.parentNode[r])s=s.parentNode[r];else return s.parentNode;return mI(s,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=H1;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(pI);var gI={},q1={},lf=Up&&Up.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(q1,"__esModule",{value:!0});q1.findAllInputs=Ste;var yte=og,bte=z1,wte=_1,kte=Ba;function Ste(t){return Array.from(t.querySelectorAll((0,wte.allInputsSelector)())).reduce(function(e,n){return(0,kte.isNativeInput)(n)||(0,yte.containsOnlyInlineElements)(n)?lf(lf([],e,!0),[n],!1):lf(lf([],e,!0),(0,bte.getDeepestBlockElements)(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=q1;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(gI);var xI={},Y1={};Object.defineProperty(Y1,"__esModule",{value:!0});Y1.isCollapsedWhitespaces=Cte;function Cte(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=Y1;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(xI);var K1={},X1={};Object.defineProperty(X1,"__esModule",{value:!0});X1.isElement=Ete;var _te=L1;function Ete(t){return(0,_te.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=X1;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(K1);var vI={},G1={},J1={},Q1={};Object.defineProperty(Q1,"__esModule",{value:!0});Q1.isLeaf=Nte;function Nte(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=Q1;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(J1);var Z1={},ek={};Object.defineProperty(ek,"__esModule",{value:!0});ek.isNodeEmpty=Pte;var jte=ag,Tte=K1,Mte=Ba,Ote=lg;function Pte(t,e){var n="";return(0,Ote.isSingleTag)(t)&&!(0,jte.isLineBreakTag)(t)?!1:((0,Tte.isElement)(t)&&(0,Mte.isNativeInput)(t)?n=t.value:t.textContent!==null&&(n=t.textContent.replace("","")),e!==void 0&&(n=n.replace(new RegExp(e,"g"),"")),n.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=ek;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(Z1);Object.defineProperty(G1,"__esModule",{value:!0});G1.isEmpty=Ite;var Ate=J1,Rte=Z1;function Ite(t,e){t.normalize();for(var n=[t];n.length>0;){var r=n.shift();if(r){if(t=r,(0,Ate.isLeaf)(t)&&!(0,Rte.isNodeEmpty)(t,e))return!1;n.push.apply(n,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=G1;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(vI);var yI={},tk={};Object.defineProperty(tk,"__esModule",{value:!0});tk.isFragment=Lte;var Dte=L1;function Lte(t){return(0,Dte.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=tk;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(yI);var bI={},nk={};Object.defineProperty(nk,"__esModule",{value:!0});nk.isHTMLString=Fte;var Bte=ig;function Fte(t){var e=(0,Bte.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=nk;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(bI);var wI={},rk={};Object.defineProperty(rk,"__esModule",{value:!0});rk.offset=$te;function $te(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,s=e.top+r,o=e.left+n;return{top:s,left:o,bottom:s+e.height,right:o+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=rk;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(wI);var kI={},sk={};Object.defineProperty(sk,"__esModule",{value:!0});sk.prepend=zte;function zte(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(n){return t.prepend(n)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=sk;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(kI);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=_1;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var n=Ba;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var r=iI;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return r.append}});var s=T1;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return s.blockElements}});var o=aI;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return o.calculateBaseline}});var i=lI;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return i.canSetCaret}});var c=og;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return c.containsOnlyInlineElements}});var u=uI;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return u.fragmentToString}});var h=hI;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return h.getContentLength}});var f=z1;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return f.getDeepestBlockElements}});var m=pI;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return m.getDeepestNode}});var g=gI;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return g.findAllInputs}});var y=xI;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return y.isCollapsedWhitespaces}});var v=A1;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return v.isContentEditable}});var b=K1;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return b.isElement}});var k=vI;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return k.isEmpty}});var C=yI;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return C.isFragment}});var _=bI;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return _.isHTMLString}});var T=J1;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return T.isLeaf}});var N=Z1;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return N.isNodeEmpty}});var j=ag;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return j.isLineBreakTag}});var P=lg;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return P.isSingleTag}});var I=ig;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return I.make}});var O=wI;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return O.offset}});var L=kI;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return L.prepend}})})(Kf);var SI=(t=>(t.Left="left",t.Center="center",t))(SI||{});let Ute=class Gf{constructor({data:e,config:n,api:r,readOnly:s,block:o}){const{DEFAULT_ALIGNMENT:i}=Gf;this.api=r,this.readOnly=s,this.quotePlaceholder=r.i18n.t(n?.quotePlaceholder??Gf.DEFAULT_QUOTE_PLACEHOLDER),this.captionPlaceholder=r.i18n.t(n?.captionPlaceholder??Gf.DEFAULT_CAPTION_PLACEHOLDER),this.data={text:e.text||"",caption:e.caption||"",alignment:Object.values(SI).includes(e.alignment)?e.alignment:n?.defaultAlignment??i},this.css={baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"},this.block=o}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:Nee,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get DEFAULT_ALIGNMENT(){return"left"}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?`${e.text}  ${e.caption}`:e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:Eee},{name:"center",icon:_ee}]}render(){const e=Kf.make("blockquote",[this.css.baseClass,this.css.wrapper]),n=Kf.make("div",[this.css.input,this.css.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),r=Kf.make("div",[this.css.input,this.css.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return n.dataset.placeholder=this.quotePlaceholder,r.dataset.placeholder=this.captionPlaceholder,e.appendChild(n),e.appendChild(r),e}save(e){const n=e.querySelector(`.${this.css.text}`),r=e.querySelector(`.${this.css.caption}`);return Object.assign(this.data,{text:n?.innerHTML??"",caption:r?.innerHTML??""})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){const e=n=>n&&n[0].toUpperCase()+n.slice(1);return this.settings.map(n=>({icon:n.icon,label:this.api.i18n.t(`Align ${e(n.name)}`),onActivate:()=>this._toggleTune(n.name),isActive:this.data.alignment===n.name,closeOnActivate:!0}))}_toggleTune(e){this.data.alignment=e,this.block.dispatchChange()}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.ce-delimiter{line-height:1.6em;width:100%;text-align:center}.ce-delimiter:before{display:inline-block;content:"***";font-size:30px;line-height:65px;height:30px;letter-spacing:.2em}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Hte='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';/**
 * Delimiter Block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 * @version 2.0.0
 */class Wte{static get isReadOnlySupported(){return!0}static get contentless(){return!0}constructor({data:e,config:n,api:r}){this.api=r,this._CSS={block:this.api.styles.block,wrapper:"ce-delimiter"},this._element=this.drawView(),this.data=e}drawView(){let e=document.createElement("div");return e.classList.add(this._CSS.wrapper,this._CSS.block),e}render(){return this._element}save(e){return{}}static get toolbox(){return{icon:Hte,title:"Delimiter"}}static get pasteConfig(){return{tags:["HR"]}}onPaste(e){this.data={}}}(function(){var t;try{if(typeof document<"u"){var e=document.createElement("style");e.nonce=(t=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:t.content,e.appendChild(document.createTextNode('.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size);z-index:0}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border);position:sticky;top:0;z-index:2;background:var(--color-background)}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{display:grid;border-top:1px solid var(--color-border);grid-template-columns:var(--cell-size);grid-auto-rows:var(--cell-size);place-items:center}.tc-add-column svg{padding:5px;position:sticky;top:0;background-color:var(--color-background)}.tc-add-column--disabled{visibility:hidden}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative}.tc-add-row--disabled{display:none}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border)}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translate(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;padding:6px;display:none;will-change:opacity,transform}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm)}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:#0000001a}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}')),document.head.appendChild(e)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();function pr(t,e,n={}){const r=document.createElement(t);Array.isArray(e)?r.classList.add(...e):e&&r.classList.add(e);for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s]);return r}function ME(t){const e=t.getBoundingClientRect();return{y1:Math.floor(e.top+window.pageYOffset),x1:Math.floor(e.left+window.pageXOffset),x2:Math.floor(e.right+window.pageXOffset),y2:Math.floor(e.bottom+window.pageYOffset)}}function OE(t,e){const n=ME(t),r=ME(e);return{fromTopBorder:r.y1-n.y1,fromLeftBorder:r.x1-n.x1,fromRightBorder:n.x2-r.x2,fromBottomBorder:n.y2-r.y2}}function Vte(t,e){const n=t.getBoundingClientRect(),{width:r,height:s,x:o,y:i}=n,{clientX:c,clientY:u}=e;return{width:r,height:s,x:c-o,y:u-i}}function PE(t,e){return e.parentNode.insertBefore(t,e)}function AE(t,e=!0){const n=document.createRange(),r=window.getSelection();n.selectNodeContents(t),n.collapse(e),r.removeAllRanges(),r.addRange(n)}class Gn{constructor({items:e}){this.items=e,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=pr("div",Gn.CSS.popover),this.items.forEach((e,n)=>{const r=pr("div",Gn.CSS.item),s=pr("div",Gn.CSS.itemIcon,{innerHTML:e.icon}),o=pr("div",Gn.CSS.itemLabel,{textContent:e.label});r.dataset.index=n,r.appendChild(s),r.appendChild(o),this.wrapper.appendChild(r),this.itemEls.push(r)}),this.wrapper.addEventListener("click",e=>{this.popoverClicked(e)}),this.wrapper}popoverClicked(e){const n=e.target.closest(`.${Gn.CSS.item}`);if(!n)return;const r=n.dataset.index,s=this.items[r];if(s.confirmationRequired&&!this.hasConfirmationState(n)){this.setConfirmationState(n);return}s.onClick()}setConfirmationState(e){e.classList.add(Gn.CSS.itemConfirmState)}clearConfirmationState(e){e.classList.remove(Gn.CSS.itemConfirmState)}hasConfirmationState(e){return e.classList.contains(Gn.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(Gn.CSS.popoverOpened)}open(){this.items.forEach((e,n)=>{typeof e.hideIf=="function"&&this.itemEls[n].classList.toggle(Gn.CSS.itemHidden,e.hideIf())}),this.wrapper.classList.add(Gn.CSS.popoverOpened)}close(){this.wrapper.classList.remove(Gn.CSS.popoverOpened),this.itemEls.forEach(e=>{this.clearConfirmationState(e)})}}const qte='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L10 12M10 12L7 15M10 12H4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L14 12M14 12L17 15M14 12H20"/></svg>',RE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',Yte='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',Kte='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',Xte='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',Gte='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',Jte='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.41 9.66H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 9.66H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.31 14.36H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 14.36H14.59"/></svg>',IE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Qte='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',Zte='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',ene='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',tne='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';class ai{constructor({api:e,items:n,onOpen:r,onClose:s,cssModifier:o=""}){this.api=e,this.items=n,this.onOpen=r,this.onClose=s,this.cssModifier=o,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){const e=pr("div",[ai.CSS.toolbox,this.cssModifier?`${ai.CSS.toolbox}--${this.cssModifier}`:""]);e.dataset.mutationFree="true";const n=this.createPopover(),r=this.createToggler();return e.appendChild(r),e.appendChild(n),e}createToggler(){const e=pr("div",ai.CSS.toggler,{innerHTML:Jte});return e.addEventListener("click",()=>{this.togglerClicked()}),e}createPopover(){return this.popover=new Gn({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(e){const n=e();Object.entries(n).forEach(([r,s])=>{this.wrapper.style[r]=s}),this.wrapper.classList.add(ai.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(ai.CSS.toolboxShowed)}}function nne(t,e){let n=0;return function(...r){const s=new Date().getTime();if(!(s-n<t))return n=s,e(...r)}}const Ze={wrapper:"tc-wrap",wrapperReadOnly:"tc-wrap--readonly",table:"tc-table",row:"tc-row",withHeadings:"tc-table--heading",rowSelected:"tc-row--selected",cell:"tc-cell",cellSelected:"tc-cell--selected",addRow:"tc-add-row",addRowDisabled:"tc-add-row--disabled",addColumn:"tc-add-column",addColumnDisabled:"tc-add-column--disabled"};class rne{constructor(e,n,r,s){this.readOnly=e,this.api=n,this.data=r,this.config=s,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=o=>{const i=o.target.closest(`.${Ze.table}`)!==null,c=o.target.closest(`.${Ze.wrapper}`)===null;(i||c)&&this.hideToolboxes();const u=o.target.closest(`.${Ze.addRow}`),h=o.target.closest(`.${Ze.addColumn}`);u&&u.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):h&&h.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",nne(150,e=>this.onMouseMoveInTable(e)),{passive:!0}),this.table.onkeypress=e=>this.onKeyPressListener(e),this.table.addEventListener("keydown",e=>this.onKeyDownListener(e)),this.table.addEventListener("focusin",e=>this.focusInTableListener(e))}createColumnToolbox(){return new ai({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:Kte,hideIf:()=>this.numberOfColumns===this.config.maxcols,onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:Xte,hideIf:()=>this.numberOfColumns===this.config.maxcols,onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:RE,hideIf:()=>this.numberOfColumns===1,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new ai({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:Gte,hideIf:()=>this.numberOfRows===this.config.maxrows,onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:Yte,hideIf:()=>this.numberOfRows===this.config.maxrows,onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:RE,hideIf:()=>this.numberOfRows===1,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(e,n){return this.table.querySelectorAll(`.${Ze.row}:nth-child(${e}) .${Ze.cell}`)[n-1]}getRow(e){return this.table.querySelector(`.${Ze.row}:nth-child(${e})`)}getRowByCell(e){return e.parentElement}getRowFirstCell(e){return e.querySelector(`.${Ze.cell}:first-child`)}setCellContent(e,n,r){const s=this.getCell(e,n);s.innerHTML=r}addColumn(e=-1,n=!1){var r;let s=this.numberOfColumns;if(this.config&&this.config.maxcols&&this.numberOfColumns>=this.config.maxcols)return;for(let i=1;i<=this.numberOfRows;i++){let c;const u=this.createCell();if(e>0&&e<=s?(c=this.getCell(i,e),PE(u,c)):c=this.getRow(i).appendChild(u),i===1){const h=this.getCell(i,e>0?e:s+1);h&&n&&AE(h)}}const o=this.wrapper.querySelector(`.${Ze.addColumn}`);(r=this.config)!=null&&r.maxcols&&this.numberOfColumns>this.config.maxcols-1&&o&&o.classList.add(Ze.addColumnDisabled),this.addHeadingAttrToFirstRow()}addRow(e=-1,n=!1){let r,s=pr("div",Ze.row);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let o=this.numberOfColumns;if(this.config&&this.config.maxrows&&this.numberOfRows>=this.config.maxrows&&c)return;if(e>0&&e<=this.numberOfRows){let u=this.getRow(e);r=PE(s,u)}else r=this.table.appendChild(s);this.fillRow(r,o),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();const i=this.getRowFirstCell(r);i&&n&&AE(i);const c=this.wrapper.querySelector(`.${Ze.addRow}`);return this.config&&this.config.maxrows&&this.numberOfRows>=this.config.maxrows&&c&&c.classList.add(Ze.addRowDisabled),r}deleteColumn(e){for(let r=1;r<=this.numberOfRows;r++){const s=this.getCell(r,e);if(!s)return;s.remove()}const n=this.wrapper.querySelector(`.${Ze.addColumn}`);n&&n.classList.remove(Ze.addColumnDisabled)}deleteRow(e){this.getRow(e).remove();const n=this.wrapper.querySelector(`.${Ze.addRow}`);n&&n.classList.remove(Ze.addRowDisabled),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=pr("div",Ze.wrapper),this.table=pr("div",Ze.table),this.readOnly&&this.wrapper.classList.add(Ze.wrapperReadOnly),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){const e=pr("div",Ze.addColumn,{innerHTML:IE}),n=pr("div",Ze.addRow,{innerHTML:IE});this.wrapper.appendChild(e),this.wrapper.appendChild(n)}}computeInitialSize(){const e=this.data&&this.data.content,n=Array.isArray(e),r=n?e.length:!1,s=n?e.length:void 0,o=r?e[0].length:void 0,i=Number.parseInt(this.config&&this.config.rows),c=Number.parseInt(this.config&&this.config.cols),u=!isNaN(i)&&i>0?i:void 0,h=!isNaN(c)&&c>0?c:void 0;return{rows:s||u||2,cols:o||h||2}}resize(){const{rows:e,cols:n}=this.computeInitialSize();for(let r=0;r<e;r++)this.addRow();for(let r=0;r<n;r++)this.addColumn()}fill(){const e=this.data;if(e&&e.content)for(let n=0;n<e.content.length;n++)for(let r=0;r<e.content[n].length;r++)this.setCellContent(n+1,r+1,e.content[n][r])}fillRow(e,n){for(let r=1;r<=n;r++){const s=this.createCell();e.appendChild(s)}}createCell(){return pr("div",Ze.cell,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${Ze.row}:first-child .${Ze.cell}`).length:0}get isColumnMenuShowing(){return this.selectedColumn!==0}get isRowMenuShowing(){return this.selectedRow!==0}onMouseMoveInTable(e){const{row:n,column:r}=this.getHoveredCell(e);this.hoveredColumn=r,this.hoveredRow=n,this.updateToolboxesPosition()}onKeyPressListener(e){if(e.key==="Enter"){if(e.shiftKey)return!0;this.moveCursorToNextRow()}return e.key!=="Enter"}onKeyDownListener(e){e.key==="Tab"&&e.stopPropagation()}focusInTableListener(e){const n=e.target,r=this.getRowByCell(n);this.focusedCell={row:Array.from(this.table.querySelectorAll(`.${Ze.row}`)).indexOf(r)+1,column:Array.from(r.querySelectorAll(`.${Ze.cell}`)).indexOf(n)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){const{row:e,column:n}=this.focusedCell;return this.getCell(e,n)}updateToolboxesPosition(e=this.hoveredRow,n=this.hoveredColumn){this.isColumnMenuShowing||n>0&&n<=this.numberOfColumns&&this.toolboxColumn.show(()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${n} - 1) * 2))`})),this.isRowMenuShowing||e>0&&e<=this.numberOfRows&&this.toolboxRow.show(()=>{const r=this.getRow(e),{fromTopBorder:s}=OE(this.table,r),{height:o}=r.getBoundingClientRect();return{top:`${Math.ceil(s+o/2)}px`}})}setHeadingsSetting(e){this.tunes.withHeadings=e,e?(this.table.classList.add(Ze.withHeadings),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(Ze.withHeadings),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let e=1;e<=this.numberOfColumns;e++){let n=this.getCell(1,e);n&&n.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let e=1;e<=this.numberOfColumns;e++){let n=this.getCell(1,e);n&&n.removeAttribute("heading")}}selectRow(e){const n=this.getRow(e);n&&(this.selectedRow=e,n.classList.add(Ze.rowSelected))}unselectRow(){if(this.selectedRow<=0)return;const e=this.table.querySelector(`.${Ze.rowSelected}`);e&&e.classList.remove(Ze.rowSelected),this.selectedRow=0}selectColumn(e){for(let n=1;n<=this.numberOfRows;n++){const r=this.getCell(n,e);r&&r.classList.add(Ze.cellSelected)}this.selectedColumn=e}unselectColumn(){if(this.selectedColumn<=0)return;let e=this.table.querySelectorAll(`.${Ze.cellSelected}`);Array.from(e).forEach(n=>{n.classList.remove(Ze.cellSelected)}),this.selectedColumn=0}getHoveredCell(e){let n=this.hoveredRow,r=this.hoveredColumn;const{width:s,height:o,x:i,y:c}=Vte(this.table,e);return i>=0&&(r=this.binSearch(this.numberOfColumns,u=>this.getCell(1,u),({fromLeftBorder:u})=>i<u,({fromRightBorder:u})=>i>s-u)),c>=0&&(n=this.binSearch(this.numberOfRows,u=>this.getCell(u,1),({fromTopBorder:u})=>c<u,({fromBottomBorder:u})=>c>o-u)),{row:n||this.hoveredRow,column:r||this.hoveredColumn}}binSearch(e,n,r,s){let o=0,i=e+1,c=0,u;for(;o<i-1&&c<10;){u=Math.ceil((o+i)/2);const h=n(u),f=OE(this.table,h);if(r(f))i=u;else if(s(f))o=u;else break;c++}return u}getData(){const e=[];for(let n=1;n<=this.numberOfRows;n++){const r=this.table.querySelector(`.${Ze.row}:nth-child(${n})`),s=Array.from(r.querySelectorAll(`.${Ze.cell}`));s.every(o=>!o.textContent.trim())||e.push(s.map(o=>o.innerHTML))}return e}destroy(){document.removeEventListener("click",this.documentClicked)}}class sne{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:e,config:n,api:r,readOnly:s,block:o}){this.api=r,this.readOnly=s,this.config=n,this.data={withHeadings:this.getConfig("withHeadings",!1,e),stretched:this.getConfig("stretched",!1,e),content:e&&e.content?e.content:[]},this.table=null,this.block=o}static get toolbox(){return{icon:tne,title:"Table"}}render(){return this.table=new rne(this.readOnly,this.api,this.data,this.config),this.container=pr("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:Zte,isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:ene,isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.data.stretched?this.api.i18n.t("Collapse"):this.api.i18n.t("Stretch"),icon:this.data.stretched?qte:Qte,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.stretched=!this.data.stretched,this.block.stretched=this.data.stretched}}]}save(){const e=this.table.getData();return{withHeadings:this.data.withHeadings,stretched:this.data.stretched,content:e}}destroy(){this.table.destroy()}getConfig(e,n=void 0,r=void 0){const s=this.data||r;return s?s[e]?s[e]:n:this.config&&this.config[e]?this.config[e]:n}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(e){const n=e.detail.data,r=n.querySelector(":scope > thead, tr:first-of-type th"),s=Array.from(n.querySelectorAll("tr")).map(o=>Array.from(o.querySelectorAll("th, td")).map(i=>i.innerHTML));this.data={withHeadings:r!==null,content:s},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-code__textarea{min-height:200px;font-family:Menlo,Monaco,Consolas,Courier New,monospace;color:#41314e;line-height:1.6em;font-size:12px;background:#f8f7fa;border:1px solid #f1f1f4;box-shadow:none;white-space:pre;word-wrap:normal;overflow-x:auto;resize:vertical}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();function one(t,e){let n="";for(;n!==`
`&&e>0;)e=e-1,n=t.substr(e,1);return n===`
`&&(e+=1),e}const ine='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';/**
 * CodeTool for Editor.js
 * @version 2.0.0
 * @license MIT
 */class ok{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:e,config:n,api:r,readOnly:s}){this.api=r,this.readOnly=s,this.placeholder=this.api.i18n.t(n.placeholder||ok.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code",textarea:"ce-code__textarea"},this.nodes={holder:null,textarea:null},this.data={code:e.code??""},this.nodes.holder=this.drawView()}render(){return this.nodes.holder}save(e){return{code:e.querySelector("textarea").value}}onPaste(e){const n=e.detail;if("data"in n){const r=n.data;this.data={code:r||""}}}get data(){return this._data}set data(e){this._data=e,this.nodes.textarea&&(this.nodes.textarea.value=e.code)}static get toolbox(){return{icon:ine,title:"Code"}}static get DEFAULT_PLACEHOLDER(){return"Enter a code"}static get pasteConfig(){return{tags:["pre"]}}static get sanitize(){return{code:!0}}tabHandler(e){e.stopPropagation(),e.preventDefault();const n=e.target,r=e.shiftKey,s=n.selectionStart,o=n.value,i="  ";let c;if(!r)c=s+i.length,n.value=o.substring(0,s)+i+o.substring(s);else{const u=one(o,s);if(o.substr(u,i.length)!==i)return;n.value=o.substring(0,u)+o.substring(u+i.length),c=s-i.length}n.setSelectionRange(c,c)}drawView(){const e=document.createElement("div"),n=document.createElement("textarea");return e.classList.add(this.CSS.baseClass,this.CSS.wrapper),n.classList.add(this.CSS.textarea,this.CSS.input),n.value=this.data.code,n.placeholder=this.placeholder,this.readOnly&&(n.disabled=!0),e.appendChild(n),n.addEventListener("keydown",r=>{switch(r.code){case"Tab":this.tabHandler(r);break}}),this.nodes.textarea=n,e}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px;padding-bottom:0}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption{visibility:hidden;position:absolute;bottom:0;left:0;margin-bottom:10px}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__image-preloader{display:none}.image-tool--empty .image-tool__caption,.image-tool--uploading .image-tool__caption{visibility:hidden!important}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--uploading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--uploading .image-tool__image-picture,.image-tool--uploading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}.image-tool--caption .image-tool__caption{visibility:visible}.image-tool--caption{padding-bottom:50px}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const ane='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',lne='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',CI='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',cne='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',dne='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function gl(t,e=null,n={}){const r=document.createElement(t);Array.isArray(e)?r.classList.add(...e):e!==null&&r.classList.add(e);for(const s in n)n.hasOwnProperty(s)&&(r[s]=n[s]);return r}var Jf=(t=>(t.Empty="empty",t.Uploading="uploading",t.Filled="filled",t))(Jf||{});class une{constructor({api:e,config:n,onSelectFile:r,readOnly:s}){this.api=e,this.config=n,this.onSelectFile=r,this.readOnly=s,this.nodes={wrapper:gl("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:gl("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:gl("div",this.CSS.imagePreloader),caption:gl("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(e,n){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,n)}render(){return this.toggleStatus("empty"),this.nodes.wrapper}showPreloader(e){this.nodes.imagePreloader.style.backgroundImage=`url(${e})`,this.toggleStatus("uploading")}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus("empty")}fillImage(e){const n=/\.mp4$/.test(e)?"VIDEO":"IMG",r={src:e};let s="load";n==="VIDEO"&&(r.autoplay=!0,r.loop=!0,r.muted=!0,r.playsinline=!0,s="loadeddata"),this.nodes.imageEl=gl(n,this.CSS.imageEl,r),this.nodes.imageEl.addEventListener(s,()=>{this.toggleStatus("filled"),this.nodes.imagePreloader!==void 0&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(e){this.nodes.caption!==void 0&&(this.nodes.caption.innerHTML=e)}toggleStatus(e){for(const n in Jf)if(Object.prototype.hasOwnProperty.call(Jf,n)){const r=Jf[n];this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${r}`,r===e)}}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}createFileButton(){const e=gl("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent??`${CI} ${this.api.i18n.t("Select an Image")}`,e.addEventListener("click",()=>{this.onSelectFile()}),e}}function hne(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _I={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return(function(n){var r={};function s(o){if(r[o])return r[o].exports;var i=r[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=n,s.c=r,s.d=function(o,i,c){s.o(o,i)||Object.defineProperty(o,i,{enumerable:!0,get:c})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,i){if(1&i&&(o=s(o)),8&i||4&i&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),2&i&&typeof o!="string")for(var u in o)s.d(c,u,(function(h){return o[h]}).bind(null,u));return c},s.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(i,"a",i),i},s.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},s.p="",s(s.s=3)})([function(n,r){var s;s=(function(){return this})();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}n.exports=s},function(n,r,s){(function(o){var i=s(2),c=setTimeout;function u(){}function h(k){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if(typeof k!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],b(k,this)}function f(k,C){for(;k._state===3;)k=k._value;k._state!==0?(k._handled=!0,h._immediateFn(function(){var _=k._state===1?C.onFulfilled:C.onRejected;if(_!==null){var T;try{T=_(k._value)}catch(N){return void g(C.promise,N)}m(C.promise,T)}else(k._state===1?m:g)(C.promise,k._value)})):k._deferreds.push(C)}function m(k,C){try{if(C===k)throw new TypeError("A promise cannot be resolved with itself.");if(C&&(typeof C=="object"||typeof C=="function")){var _=C.then;if(C instanceof h)return k._state=3,k._value=C,void y(k);if(typeof _=="function")return void b((T=_,N=C,function(){T.apply(N,arguments)}),k)}k._state=1,k._value=C,y(k)}catch(j){g(k,j)}var T,N}function g(k,C){k._state=2,k._value=C,y(k)}function y(k){k._state===2&&k._deferreds.length===0&&h._immediateFn(function(){k._handled||h._unhandledRejectionFn(k._value)});for(var C=0,_=k._deferreds.length;C<_;C++)f(k,k._deferreds[C]);k._deferreds=null}function v(k,C,_){this.onFulfilled=typeof k=="function"?k:null,this.onRejected=typeof C=="function"?C:null,this.promise=_}function b(k,C){var _=!1;try{k(function(T){_||(_=!0,m(C,T))},function(T){_||(_=!0,g(C,T))})}catch(T){if(_)return;_=!0,g(C,T)}}h.prototype.catch=function(k){return this.then(null,k)},h.prototype.then=function(k,C){var _=new this.constructor(u);return f(this,new v(k,C,_)),_},h.prototype.finally=i.a,h.all=function(k){return new h(function(C,_){if(!k||k.length===void 0)throw new TypeError("Promise.all accepts an array");var T=Array.prototype.slice.call(k);if(T.length===0)return C([]);var N=T.length;function j(I,O){try{if(O&&(typeof O=="object"||typeof O=="function")){var L=O.then;if(typeof L=="function")return void L.call(O,function($){j(I,$)},_)}T[I]=O,--N==0&&C(T)}catch($){_($)}}for(var P=0;P<T.length;P++)j(P,T[P])})},h.resolve=function(k){return k&&typeof k=="object"&&k.constructor===h?k:new h(function(C){C(k)})},h.reject=function(k){return new h(function(C,_){_(k)})},h.race=function(k){return new h(function(C,_){for(var T=0,N=k.length;T<N;T++)k[T].then(C,_)})},h._immediateFn=typeof o=="function"&&function(k){o(k)}||function(k){c(k,0)},h._unhandledRejectionFn=function(k){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",k)},r.a=h}).call(this,s(5).setImmediate)},function(n,r,s){r.a=function(o){var i=this.constructor;return this.then(function(c){return i.resolve(o()).then(function(){return c})},function(c){return i.resolve(o()).then(function(){return i.reject(c)})})}},function(n,r,s){function o(b){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(b)}s(4);var i,c,u,h,f,m,g,y=s(8),v=(c=function(b){return new Promise(function(k,C){b=h(b),(b=f(b)).beforeSend&&b.beforeSend();var _=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");_.open(b.method,b.url),_.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(b.headers).forEach(function(N){var j=b.headers[N];_.setRequestHeader(N,j)});var T=b.ratio;_.upload.addEventListener("progress",function(N){var j=Math.round(N.loaded/N.total*100),P=Math.ceil(j*T/100);b.progress(Math.min(P,100))},!1),_.addEventListener("progress",function(N){var j=Math.round(N.loaded/N.total*100),P=Math.ceil(j*(100-T)/100)+T;b.progress(Math.min(P,100))},!1),_.onreadystatechange=function(){if(_.readyState===4){var N=_.response;try{N=JSON.parse(N)}catch{}var j=y.parseHeaders(_.getAllResponseHeaders()),P={body:N,code:_.status,headers:j};g(_.status)?k(P):C(P)}},_.send(b.data)})},u=function(b){return b.method="POST",c(b)},h=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(b.url&&typeof b.url!="string")throw new Error("Url must be a string");if(b.url=b.url||"",b.method&&typeof b.method!="string")throw new Error("`method` must be a string or null");if(b.method=b.method?b.method.toUpperCase():"GET",b.headers&&o(b.headers)!=="object")throw new Error("`headers` must be an object or null");if(b.headers=b.headers||{},b.type&&(typeof b.type!="string"||!Object.values(i).includes(b.type)))throw new Error("`type` must be taken from module's contentType library");if(b.progress&&typeof b.progress!="function")throw new Error("`progress` must be a function or null");if(b.progress=b.progress||function(k){},b.beforeSend=b.beforeSend||function(k){},b.ratio&&typeof b.ratio!="number")throw new Error("`ratio` must be a number");if(b.ratio<0||b.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(b.ratio=b.ratio||90,b.accept&&typeof b.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(b.accept=b.accept||"*/*",b.multiple&&typeof b.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(b.multiple=b.multiple||!1,b.fieldName&&typeof b.fieldName!="string")throw new Error("`fieldName` must be a string");return b.fieldName=b.fieldName||"files",b},f=function(b){switch(b.method){case"GET":var k=m(b.data,i.URLENCODED);delete b.data,b.url=/\?/.test(b.url)?b.url+"&"+k:b.url+"?"+k;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var C=(function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||i.JSON})(b);(y.isFormData(b.data)||y.isFormElement(b.data))&&(C=i.FORM),b.data=m(b.data,C),C!==v.contentType.FORM&&(b.headers["content-type"]=C)}return b},m=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case i.URLENCODED:return y.urlEncode(b);case i.JSON:return y.jsonEncode(b);case i.FORM:return y.formEncode(b);default:return b}},g=function(b){return b>=200&&b<300},{contentType:i={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:c,get:function(b){return b.method="GET",c(b)},post:u,transport:function(b){return b=h(b),y.selectFiles(b).then(function(k){for(var C=new FormData,_=0;_<k.length;_++)C.append(b.fieldName,k[_],k[_].name);y.isObject(b.data)&&Object.keys(b.data).forEach(function(N){var j=b.data[N];C.append(N,j)});var T=b.beforeSend;return b.beforeSend=function(){return T(k)},b.data=C,u(b)})},selectFiles:function(b){return delete(b=h(b)).beforeSend,y.selectFiles(b)}});n.exports=v},function(n,r,s){s.r(r);var o=s(1);window.Promise=window.Promise||o.a},function(n,r,s){(function(o){var i=o!==void 0&&o||typeof self<"u"&&self||window,c=Function.prototype.apply;function u(h,f){this._id=h,this._clearFn=f}r.setTimeout=function(){return new u(c.call(setTimeout,i,arguments),clearTimeout)},r.setInterval=function(){return new u(c.call(setInterval,i,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(h){h&&h.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(i,this._id)},r.enroll=function(h,f){clearTimeout(h._idleTimeoutId),h._idleTimeout=f},r.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},r._unrefActive=r.active=function(h){clearTimeout(h._idleTimeoutId);var f=h._idleTimeout;f>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},f))},s(6),r.setImmediate=typeof self<"u"&&self.setImmediate||o!==void 0&&o.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||o!==void 0&&o.clearImmediate||this&&this.clearImmediate}).call(this,s(0))},function(n,r,s){(function(o,i){(function(c,u){if(!c.setImmediate){var h,f,m,g,y,v=1,b={},k=!1,C=c.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(c);_=_&&_.setTimeout?_:c,{}.toString.call(c.process)==="[object process]"?h=function(j){i.nextTick(function(){N(j)})}:(function(){if(c.postMessage&&!c.importScripts){var j=!0,P=c.onmessage;return c.onmessage=function(){j=!1},c.postMessage("","*"),c.onmessage=P,j}})()?(g="setImmediate$"+Math.random()+"$",y=function(j){j.source===c&&typeof j.data=="string"&&j.data.indexOf(g)===0&&N(+j.data.slice(g.length))},c.addEventListener?c.addEventListener("message",y,!1):c.attachEvent("onmessage",y),h=function(j){c.postMessage(g+j,"*")}):c.MessageChannel?((m=new MessageChannel).port1.onmessage=function(j){N(j.data)},h=function(j){m.port2.postMessage(j)}):C&&"onreadystatechange"in C.createElement("script")?(f=C.documentElement,h=function(j){var P=C.createElement("script");P.onreadystatechange=function(){N(j),P.onreadystatechange=null,f.removeChild(P),P=null},f.appendChild(P)}):h=function(j){setTimeout(N,0,j)},_.setImmediate=function(j){typeof j!="function"&&(j=new Function(""+j));for(var P=new Array(arguments.length-1),I=0;I<P.length;I++)P[I]=arguments[I+1];var O={callback:j,args:P};return b[v]=O,h(v),v++},_.clearImmediate=T}function T(j){delete b[j]}function N(j){if(k)setTimeout(N,0,j);else{var P=b[j];if(P){k=!0;try{(function(I){var O=I.callback,L=I.args;switch(L.length){case 0:O();break;case 1:O(L[0]);break;case 2:O(L[0],L[1]);break;case 3:O(L[0],L[1],L[2]);break;default:O.apply(u,L)}})(P)}finally{T(j),k=!1}}}}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,s(0),s(7))},function(n,r){var s,o,i=n.exports={};function c(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function h(_){if(s===setTimeout)return setTimeout(_,0);if((s===c||!s)&&setTimeout)return s=setTimeout,setTimeout(_,0);try{return s(_,0)}catch{try{return s.call(null,_,0)}catch{return s.call(this,_,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:c}catch{s=c}try{o=typeof clearTimeout=="function"?clearTimeout:u}catch{o=u}})();var f,m=[],g=!1,y=-1;function v(){g&&f&&(g=!1,f.length?m=f.concat(m):y=-1,m.length&&b())}function b(){if(!g){var _=h(v);g=!0;for(var T=m.length;T;){for(f=m,m=[];++y<T;)f&&f[y].run();y=-1,T=m.length}f=null,g=!1,(function(N){if(o===clearTimeout)return clearTimeout(N);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(N);try{o(N)}catch{try{return o.call(null,N)}catch{return o.call(this,N)}}})(_)}}function k(_,T){this.fun=_,this.array=T}function C(){}i.nextTick=function(_){var T=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)T[N-1]=arguments[N];m.push(new k(_,T)),m.length!==1||g||h(b)},k.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=C,i.addListener=C,i.once=C,i.off=C,i.removeListener=C,i.removeAllListeners=C,i.emit=C,i.prependListener=C,i.prependOnceListener=C,i.listeners=function(_){return[]},i.binding=function(_){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(_){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(n,r,s){function o(c,u){for(var h=0;h<u.length;h++){var f=u[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}var i=s(9);n.exports=(function(){function c(){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,c)}var u,h,f;return u=c,f=[{key:"urlEncode",value:function(m){return i(m)}},{key:"jsonEncode",value:function(m){return JSON.stringify(m)}},{key:"formEncode",value:function(m){if(this.isFormData(m))return m;if(this.isFormElement(m))return new FormData(m);if(this.isObject(m)){var g=new FormData;return Object.keys(m).forEach(function(y){var v=m[y];g.append(y,v)}),g}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(m){return Object.prototype.toString.call(m)==="[object Object]"}},{key:"isFormData",value:function(m){return m instanceof FormData}},{key:"isFormElement",value:function(m){return m instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(g,y){var v=document.createElement("INPUT");v.type="file",m.multiple&&v.setAttribute("multiple","multiple"),m.accept&&v.setAttribute("accept",m.accept),v.style.display="none",document.body.appendChild(v),v.addEventListener("change",function(b){var k=b.target.files;g(k),document.body.removeChild(v)},!1),v.click()})}},{key:"parseHeaders",value:function(m){var g=m.trim().split(/[\r\n]+/),y={};return g.forEach(function(v){var b=v.split(": "),k=b.shift(),C=b.join(": ");k&&(y[k]=C)}),y}}],(h=null)&&o(u.prototype,h),f&&o(u,f),c})()},function(n,r){var s=function(i){return encodeURIComponent(i).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},o=function(i,c,u,h){return c=c||null,u=u||"&",h=h||null,i?(function(f){for(var m=new Array,g=0;g<f.length;g++)f[g]&&m.push(f[g]);return m})(Object.keys(i).map(function(f){var m,g,y=f;if(h&&(y=h+"["+y+"]"),typeof i[f]=="object"&&i[f]!==null)m=o(i[f],null,u,y);else{c&&(g=y,y=!isNaN(parseFloat(g))&&isFinite(g)?c+Number(y):y);var v=i[f];v=(v=(v=(v=v===!0?"1":v)===!1?"0":v)===0?"0":v)||"",m=s(y)+"="+s(v)}return m})).join(u).replace(/[!'()*]/g,""):""};n.exports=o}])})})(_I);var fne=_I.exports;const xl=hne(fne);function ey(t){return t!==void 0&&typeof t.then=="function"}class pne{constructor({config:e,onUpload:n,onError:r}){this.config=e,this.onUpload=n,this.onError=r}uploadSelectedFile({onPreview:e}){const n=function(s){const o=new FileReader;o.readAsDataURL(s),o.onload=i=>{e(i.target.result)}};let r;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"){const s=this.config.uploader.uploadByFile;r=xl.selectFiles({accept:this.config.types??"image/*"}).then(o=>{n(o[0]);const i=s(o[0]);return ey(i)||console.warn("Custom uploader method uploadByFile should return a Promise"),i})}else r=xl.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types??"image/*",headers:this.config.additionalRequestHeaders,beforeSend:s=>{n(s[0])},fieldName:this.config.field??"image"}).then(s=>s.body);r.then(s=>{this.onUpload(s)}).catch(s=>{this.onError(s)})}uploadByUrl(e){let n;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(n=this.config.uploader.uploadByUrl(e),ey(n)||console.warn("Custom uploader method uploadByUrl should return a Promise")):n=xl.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:xl.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(r=>r.body),n.then(r=>{this.onUpload(r)}).catch(r=>{this.onError(r)})}uploadByFile(e,{onPreview:n}){const r=new FileReader;r.readAsDataURL(e),r.onload=o=>{n(o.target.result)};let s;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")s=this.config.uploader.uploadByFile(e),ey(s)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const o=new FormData;o.append(this.config.field??"image",e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([i,c])=>{o.append(i,c)}),s=xl.post({url:this.config.endpoints.byFile,data:o,type:xl.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(i=>i.body)}s.then(o=>{this.onUpload(o)}).catch(o=>{this.onError(o)})}}/**
 * Image Tool for the Editor.js
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.ts  main Tool's interface, public API and methods for working with data
 *  2) uploader.ts  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.ts  module for UI manipulations: render, showing preloader, etc
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */class Hp{constructor({data:e,config:n,api:r,readOnly:s,block:o}){this.isCaptionEnabled=null,this.api=r,this.block=o,this.config={endpoints:n.endpoints,additionalRequestData:n.additionalRequestData,additionalRequestHeaders:n.additionalRequestHeaders,field:n.field,types:n.types,captionPlaceholder:this.api.i18n.t(n.captionPlaceholder??"Caption"),buttonContent:n.buttonContent,uploader:n.uploader,actions:n.actions,features:n.features||{}},this.uploader=new pne({config:this.config,onUpload:i=>this.onUpload(i),onError:i=>this.uploadingFailed(i)}),this.ui=new une({api:r,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:i=>{this.ui.showPreloader(i)}})},readOnly:s}),this._data={caption:"",withBorder:!1,withBackground:!1,stretched:!1,file:{url:""}},this.data=e}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:CI,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:lne,title:"With border",toggle:!0},{name:"stretched",icon:cne,title:"Stretch image",toggle:!0},{name:"withBackground",icon:ane,title:"With background",toggle:!0}]}render(){var e,n,r;return(((e=this.config.features)==null?void 0:e.caption)===!0||((n=this.config.features)==null?void 0:n.caption)===void 0||((r=this.config.features)==null?void 0:r.caption)==="optional"&&this.data.caption)&&(this.isCaptionEnabled=!0,this.ui.applyTune("caption",!0)),this.ui.render()}validate(e){return!!e.file.url}save(){const e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){var e;const n=Hp.tunes.concat(this.config.actions||[]),r={border:"withBorder",background:"withBackground",stretch:"stretched",caption:"caption"};((e=this.config.features)==null?void 0:e.caption)==="optional"&&n.push({name:"caption",icon:dne,title:"With caption",toggle:!0});const s=n.filter(i=>{var c,u;const h=Object.keys(r).find(f=>r[f]===i.name);return h==="caption"?((c=this.config.features)==null?void 0:c.caption)!==!1:h==null||((u=this.config.features)==null?void 0:u[h])!==!1}),o=i=>{let c=this.data[i.name];return i.name==="caption"&&(c=this.isCaptionEnabled??c),c};return s.map(i=>({icon:i.icon,label:this.api.i18n.t(i.title),name:i.name,toggle:i.toggle,isActive:o(i),onActivate:()=>{if(typeof i.action=="function"){i.action(i.name);return}let c=!o(i);i.name==="caption"&&(this.isCaptionEnabled=!(this.isCaptionEnabled??!1),c=this.isCaptionEnabled),this.tuneToggled(i.name,c)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(e){switch(e.type){case"tag":{const n=e.detail.data;if(/^blob:/.test(n.src)){const r=await(await fetch(n.src)).blob();this.uploadFile(r);break}this.uploadUrl(n.src);break}case"pattern":{const n=e.detail.data;this.uploadUrl(n);break}case"file":{const n=e.detail.file;this.uploadFile(n);break}}}set data(e){var n;this.image=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),Hp.tunes.forEach(({name:r})=>{const s=typeof e[r]<"u"?e[r]===!0||e[r]==="true":!1;this.setTune(r,s)}),e.caption?this.setTune("caption",!0):((n=this.config.features)==null?void 0:n.caption)===!0&&this.setTune("caption",!0)}get data(){return this._data}set image(e){this._data.file=e||{url:""},e&&e.url&&this.ui.fillImage(e.url)}onUpload(e){e.success&&e.file?this.image=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Image Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e,n){e==="caption"?(this.ui.applyTune(e,n),n==!1&&(this._data.caption="",this.ui.fillCaption(""))):this.setTune(e,n)}setTune(e,n){this._data[e]=n,this.ui.applyTune(e,n),e==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=n}).catch(r=>{console.error(r)})}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:n=>{this.ui.showPreloader(n)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}}const Bn={time:new Date().getTime(),blocks:[{type:"header",data:{text:"Product Vision",level:1}},{type:"paragraph",data:{text:"Our goal is to become the leading collaborative workspace platform by the end of 2025."}},{type:"header",data:{text:"Key Objectives",level:2}},{type:"list",data:{style:"ordered",items:["<b>User Growth</b>: Reach 1M active users","<b>Feature Expansion</b>: Launch AI-powered collaboration tools","<b>Enterprise Focus</b>: Onboard 500+ enterprise customers"]}},{type:"header",data:{text:"Q4 Priorities",level:2}},{type:"list",data:{style:"unordered",items:["Complete design system overhaul","Launch mobile applications","Integrate with major productivity tools","Improve real-time collaboration features"]}},{type:"header",data:{text:"Success Metrics",level:2}},{type:"list",data:{style:"unordered",items:["40% increase in user engagement","25% reduction in churn rate","95%+ customer satisfaction score"]}}]};function mne(){const{id:t}=gj(),e=Wr(),n=cs(),r=w.useRef(n.pathname),s=w.useRef(null),o=w.useRef(null),[i,c]=w.useState("Product Roadmap 2025"),[u,h]=w.useState(["strategy","product","roadmap"]),[f,m]=w.useState(!1),[g,y]=w.useState(!1),[v,b]=w.useState(!0),[k,C]=w.useState(!1),[_,T]=w.useState(""),[N,j]=w.useState(null),[P,I]=w.useState(!0),[O,L]=w.useState(!1),$=w.useRef(null),V=w.useRef(null),Q=w.useRef(!1),K=w.useRef(null),se=w.useRef(!0),ne=w.useRef(!1),W=w.useRef(!1),{isConnected:U,connectedUsers:R,setConnected:D,setCurrentDocument:Z,setConnectedUsers:M,removeUser:B,updateUserCursor:q,isSaving:ee,setSaving:ie,setLastSaved:ce,hasUnsavedChanges:X,setHasUnsavedChanges:H,reset:F}=gb();w.useEffect(()=>{if(!t){I(!1);return}(async()=>{I(!0);try{console.log(" Loading document:",t);const ge=new Promise((fe,ye)=>setTimeout(()=>ye(new Error("Request timeout")),15e3));let he=null,xe=null;try{if(he=await Promise.race([gt.getById(t),ge]),console.log(" Document loaded:",he),!he||!he._id)throw new Error("Invalid document response");let fe,ye;he.folderId&&(typeof he.folderId=="string"?fe=he.folderId:typeof he.folderId=="object"&&he.folderId._id&&(fe=String(he.folderId._id),ye=he.folderId.Name||he.folderId.name)),console.log("folderName",ye),console.log("folderIdString",fe),console.log("doc",he),j({_id:he._id,Title:he.Title||"Untitled Document",folderId:fe,folderName:ye,createdBy:he.createdBy,updatedDate:he.updatedDate,contentType:he.contentType||[],content:null,...he}),fe&&!ye&&Vt.getById(fe).then(Te=>{j(Le=>({...Le,folderName:Te.Name||Te.Name}))}).catch(Te=>{console.warn("Failed to fetch folder name:",Te)}),c(he.Title||"Untitled Document"),h(he.contentType||[])}catch(fe){console.error("Failed to load document metadata:",fe);const ye=fe?.response?.status===404?"Document not found":fe?.message||"Failed to load document";ae.error(ye),j({_id:t,Title:"Untitled Document",content:Bn}),c("Untitled Document"),h([])}try{if(xe=await Promise.race([gt.getContent(t),new Promise((fe,ye)=>setTimeout(()=>ye(new Error("Content timeout")),1e4))]),console.log(" Content loaded:",xe),console.log(" Content type:",typeof xe),console.log(" Content.content exists:",!!xe?.content),console.log(" Content.content type:",typeof xe?.content),console.log(" Content.content length:",xe?.content?.length),console.log(" Content.content preview:",xe?.content?.substring?.(0,200)),xe&&xe.content)try{const fe=typeof xe.content=="string"?JSON.parse(xe.content):xe.content;if(fe&&fe.blocks&&Array.isArray(fe.blocks)&&fe.blocks.length>0){const ye=typeof xe.content=="string"?xe.content:JSON.stringify(xe.content),Te=JSON.stringify(Bn);console.log(" Valid content loaded with",fe.blocks.length,"blocks"),console.log(" First block preview:",fe.blocks[0]?.data?.text?.substring(0,50)||"no text"),console.log(" Loaded content length:",ye.length),console.log(" Loaded content preview:",ye.substring(0,200)+"..."),j(Le=>({...Le,content:fe})),console.log(" Content loaded, will set lastSavedContentRef after Editor.js renders"),W.current=!0}else console.warn(" Content loaded but has no valid blocks, using initial data"),j(ye=>({...ye,content:Bn})),K.current=JSON.stringify(Bn)}catch(fe){console.error(" Failed to parse content:",fe),console.error("Content that failed to parse:",xe.content?.substring(0,200)),console.error("Parse error details:",{message:fe.message,stack:fe.stack}),j(ye=>({...ye,content:Bn})),K.current=JSON.stringify(Bn)}else console.log(" No content found for document, using initial data"),console.log(" Content response was:",xe),j(fe=>({...fe,content:Bn})),K.current=JSON.stringify(Bn),W.current=!0}catch(fe){console.warn(" Content loading failed, using initial data:",fe),j(ye=>({...ye,content:Bn})),K.current=JSON.stringify(Bn),W.current=!0}se.current=!1,ne.current=!1,W.current=!1,I(!1)}catch(ge){console.error("Unexpected error loading document:",ge),ae.error("Failed to load document: "+(ge?.message||"Unknown error")),I(!1),j(he=>({_id:t,Title:"Untitled Document",content:Bn})),c("Untitled Document"),h([]),K.current=JSON.stringify(Bn),se.current=!1,W.current=!0}})()},[t]),w.useEffect(()=>{if(!t||!N||P)return;if(N.content===null||N.content===void 0){console.log(" Waiting for content to load before initializing editor...",{content:N.content,hasContent:!!N.content});return}const ue=localStorage.getItem(gn);if(!ue){ae.error("Not authenticated"),e("/login");return}let ge=null;return(async()=>{try{L(!0),ge=new jK({documentId:t,token:ue,userId:"user-"+Date.now(),onSync:()=>{console.log(" Document synced"),L(!1),D(!0),Z(t)},onUpdate:async fe=>{if(!W.current){console.log(" Skipping Yjs update - waiting for API content to load first");return}console.log(" Document updated by remote user - applying changes..."),Q.current=!0;try{if(H(!0),s.current&&ge)try{let ye=fe;if(!ye){const et=ge.getDocument().getMap("content").get("data");et&&typeof et=="string"&&(ye=JSON.parse(et))}if(ye&&ye.blocks){console.log(" Applying remote changes to editor");const Te=await s.current.save(),Le=Eo=>Eo.map(Rn=>{const br={type:Rn.type,data:{...Rn.data}};return delete br.data.id,delete br.data.time,br}),et=Le(Te.blocks||[]),ht=Le(ye.blocks||[]),Kt=JSON.stringify(et),hs=JSON.stringify(ht);if(Kt!==hs){console.log(" Content differs, rendering remote changes"),console.log("Current blocks:",et.length,"Remote blocks:",ht.length);const Eo={time:ye.time||Date.now(),version:ye.version||"2.28.0",blocks:ye.blocks||[]};try{Q.current=!0,await s.current.render(Eo),console.log(" Successfully applied remote changes");const Rn=await s.current.save(),br=JSON.stringify(Rn);K.current=br,console.log(" Updated lastSavedContentRef to rendered remote content:",{renderedLength:br.length,renderedBlocks:Rn.blocks?.length||0})}catch(Rn){console.error(" Render error applying remote changes:",Rn)}}else console.log(" Content is identical, skipping render")}}catch(ye){console.error("Failed to apply remote changes:",ye)}}finally{$.current&&(clearTimeout($.current),$.current=null),setTimeout(()=>{Q.current=!1,console.log(" Remote update applied, onChange enabled again")},1500)}},onError:fe=>{console.warn(" Real-time collaboration unavailable:",fe),L(!1)},onCursorUpdate:(fe,ye)=>{q(fe,ye)},onPresenceUpdate:fe=>{M(fe.map(ye=>({id:ye.id,name:ye.name||"Anonymous",color:ye.color||"#3b82f6"})))},onUserLeft:fe=>{B(fe)}}),o.current=ge;const xe=(fe,ye=20,Te=100)=>new Promise((Le,et)=>{let ht=0;const Kt=()=>{const hs=window.document.getElementById(fe);hs?Le(hs):ht<ye?(ht++,setTimeout(Kt,Te)):et(new Error(`Element with ID "${fe}" not found after ${ye} attempts`))};Kt()});try{await xe("editorjs",30,100),console.log(" Editor container element found")}catch(fe){console.error(" Editor container element not found:",fe),L(!1);return}if(!s.current){const fe=new xQ({holder:"editorjs",placeholder:"Start writing your document...",readOnly:!1,tools:{header:{class:_Q,config:{placeholder:"Enter a header",levels:[1,2,3,4],defaultLevel:2}},list:{class:bee,inlineToolbar:!0,config:{defaultStyle:"unordered"}},checklist:{class:Cee,inlineToolbar:!0},quote:{class:Ute,inlineToolbar:!0,config:{quotePlaceholder:"Enter a quote",captionPlaceholder:"Quote author"}},delimiter:{class:Wte},table:{class:sne,inlineToolbar:!0,config:{rows:2,cols:3}},code:{class:ok,config:{placeholder:"Enter code"}},image:{class:Hp,config:{uploader:(()=>{const ye=async Te=>{try{const Le=await wA.uploadImage(Te);if(Le.success===1&&Le.file?.url){const et=jt.replace("/api","");return{success:1,file:{url:Le.file.url.startsWith("http")?Le.file.url:`${et}${Le.file.url}`}}}else throw new Error(Le.message||"Upload failed")}catch(Le){return console.error("Image upload error:",Le),ae.error(Le.message||"Failed to upload image"),{success:0}}};return{uploadByFile:ye,async uploadByUrl(Te){try{if(Te.startsWith(jt.replace("/api",""))||Te.startsWith("/uploads/")){const Kt=jt.replace("/api","");return{success:1,file:{url:Te.startsWith("http")?Te:`${Kt}${Te}`}}}const Le=await fetch(Te);if(!Le.ok)throw new Error("Failed to fetch image from URL");const et=await Le.blob(),ht=new File([et],"image.jpg",{type:et.type});return await ye(ht)}catch(Le){return console.error("URL upload error:",Le),ae.error("Failed to upload image from URL"),{success:0}}}}})(),captionPlaceholder:"Enter image caption",buttonContent:"Select an Image",field:"file",types:"image/*"}}},data:N.content||Bn,onReady:async()=>{if(s.current=fe,C(!0),console.log(" Editor ready"),console.log(" Document content at editor ready:",N.content?"exists":"missing"),!ne.current&&N.content&&N.content.blocks&&Array.isArray(N.content.blocks))try{const ye=await fe.save(),Te=JSON.stringify(ye),Le=JSON.stringify(N.content),et=JSON.stringify(Bn);if(console.log(" Content comparison in onReady:",{currentIsInitial:Te===et,loadedIsInitial:Le===et,areEqual:Te===Le,currentBlocks:ye.blocks?.length||0,loadedBlocks:N.content.blocks?.length||0}),Te===et&&Le!==et||Te!==Le&&Le!==et){console.log(" Rendering loaded content into editor in onReady...",{loadedBlocks:N.content.blocks.length}),ne.current=!0,await fe.render(N.content),console.log(" Loaded content rendered successfully in onReady");const ht=await fe.save(),Kt=JSON.stringify(ht);K.current=Kt,console.log(" Updated lastSavedContentRef to rendered content:",{renderedLength:Kt.length,renderedBlocks:ht.blocks?.length||0})}else console.log(" Content is already correct, skipping render in onReady"),ne.current=!0}catch(ye){console.error(" Failed to render loaded content in onReady:",ye),console.error("Render error details:",{message:ye.message,stack:ye.stack}),ne.current=!1}else ne.current?console.log(" Content already rendered, skipping onReady render"):console.log(" No valid content to render at editor ready")},onChange:async()=>{if(Q.current){console.log(" Skipping onChange - applying remote update");return}H(!0),$.current&&clearTimeout($.current),$.current=setTimeout(async()=>{if(Q.current){console.log(" Skipping onChange sync - still applying remote update");return}if(s.current&&ge&&ge.isReady())try{const ye=await s.current.save();if(!ye||!ye.blocks||!Array.isArray(ye.blocks)){console.warn(" Invalid editor data, skipping sync");return}console.log(" Syncing document changes to other users",ye.blocks.length,"blocks"),ge.getSocket()&&ge.getSocket()?.emit("content_update",{documentId:t,content:ye,operation:"update"})}catch(ye){console.error("Failed to sync content:",ye)}},500),V.current&&clearTimeout(V.current),V.current=setTimeout(async()=>{if(s.current&&t&&!Q.current)try{ie(!0);const ye=await s.current.save();if(!ye||!ye.blocks){console.warn(" Invalid editor data for auto-save, skipping"),ie(!1);return}const Te=JSON.stringify(ye),Le=K.current||"null";if(K.current!==Te){console.log(" Auto-saving document to backend...",{blocks:ye.blocks.length,contentLength:Te.length,lastSavedLength:Le.length,firstBlockText:ye.blocks[0]?.data?.text?.substring(0,50)||"no text",contentPreview:Te.substring(0,200)+"...",lastSavedPreview:Le.substring(0,200)+"..."}),await gt.update(t,{Title:i,contentType:u}),console.log(" Saving content to backend...",{documentId:t,contentLength:Te.length,blocksCount:ye.blocks.length,contentPreview:Te.substring(0,200)+"..."});const et=await gt.saveContent({documentId:t,content:Te});console.log(" Document auto-saved successfully:",{contentId:et?._id||"no id",documentId:et?.documentId||"no documentId",savedAt:new Date().toISOString()}),K.current=Te,ce(new Date),H(!1)}else console.log(" Content unchanged, skipping auto-save"),ie(!1)}catch(ye){console.error(" Failed to auto-save document:",ye),console.error("Auto-save error details:",{message:ye?.message,response:ye?.response?.data,status:ye?.response?.status})}finally{ie(!1)}},1e3)}})}}catch(xe){console.warn("Real-time collaboration unavailable, continuing in offline mode:",xe),L(!1),D(!1)}})(),()=>{V.current&&clearTimeout(V.current),$.current&&clearTimeout($.current),s.current&&t&&!Q.current&&(console.log(" Component unmounting - performing final save..."),s.current.save().then(xe=>{try{const fe=JSON.stringify(xe),ye=K.current||"null";if(console.log(" Final save on unmount:",{contentLength:fe.length,lastSavedLength:ye.length,hasChanges:K.current!==fe}),K.current!==fe){console.log(" Saving changes before unmount using keepalive fetch...");const Te=localStorage.getItem(gn);fetch(`${jt}/content`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`},body:JSON.stringify({documentId:t,content:fe}),keepalive:!0}).catch(Le=>console.error("Failed to save content on unmount:",Le)),fetch(`${jt}/Document/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`},body:JSON.stringify({Title:i,contentType:u}),keepalive:!0}).catch(Le=>console.error("Failed to save metadata on unmount:",Le)),console.log(" Final save initiated (keepalive)")}else console.log(" No changes to save on unmount")}catch(fe){console.error(" Failed to prepare save on cleanup:",fe)}}).catch(xe=>{console.error(" Failed to get editor data on cleanup:",xe)})),ge&&ge.disconnect(),s.current&&s.current.destroy&&(s.current.destroy(),s.current=null),F()}},[t,N,e,D,Z,H,M,B,q,F,i,u,P]);const J=w.useCallback(async()=>{if(!s.current||!t){console.error(" Cannot save: editor or id is missing",{hasEditor:!!s.current,hasId:!!t}),ae.error("Editor is not ready. Please wait...");return}ie(!0);try{console.log(" Starting save process...");const ue=await s.current.save();if(console.log(" Editor data saved, blocks:",ue.blocks?.length||0),!ue||!ue.blocks)throw new Error("Invalid editor data: no blocks found");const ge=JSON.stringify(ue),he=K.current||"null";if(K.current===ge){console.log(" Content unchanged, nothing to save",{contentLength:ge.length,lastSavedLength:he.length}),ae.info("No changes to save"),ie(!1);return}console.log(" Content stringified, length:",ge.length),console.log(" First block preview:",ue.blocks[0]?.data?.text?.substring(0,50)||"no text"),console.log(" Content comparison:",{currentLength:ge.length,lastSavedLength:he.length,blocksCount:ue.blocks.length,contentPreview:ge.substring(0,200)+"...",lastSavedPreview:he.substring(0,200)+"..."}),console.log(" Updating document metadata..."),await gt.update(t,{Title:i,contentType:u}),console.log(" Document metadata updated"),console.log(" Saving document content...",{documentId:t,contentLength:ge.length,blocksCount:ue.blocks.length,contentPreview:ge.substring(0,200)+"..."});const xe=await gt.saveContent({documentId:t,content:ge});console.log(" Document content saved:",{contentId:xe?._id||"no id",documentId:xe?.documentId||"no documentId",savedAt:new Date().toISOString()}),K.current=ge,ce(new Date),H(!1),ae.success("Document saved successfully"),console.log(" Save completed successfully")}catch(ue){console.error(" Saving failed:",ue),console.error("Error details:",{message:ue?.message,response:ue?.response?.data,status:ue?.response?.status}),ae.error(`Failed to save document: ${ue?.message||"Unknown error"}`)}finally{ie(!1)}},[t,i,u,ie,ce,H]),me=async ue=>{if(s.current)try{const ge=await s.current.save(),he=[...ge.blocks,{type:"paragraph",data:{text:ue}}];await s.current.render({...ge,blocks:he}),ae.success("Voice text inserted")}catch(ge){console.error("Failed to insert voice text:",ge),ae.error("Failed to insert voice text")}},ve=async()=>{if(!t||!i){ae.error("Please wait for the document to load");return}const ue="pdf-export";ae.loading("Generating PDF...",{id:ue});try{const ge=await gt.exportPDF(t),he=window.URL.createObjectURL(ge),xe=window.document.createElement("a");xe.href=he,xe.download=`${(i||"document").replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`,window.document.body.appendChild(xe),xe.click(),window.document.body.removeChild(xe),window.URL.revokeObjectURL(he),ae.success("PDF downloaded",{id:ue})}catch(ge){console.error("Failed to export PDF:",ge);const he=ge?.response?.data?.error||ge?.message||"Failed to export PDF";ae.error(he,{id:ue,duration:5e3})}finally{ae.dismiss(ue)}};return w.useEffect(()=>{if(!k||!s.current||P)return;if(!N?.content){console.log(" Waiting for content to load...");return}const ue=JSON.stringify(N.content),ge=JSON.stringify(Bn);if(ue===ge){console.log(" Content is INITIAL_DATA, skipping render");return}if(se.current){console.log(" Still in initial load, content will be rendered in onReady");return}if(ne.current){console.log(" Content already rendered, skipping useEffect render to prevent duplicates");return}(async()=>{try{if(Q.current){console.log(" Skipping content render - applying remote update");return}const xe=await s.current.save(),fe=JSON.stringify(xe);if(fe!==ue){console.log(" Content loaded after editor ready, rendering in useEffect...",{currentBlocks:xe.blocks?.length||0,loadedBlocks:N.content?.blocks?.length||0,currentIsInitial:fe===ge}),ne.current=!0,Q.current=!0,await s.current.render(N.content),console.log(" Loaded content rendered successfully in useEffect");const ye=await s.current.save(),Te=JSON.stringify(ye);K.current=Te,console.log(" Updated lastSavedContentRef to rendered content in useEffect:",{renderedLength:Te.length,renderedBlocks:ye.blocks?.length||0}),setTimeout(()=>{Q.current=!1},500)}else console.log(" Content is already up to date"),ne.current=!0}catch(xe){console.error(" Failed to render loaded content in useEffect:",xe),Q.current=!1,ne.current=!1}})()},[N?.content,k,P]),w.useEffect(()=>{const ue=ge=>{s.current&&t&&!Q.current&&(console.log(" Page unloading - saving changes..."),s.current.save().then(he=>{try{const xe=JSON.stringify(he),fe=localStorage.getItem(gn);K.current!==xe?(console.log(" Saving before page unload (keepalive)...",{contentLength:xe.length,lastSavedLength:K.current?.length||0}),fetch(`${jt}/content`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${fe}`},body:JSON.stringify({documentId:t,content:xe}),keepalive:!0}).catch(ye=>console.error("Failed to save content on unload:",ye)),fetch(`${jt}/Document/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${fe}`},body:JSON.stringify({Title:i,contentType:u}),keepalive:!0}).catch(ye=>console.error("Failed to save metadata on unload:",ye))):console.log(" No changes to save on unload")}catch(xe){console.error("Failed to prepare save on unload:",xe)}}).catch(he=>{console.error("Failed to get editor data on unload:",he)}))};return window.addEventListener("beforeunload",ue),()=>{window.removeEventListener("beforeunload",ue)}},[t,i,u]),w.useEffect(()=>{r.current!==n.pathname&&r.current.includes("/documents/")&&s.current&&t&&!Q.current&&X&&(console.log(" Navigation detected - saving before leaving document..."),s.current.save().then(async ue=>{try{const ge=JSON.stringify(ue);K.current!==ge&&(await Promise.all([gt.update(t,{Title:i,contentType:u}),gt.saveContent({documentId:t,content:ge})]),console.log(" Saved before navigation"),K.current=ge)}catch(ge){console.error(" Failed to save before navigation:",ge)}}).catch(ue=>console.error("Failed to get editor data before navigation:",ue))),r.current=n.pathname},[n.pathname,t,X,i,u]),w.useEffect(()=>{if(!t||P||!k||se.current)return;const ue=setTimeout(async()=>{try{const ge=await gt.update(t,{Title:i.trim()||"Untitled Document",contentType:u});j(he=>({...he,Title:ge.Title||i.trim()||"Untitled Document",updatedDate:ge.updatedDate||new Date().toISOString()})),console.log(" Title/tags auto-saved:",ge.Title)}catch(ge){console.error("Failed to auto-save title/tags:",ge),ge?.response?.status===404&&ae.error("Document not found. Please refresh the page.")}},2e3);return()=>clearTimeout(ue)},[t,i,u,P,k]),w.useEffect(()=>{if(P||!k)return;const ue=()=>{const xe=window.getSelection?.();xe&&T(xe.toString())},ge=()=>ue(),he=window.document;if(!he){console.warn(" window.document is not available");return}try{he.addEventListener("selectionchange",ge)}catch(xe){console.error("Failed to add selection change listener:",xe);return}return()=>{if(he)try{he.removeEventListener("selectionchange",ge)}catch(xe){console.error("Failed to remove selection change listener:",xe)}}},[P,k]),P?l.jsx("div",{className:"max-w-5xl mx-auto space-y-6 flex items-center justify-center py-12",children:l.jsx("div",{className:"text-muted-foreground",children:"Loading document..."})}):l.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[l.jsx(UW,{}),l.jsx(BO,{children:l.jsxs(FO,{children:[l.jsx(jl,{children:l.jsx(wp,{asChild:!0,children:l.jsx(rt,{to:"/dashboard",children:l.jsx(dm,{className:"w-4 h-4"})})})}),l.jsx(kp,{children:l.jsx(pi,{className:"w-4 h-4"})}),N?.folderId&&l.jsxs(l.Fragment,{children:[l.jsx(jl,{children:l.jsx(wp,{asChild:!0,children:l.jsx(rt,{to:`/folders/${N.folderId._id}`,children:N.folderName||"Folder"})})}),l.jsx(kp,{children:l.jsx(pi,{className:"w-4 h-4"})})]}),l.jsx(jl,{children:l.jsx($O,{children:i||"Untitled Document"})})]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex items-center gap-2 px-3 py-1 rounded-lg bg-gray-100 dark:bg-gray-800",children:U?l.jsxs(l.Fragment,{children:[l.jsx(E$,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Connected"})]}):l.jsxs(l.Fragment,{children:[l.jsx(C$,{className:"w-4 h-4 text-red-500"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Offline"})]})}),l.jsx(de,{variant:"ghost",size:"icon",className:"rounded-lg",onClick:()=>b(!v),children:l.jsx(ap,{className:`w-5 h-5 ${v?"fill-yellow-400 text-yellow-400":""}`})}),l.jsx(zW,{}),R.length>0&&l.jsxs("span",{className:"text-sm text-muted-foreground",children:[R.length," online"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(de,{variant:"outline",className:"rounded-xl",onClick:ve,children:[l.jsx(i8,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),l.jsx(de,{variant:"outline",className:"rounded-xl",onClick:()=>{console.log(" Save button clicked"),J()},disabled:ee||O,children:ee?l.jsxs(l.Fragment,{children:[l.jsx(Cy,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):O?l.jsxs(l.Fragment,{children:[l.jsx(Cy,{className:"w-4 h-4 mr-2 animate-pulse"}),"Syncing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Save"]})}),l.jsxs(de,{variant:g?"default":"outline",className:"rounded-xl",onClick:()=>y(!g),children:[l.jsx(ga,{className:"w-4 h-4 mr-2"}),"Comments"]})]})]}),l.jsx(DW,{selectedText:_,onVoiceText:me}),k&&s.current&&l.jsx(HW,{editor:s.current,onHeadingChange:()=>{H(!0)}}),l.jsxs("div",{className:"bg-white dark:bg-card rounded-xl shadow-sm p-8 space-y-6",children:[l.jsx(Ye,{type:"text",value:i,onChange:ue=>{c(ue.target.value),H(!0)},onBlur:async()=>{if(t&&i.trim()&&!P)try{const ue=await gt.update(t,{Title:i.trim()||"Untitled Document",contentType:u});j(ge=>({...ge,Title:ue.Title||i.trim()||"Untitled Document",updatedDate:ue.updatedDate||new Date().toISOString()})),H(!1)}catch(ue){console.error("Failed to save title:",ue),ae.error("Failed to save document name")}},className:"border-0 p-0 text-[32px] focus-visible:ring-0 font-semibold",placeholder:"Untitled Document"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map(ue=>l.jsx(bt,{variant:"secondary",className:"text-[14px] rounded-lg",children:ue},ue)),l.jsx(de,{variant:"ghost",size:"sm",className:"rounded-lg h-7 text-[14px]",children:"+ Add tag"})]}),l.jsx("div",{id:"editorjs",className:"prose prose-slate dark:prose-invert max-w-none"})]}),l.jsxs("div",{className:"flex items-center justify-between text-[14px] text-muted-foreground",children:[l.jsx("p",{children:N?.updatedAt&&`Last edited ${new Date(N.updatedAt).toLocaleString()}`}),l.jsxs("div",{className:"flex items-center gap-4",children:[ee&&l.jsx("span",{className:"text-blue-500",children:"Saving..."}),O&&!ee&&l.jsx("span",{className:"text-blue-500",children:"Syncing..."}),!ee&&!O&&U&&!X&&l.jsx("span",{className:"text-green-500",children:"All changes saved"}),!ee&&!O&&X&&l.jsx("span",{className:"text-amber-500",children:"Unsaved changes"}),l.jsx("p",{children:k?"Editor ready":"Loading editor..."})]})]}),f&&t&&l.jsx(AW,{itemName:i,itemType:"document",itemId:t,onClose:()=>m(!1)}),t&&l.jsx(IW,{documentId:t,isOpen:g,onClose:()=>y(!1)})]})}function gne({className:t,...e}){return l.jsx("textarea",{"data-slot":"textarea",className:ze("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const xne=async t=>{const e={...t,startDate:t.startDate instanceof Date?t.startDate.toISOString():t.startDate,endDate:t.endDate instanceof Date?t.endDate.toISOString():t.endDate};return(await $e.post("/calendar",e)).data},vne=async()=>(await $e.get("/calendar")).data;function yne({onClose:t,onEventCreated:e,initialDate:n}){const[r,s]=w.useState(""),[o,i]=w.useState(""),[c,u]=w.useState(""),[h,f]=w.useState(""),[m,g]=w.useState(""),[y,v]=w.useState(""),[b,k]=w.useState(!1);w.useEffect(()=>{if(n){const _=n.toISOString().split("T")[0];i(_),u("09:00"),f("10:00")}else i(""),u(""),f("")},[n]);const C=async()=>{if(!r.trim()){ae.error("Please enter an event title");return}if(!o){ae.error("Please select a date");return}if(!c){ae.error("Please select a start time");return}if(!h){ae.error("Please select an end time");return}try{k(!0);const _=new Date(`${o}T${c}`),T=new Date(`${o}T${h}`),N=y.split(",").map(j=>j.trim()).filter(j=>j.length>0);await xne({title:r,description:m,startDate:_,endDate:T,participants:N.length>0?N:void 0}),ae.success("Event created successfully!"),e?.(),t()}catch(_){ae.error(_?.response?.data?.message||"Failed to create event")}finally{k(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-card rounded-2xl shadow-2xl max-w-2xl w-full",children:[l.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[l.jsx("h2",{className:"text-[20px]",children:"Add New Event"}),l.jsx(de,{variant:"ghost",size:"icon",onClick:t,className:"rounded-lg",children:l.jsx(yr,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-6 space-y-5",children:[l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"eventTitle",children:"Event Title"}),l.jsx(Ye,{id:"eventTitle",type:"text",value:r,onChange:_=>s(_.target.value),placeholder:"e.g., Team Standup",className:"mt-1.5 rounded-xl",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"eventDate",children:"Date"}),l.jsx(Ye,{id:"eventDate",type:"date",value:o,onChange:_=>i(_.target.value),className:"mt-1.5 rounded-xl"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"startTime",children:"Start Time"}),l.jsx(Ye,{id:"startTime",type:"time",value:c,onChange:_=>u(_.target.value),className:"mt-1.5 rounded-xl"})]}),l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"endTime",children:"End Time"}),l.jsx(Ye,{id:"endTime",type:"time",value:h,onChange:_=>f(_.target.value),className:"mt-1.5 rounded-xl"})]})]}),l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"eventDescription",children:"Description"}),l.jsx(gne,{id:"eventDescription",value:m,onChange:_=>g(_.target.value),placeholder:"Add event details...",className:"mt-1.5 rounded-xl min-h-[100px]"})]})]}),l.jsxs("div",{className:"p-6 border-t border-border flex justify-end space-x-3",children:[l.jsx(de,{variant:"outline",onClick:t,className:"rounded-xl",disabled:b,children:"Cancel"}),l.jsx(de,{onClick:C,className:"rounded-xl",disabled:b,children:b?"Creating...":"Create Event"})]})]})})}const cf=["bg-blue-500","bg-purple-500","bg-green-500","bg-orange-500","bg-red-500","bg-pink-500","bg-yellow-500"];function bne(){const[t,e]=w.useState(new Date),[n,r]=w.useState("month"),[s,o]=w.useState(!1),[i,c]=w.useState(null),[u,h]=w.useState([]),[f,m]=w.useState(!0),[g,y]=w.useState(null);w.useEffect(()=>{v()},[]);const v=async()=>{try{m(!0),y(null);const U=await vne();h(U)}catch(U){console.error("Failed to load events:",U),y(U?.response?.data?.message||"Failed to load calendar events"),ae.error("Failed to load calendar events")}finally{m(!1)}},b=()=>{v()},k=U=>{c(U),o(!0)},C=()=>{o(!1),c(null)},_=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),T=new Date(t.getFullYear(),t.getMonth(),1).getDay(),N=t.toLocaleDateString("en-US",{month:"long",year:"numeric"}),j=U=>{e(R=>{const D=new Date(R);return U==="prev"?D.setMonth(R.getMonth()-1):D.setMonth(R.getMonth()+1),D})},P=U=>{e(R=>{const D=new Date(R),Z=U==="next"?7:-7;return D.setDate(R.getDate()+Z),D})},I=U=>{e(R=>{const D=new Date(R),Z=U==="next"?1:-1;return D.setDate(R.getDate()+Z),D})},O=U=>cf[U%cf.length],L=U=>{const R=U.toISOString().split("T")[0];return u.filter(D=>new Date(D.startDate).toISOString().split("T")[0]===R)},$=(U,R)=>u.filter(D=>{const Z=new Date(D.startDate),M=Z.getHours(),B=Z.toISOString().split("T")[0],q=U.toISOString().split("T")[0];return B===q&&M===R}),V=U=>new Date(U).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),Q=()=>{const U=new Date;return u.filter(R=>new Date(R.startDate)>=U).sort((R,D)=>new Date(R.startDate).getTime()-new Date(D.startDate).getTime()).slice(0,5)},K=w.useMemo(()=>{const U=[],R=t.getDay(),D=new Date(t);D.setDate(D.getDate()-R);for(let Z=0;Z<7;Z++){const M=new Date(D);M.setDate(D.getDate()+Z),U.push(M)}return U},[t]),se=Array.from({length:24},(U,R)=>R);if(f)return l.jsx("div",{className:"max-w-7xl mx-auto space-y-6 flex items-center justify-center min-h-[400px]",children:l.jsx(Ar,{className:"w-8 h-8 animate-spin text-primary"})});const ne=()=>{if(n==="week"){const U=K[0],R=K[6];return`${U.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${R.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}else if(n==="day")return t.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});return N},W=()=>n==="week"?l.jsxs(l.Fragment,{children:[l.jsx(de,{variant:"outline",size:"icon",className:"rounded-lg",onClick:()=>P("prev"),children:l.jsx(Tf,{className:"w-4 h-4"})}),l.jsx(de,{variant:"outline",size:"icon",className:"rounded-lg",onClick:()=>P("next"),children:l.jsx(pi,{className:"w-4 h-4"})})]}):n==="day"?l.jsxs(l.Fragment,{children:[l.jsx(de,{variant:"outline",size:"icon",className:"rounded-lg",onClick:()=>I("prev"),children:l.jsx(Tf,{className:"w-4 h-4"})}),l.jsx(de,{variant:"outline",size:"icon",className:"rounded-lg",onClick:()=>I("next"),children:l.jsx(pi,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(de,{variant:"outline",size:"icon",className:"rounded-lg",onClick:()=>j("prev"),children:l.jsx(Tf,{className:"w-4 h-4"})}),l.jsx(de,{variant:"outline",size:"icon",className:"rounded-lg",onClick:()=>j("next"),children:l.jsx(pi,{className:"w-4 h-4"})})]});return l.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-[24px] mb-2",children:"Calendar"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your schedule and tasks"})]}),l.jsxs(de,{className:"rounded-xl",onClick:()=>o(!0),children:[l.jsx(Ad,{className:"w-4 h-4 mr-2"}),"Add Event"]})]}),g&&l.jsx(Ne,{className:"p-4 border-red-500 bg-red-50 dark:bg-red-900/20",children:l.jsx("p",{className:"text-red-600",children:g})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx(Ne,{className:"lg:col-span-2 p-6 rounded-xl",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("h2",{className:"text-[20px]",children:ne()}),l.jsx("div",{className:"flex space-x-1",children:W()})]}),l.jsx(Nm,{value:n,onValueChange:U=>r(U),children:l.jsxs(jm,{className:"rounded-xl",children:[l.jsx(mr,{value:"month",className:"rounded-lg",children:"Month"}),l.jsx(mr,{value:"week",className:"rounded-lg",children:"Week"}),l.jsx(mr,{value:"day",className:"rounded-lg",children:"Day"})]})})]}),n==="month"&&l.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(U=>l.jsx("div",{className:"text-center text-[14px] text-muted-foreground py-2",children:U},U)),Array.from({length:T}).map((U,R)=>l.jsx("div",{className:"aspect-square"},`empty-${R}`)),Array.from({length:_}).map((U,R)=>{const D=R+1,Z=new Date(t.getFullYear(),t.getMonth(),D),M=L(Z),B=new Date,q=Z.toDateString()===B.toDateString();return l.jsxs("div",{onClick:()=>k(Z),className:`aspect-square p-2 rounded-xl border border-border hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer ${q?"bg-blue-50 dark:bg-blue-900/20 border-blue-500":""}`,children:[l.jsx("div",{className:`text-[14px] mb-1 ${q?"text-blue-600":""}`,children:D}),l.jsxs("div",{className:"space-y-0.5",children:[M.slice(0,2).map(ee=>l.jsx("div",{className:`${O(D%cf.length)} text-white text-[10px] px-1.5 py-0.5 rounded truncate`,title:ee.title,children:ee.title},ee._id)),M.length>2&&l.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["+",M.length-2," more"]})]})]},D)})]}),n==="week"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-8 gap-2",children:[l.jsx("div",{className:"text-[14px] text-muted-foreground"}),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(U=>l.jsx("div",{className:"text-center text-[14px] text-muted-foreground py-2 font-medium",children:U},U))]}),se.map(U=>l.jsxs("div",{className:"grid grid-cols-8 gap-2",children:[l.jsxs("div",{className:"text-[12px] text-muted-foreground py-2 text-right pr-2",children:[U.toString().padStart(2,"0"),":00"]}),K.map((R,D)=>{const Z=$(R,U),M=R.toDateString()===new Date().toDateString(),B=R.getDate();return l.jsxs("div",{onClick:()=>k(R),className:`min-h-[80px] p-1 rounded border border-border hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer ${M?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[l.jsx("div",{className:`text-[12px] mb-1 ${M?"text-blue-600 font-medium":"text-muted-foreground"}`,children:D===0&&B}),l.jsx("div",{className:"space-y-1",children:Z.map(q=>l.jsx("div",{className:`${O(D%cf.length)} text-white text-[10px] px-1.5 py-0.5 rounded truncate`,title:`${q.title} - ${V(q.startDate)}`,children:V(q.startDate)},q._id))})]},`${D}-${U}`)})]},U))]}),n==="day"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-center text-[14px] text-muted-foreground mb-2",children:t.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),l.jsx("div",{className:"space-y-2",children:se.map(U=>{const R=$(t,U);return l.jsxs("div",{onClick:()=>k(t),className:"flex border border-border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[l.jsxs("div",{className:"text-[12px] text-muted-foreground py-3 px-4 min-w-[80px] text-right",children:[U.toString().padStart(2,"0"),":00"]}),l.jsxs("div",{className:"flex-1 p-3",children:[R.map(D=>l.jsxs("div",{className:`${O(0)} text-white text-[12px] px-3 py-2 rounded mb-1`,children:[l.jsx("div",{className:"font-medium",children:D.title}),l.jsxs("div",{className:"text-[10px] opacity-90",children:[V(D.startDate)," - ",V(D.endDate)]}),D.description&&l.jsx("div",{className:"text-[10px] opacity-80 mt-1",children:D.description}),D.participants&&D.participants.length>0&&l.jsxs("div",{className:"text-[10px] opacity-80 mt-1",children:[D.participants.length," participant",D.participants.length===1?"":"s"]})]},D._id)),R.length===0&&l.jsx("div",{className:"text-[14px] text-muted-foreground",children:""})]})]},U)})})]})]})}),l.jsx("div",{className:"space-y-6",children:l.jsxs(Ne,{className:"p-6 rounded-xl",children:[l.jsx("h3",{className:"mb-4",children:"Upcoming Events"}),l.jsx("div",{className:"space-y-3",children:Q().length>0?Q().map((U,R)=>l.jsxs("div",{className:"p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${O(R)}`}),l.jsx("p",{className:"font-medium",children:U.title})]}),l.jsx("p",{className:"text-[14px] text-muted-foreground",children:V(U.startDate)}),l.jsxs("p",{className:"text-[12px] text-muted-foreground",children:[U.participants?.length||0," participant",U.participants?.length===1?"":"s"]})]},U._id)):l.jsx("p",{className:"text-muted-foreground text-[14px]",children:"No upcoming events"})})]})})]}),s&&l.jsx(yne,{onClose:C,onEventCreated:b,initialDate:i||void 0})]})}var cg="Popover",[EI]=rr(cg,[ac]),Mu=ac(),[wne,Pi]=EI(cg),NI=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=t,c=Mu(e),u=w.useRef(null),[h,f]=w.useState(!1),[m,g]=xo({prop:r,defaultProp:s??!1,onChange:o,caller:cg});return l.jsx(J0,{...c,children:l.jsx(wne,{scope:e,contentId:ss(),triggerRef:u,open:m,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:h,onCustomAnchorAdd:w.useCallback(()=>f(!0),[]),onCustomAnchorRemove:w.useCallback(()=>f(!1),[]),modal:i,children:n})})};NI.displayName=cg;var jI="PopoverAnchor",kne=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Pi(jI,n),o=Mu(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=s;return w.useEffect(()=>(i(),()=>c()),[i,c]),l.jsx(ym,{...o,...r,ref:e})});kne.displayName=jI;var TI="PopoverTrigger",MI=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Pi(TI,n),o=Mu(n),i=Ge(e,s.triggerRef),c=l.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":II(s.open),...r,ref:i,onClick:Ee(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:l.jsx(ym,{asChild:!0,...o,children:c})});MI.displayName=TI;var ik="PopoverPortal",[Sne,Cne]=EI(ik,{forceMount:void 0}),OI=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=Pi(ik,e);return l.jsx(Sne,{scope:e,forceMount:n,children:l.jsx(An,{present:n||o.open,children:l.jsx(xu,{asChild:!0,container:s,children:r})})})};OI.displayName=ik;var Yl="PopoverContent",PI=w.forwardRef((t,e)=>{const n=Cne(Yl,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=Pi(Yl,t.__scopePopover);return l.jsx(An,{present:r||o.open,children:o.modal?l.jsx(Ene,{...s,ref:e}):l.jsx(Nne,{...s,ref:e})})});PI.displayName=Yl;var _ne=vi("PopoverContent.RemoveScroll"),Ene=w.forwardRef((t,e)=>{const n=Pi(Yl,t.__scopePopover),r=w.useRef(null),s=Ge(e,r),o=w.useRef(!1);return w.useEffect(()=>{const i=r.current;if(i)return wm(i)},[]),l.jsx(yu,{as:_ne,allowPinchZoom:!0,children:l.jsx(AI,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,i=>{i.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Nne=w.forwardRef((t,e)=>{const n=Pi(Yl,t.__scopePopover),r=w.useRef(!1),s=w.useRef(!1);return l.jsx(AI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;n.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),AI=w.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,...m}=t,g=Pi(Yl,n),y=Mu(n);return pm(),l.jsx(mu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(pu,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onDismiss:()=>g.onOpenChange(!1),children:l.jsx(Q0,{"data-state":II(g.open),role:"dialog",id:g.contentId,...y,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),RI="PopoverClose",jne=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Pi(RI,n);return l.jsx(De.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,()=>s.onOpenChange(!1))})});jne.displayName=RI;var Tne="PopoverArrow",Mne=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Mu(n);return l.jsx(Z0,{...s,...r,ref:e})});Mne.displayName=Tne;function II(t){return t?"open":"closed"}var One=NI,Pne=MI,Ane=OI,Rne=PI;function Ine({...t}){return l.jsx(One,{"data-slot":"popover",...t})}function Dne({...t}){return l.jsx(Pne,{"data-slot":"popover-trigger",...t})}function Lne({className:t,align:e="center",sideOffset:n=4,...r}){return l.jsx(Ane,{children:l.jsx(Rne,{"data-slot":"popover-content",align:e,sideOffset:n,className:ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r})})}function DI({...t}){return l.jsx(tP,{"data-slot":"sheet",...t})}function Bne({...t}){return l.jsx(nP,{"data-slot":"sheet-portal",...t})}function Fne({className:t,...e}){return l.jsx(rP,{"data-slot":"sheet-overlay",className:ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function LI({className:t,children:e,side:n="right",...r}){return l.jsxs(Bne,{children:[l.jsx(Fne,{}),l.jsxs(sP,{"data-slot":"sheet-content",className:ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...r,children:[e,l.jsxs(iP,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[l.jsx(yr,{className:"size-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function BI({className:t,...e}){return l.jsx("div",{"data-slot":"sheet-header",className:ze("flex flex-col gap-1.5 p-4",t),...e})}function FI({className:t,...e}){return l.jsx(oP,{"data-slot":"sheet-title",className:ze("text-foreground font-semibold",t),...e})}const Or={getConversations:async()=>(await $e.get("/chat/conversations")).data,getConversation:async t=>(await $e.get(`/chat/conversations/${t}`)).data,getMessages:async(t,e=50,n=0)=>(await $e.get(`/chat/conversations/${t}/messages`,{params:{limit:e,skip:n}})).data,createConversation:async t=>(await $e.post("/chat/conversations",t)).data,sendMessage:async t=>(await $e.post("/chat/messages",t)).data,getUnreadCount:async()=>(await $e.get("/chat/unread")).data,markAsRead:async t=>{await $e.post(`/chat/conversations/${t}/read`)},getSharedUsers:async()=>(await $e.get("/folder/shared-users")).data};class $ne{socket=null;isConnected=!1;callbacks={};currentConversationId=null;reconnectAttempts=0;maxReconnectAttempts=5;getToken(){return localStorage.getItem(gn)}connect(){const e=this.getToken();if(!e){console.error(" ChatService: No authentication token found");return}if(this.socket&&this.isConnected){console.log(" ChatService: Already connected");return}this.socket&&(this.socket.disconnect(),this.socket=null);const s=`${jt.replace("/api","").replace("http","ws")}/ws/chat`;console.log(" ChatService: Connecting to WebSocket:",s),this.socket=Al(s,{auth:{token:e},query:{token:e},transports:["websocket","polling"],reconnection:!0,reconnectionDelay:2e3,reconnectionAttempts:this.maxReconnectAttempts,timeout:3e4,forceNew:!0}),this.setupEventHandlers()}setupEventHandlers(){this.socket&&(this.socket.on("connect",()=>{this.isConnected=!0,this.reconnectAttempts=0,console.log(" ChatService: Connected to chat server"),this.currentConversationId&&this.joinConversation(this.currentConversationId)}),this.socket.on("disconnect",e=>{this.isConnected=!1,console.log(" ChatService: Disconnected from server:",e),e!=="io client disconnect"&&(this.reconnectAttempts++,this.reconnectAttempts<=this.maxReconnectAttempts&&console.log(` ChatService: Reconnection attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts}`))}),this.socket.on("connect_error",e=>{console.error(" ChatService: Connection error:",e),this.callbacks.onError?.(e)}),this.socket.on("conversation_joined",e=>{console.log(" ChatService: Joined conversation:",e.conversationId),this.callbacks.onConversationJoined?.(e)}),this.socket.on("new_message",e=>{console.log(" ChatService: New message received:",e),this.callbacks.onMessage?.(e)}),this.socket.on("messages_read",e=>{this.callbacks.onMessagesRead?.(e)}),this.socket.on("user_online",e=>{this.callbacks.onUserOnline?.(e)}),this.socket.on("user_offline",e=>{this.callbacks.onUserOffline?.(e)}),this.socket.on("online_users",e=>{this.callbacks.onOnlineUsers?.(e)}),this.socket.on("error",e=>{console.error(" ChatService: Error:",e),this.callbacks.onError?.(e)}))}disconnect(){this.socket&&(this.currentConversationId&&this.leaveConversation(this.currentConversationId),this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.currentConversationId=null,console.log(" ChatService: Disconnected"))}joinConversation(e){if(!this.socket||!this.isConnected){console.warn(" ChatService: Not connected, cannot join conversation");return}this.currentConversationId=e,this.socket.emit("join_conversation",{conversationId:e}),console.log(` ChatService: Joining conversation ${e}`)}leaveConversation(e){!this.socket||!this.isConnected||(this.currentConversationId===e&&(this.currentConversationId=null),this.socket.emit("leave_conversation",{conversationId:e}),console.log(` ChatService: Left conversation ${e}`))}sendMessage(e,n,r="text",s){if(!this.socket||!this.isConnected)return console.warn(" ChatService: Not connected, sending via REST API"),Or.sendMessage({conversationId:e,content:n,type:r,metadata:s});this.socket.emit("send_message",{conversationId:e,content:n,type:r,metadata:s}),console.log(` ChatService: Sending message to conversation ${e}`)}markAsRead(e){if(!this.socket||!this.isConnected)return Or.markAsRead(e);this.socket.emit("mark_read",{conversationId:e})}getOnlineUsers(e){!this.socket||!this.isConnected||this.socket.emit("get_online_users",{conversationId:e})}on(e){this.callbacks={...this.callbacks,...e}}off(){this.callbacks={}}get connected(){return this.isConnected}}const dr=new $ne;function zne(){const[t,e]=w.useState(""),[n,r]=w.useState([]),[s,o]=w.useState(null),[i,c]=w.useState([]),[u,h]=w.useState([]),[f,m]=w.useState([]),[g,y]=w.useState(new Set),[v,b]=w.useState(null),[k,C]=w.useState(!0),[_,T]=w.useState({}),[N,j]=w.useState(!1),[P,I]=w.useState(null),[O,L]=w.useState(!1),[$,V]=w.useState(!1),Q=w.useRef(null),K=w.useRef(null),se=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ne=H=>{e(F=>F+H),L(!1)},W=H=>{if(H==null)return"";if(typeof H=="string")return H;if(typeof H=="number")return H.toString();if(typeof H=="object"){const F=H;if(F._id)return W(F._id);if(F.id)return W(F.id);if(F.$oid)return W(F.$oid);if(typeof H.toString=="function")return H.toString()}return""},U=H=>{const F=new Map;for(const J of H){const me=J.participants.map(he=>W(he)).filter(he=>he&&he!==W(v?._id)).sort().join("|")||W(J._id),ve=F.get(me);if(!ve){F.set(me,J);continue}const ue=new Date(ve.lastActivity||ve.updatedAt||ve.createdAt).getTime();new Date(J.lastActivity||J.updatedAt||J.createdAt).getTime()>ue&&F.set(me,J)}return Array.from(F.values()).sort((J,me)=>{const ve=new Date(J.lastActivity||J.updatedAt||J.createdAt).getTime();return new Date(me.lastActivity||me.updatedAt||me.createdAt).getTime()-ve})};w.useEffect(()=>{(async()=>{try{const F=localStorage.getItem("access_token");if(!F)return;const me=F.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),ve=decodeURIComponent(atob(me).split("").map(xe=>"%"+("00"+xe.charCodeAt(0).toString(16)).slice(-2)).join("")),ue=JSON.parse(ve),ge=ue.id||ue._id||ue.userId,he=await va(ge);b(he)}catch(F){console.error("Error loading current user:",F)}})()},[]),w.useEffect(()=>{(async()=>{try{C(!0);const F=await Or.getConversations(),J=U(F);r(J);const me=await Or.getUnreadCount();T(me);const ve=await Or.getSharedUsers();m(ve),F.length>0&&o(F[0])}catch(F){console.error("Error loading conversations:",F);try{const J=await Or.getSharedUsers();m(J)}catch(J){console.error("Error loading shared users:",J)}ae.error("Failed to load conversations")}finally{C(!1)}})()},[]),w.useEffect(()=>{if(!s)return;(async()=>{try{const F=await Or.getMessages(s._id);c(F),await Or.markAsRead(s._id);const J=await Or.getUnreadCount();T(J)}catch(F){console.error("Error loading messages:",F),ae.error("Failed to load messages")}})()},[s?._id]),w.useEffect(()=>{if(!v)return;dr.connect(),dr.on({onMessage:F=>{const J=W(F.conversationId),me=W(s?._id);if(J===me){if(c(ve=>{const ue=W(F._id);if(ve.some(fe=>W(fe._id).startsWith("temp_")&&fe.content===F.content))return ve.filter(fe=>!W(fe._id).startsWith("temp_")||fe.content!==F.content).concat([F]).sort((fe,ye)=>new Date(fe.createdAt).getTime()-new Date(ye.createdAt).getTime());if(ve.some(fe=>W(fe._id)===ue&&fe.content===F.content))return ve;const xe=ve.findIndex(fe=>W(fe._id)===ue);if(xe!==-1){const fe=[...ve];return fe[xe]=F,fe.sort((ye,Te)=>new Date(ye.createdAt).getTime()-new Date(Te.createdAt).getTime())}return[...ve,F].sort((fe,ye)=>new Date(fe.createdAt).getTime()-new Date(ye.createdAt).getTime())}),v){const ve=typeof F.senderId=="object"&&F.senderId._id||F.senderId.toString(),ue=v._id.toString();ve!==ue&&dr.markAsRead(F.conversationId)}}else T(ve=>({...ve,[J]:(ve[J]||0)+1}));r(ve=>U(ve.map(ue=>W(ue._id)===J?{...ue,lastMessage:F,lastActivity:new Date}:ue)))},onUserOnline:F=>{y(J=>new Set([...J,F.userId]))},onUserOffline:F=>{y(J=>{const me=new Set(J);return me.delete(F.userId),me})},onOnlineUsers:F=>{y(new Set(F.userIds))},onError:F=>{console.error("Chat WebSocket error:",F),j(!1)},onConversationJoined:F=>{const J=F.conversationId;j(!0),J&&I(me=>me===J?null:me)}});const H=setInterval(()=>{j(dr.connected)},3e3);return()=>{clearInterval(H),dr.off(),dr.disconnect()}},[s?._id,v]),w.useEffect(()=>{if(!s){I(null);return}const H=W(s._id);H&&(dr.connected?(dr.joinConversation(H),dr.getOnlineUsers(H),I(null)):(I(H),dr.connect()))},[s?._id]),w.useEffect(()=>{N&&P&&(dr.joinConversation(P),dr.getOnlineUsers(P),I(null))},[N,P]);const R=w.useRef(!0),D=w.useRef(0);w.useEffect(()=>{if(R.current){R.current=!1,D.current=i.length;return}i.length>D.current&&Q.current?.scrollIntoView({behavior:"smooth"}),D.current=i.length},[i]),w.useEffect(()=>{if(!s){h([]);return}const H=s.participants.map(J=>W(J)),F=f.filter(J=>{const me=W(J._id);return H.includes(me)&&g.has(me)});h(F)},[s,f,g]);const Z=async()=>{if(!t.trim()||!s||!v)return;const H=t.trim(),F=W(s._id);if(!F)return;const J=`temp_${Date.now()}`,me={_id:J,conversationId:F,senderId:{_id:v._id,firstName:v.firstName,lastName:v.lastName,email:v.email,picture:v.picture},content:H,read:!1,type:"text",createdAt:new Date,updatedAt:new Date};c(ve=>[...ve,me]),e("");try{dr.sendMessage(F,H),setTimeout(async()=>{try{const ve=await Or.getMessages(F);c(ue=>{const ge=ue.filter(ye=>ye._id!==J),he=new Set(ge.map(ye=>ye._id?.toString())),xe=ve.filter(ye=>!he.has(ye._id?.toString()));return[...ge,...xe].sort((ye,Te)=>new Date(ye.createdAt).getTime()-new Date(Te.createdAt).getTime())})}catch(ve){console.error("Error reloading messages:",ve)}},1500)}catch(ve){console.error("Error sending message:",ve),ae.error("Failed to send message"),c(ue=>ue.filter(ge=>ge._id!==J)),e(H)}},M=H=>{const F=new Date(H),me=new Date().getTime()-F.getTime(),ve=Math.floor(me/6e4),ue=Math.floor(ve/60),ge=Math.floor(ue/24);return ve<1?"just now":ve<60?`${ve}m ago`:ue<24?`${ue}h ago`:ge<7?`${ge}d ago`:F.toLocaleDateString()},B=H=>new Date(H).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),q=H=>{if(H.name)return H.name;if(H.type==="direct"&&H.participants.length===2){const J=H.participants.find(me=>W(me)!==W(v?._id));if(J&&typeof J=="object")return`${J.firstName} ${J.lastName}`}const F=H.participants.filter(J=>W(J)!==W(v?._id)).map(J=>typeof J=="object"?`${J.firstName} ${J.lastName}`:"").filter(Boolean);return F.length>0?F.slice(0,3).join(", ")+(F.length>3?"":""):H.type==="group"?`Group (${H.participants.length})`:`Chat (${H.participants.length})`},ee=H=>{if(typeof H.senderId=="object")return`${H.senderId.firstName} ${H.senderId.lastName}`;const F=n.flatMap(J=>J.participants).find(J=>W(J)===W(H.senderId));return F&&typeof F=="object"?`${F.firstName} ${F.lastName}`:"Unknown User"},ie=H=>{if(typeof H.senderId=="object")return`${H.senderId.firstName[0]}${H.senderId.lastName[0]}`;const F=n.flatMap(J=>J.participants).find(J=>W(J)===W(H.senderId));return F&&typeof F=="object"?`${F.firstName[0]}${F.lastName[0]}`:"U"},ce=H=>{const F=W(H.senderId);return v?F===W(v._id):!1},X=async H=>{try{const F=n.find(me=>me.type==="direct"&&me.participants.some(ve=>W(ve)===H));if(F){o(F);return}const J=await Or.createConversation({participantIds:[H],type:"direct"});r(me=>U([J,...me])),o(J)}catch(F){console.error("Failed to start chat:",F),ae.error("Failed to start chat")}};return k?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx(Ne,{className:"rounded-xl overflow-hidden w-full max-w-4xl h-[600px] p-8",children:l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-muted-foreground",children:"Loading conversations..."})})})}):l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs(Ne,{className:"rounded-xl overflow-hidden flex flex-col h-[calc(100vh-12rem)]",children:[l.jsxs("div",{className:"p-6 border-b border-border",children:[l.jsx("h2",{className:"text-[18px] font-semibold",children:"Messages"}),n.length>0&&l.jsxs("p",{className:"text-[12px] text-muted-foreground mt-1",children:[n.length," ",n.length===1?"conversation":"conversations"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 chat-scroll min-h-0",children:n.length===0?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:l.jsx(ra,{className:"w-6 h-6 text-muted-foreground"})}),l.jsx("p",{className:"text-[14px] font-medium mb-1",children:"No conversations yet"}),l.jsx("p",{className:"text-[12px] text-muted-foreground mb-4",children:"Start chatting with your collaborators"}),l.jsx("div",{className:"space-y-2",children:f.length===0?l.jsxs("div",{className:"text-center py-4",children:[l.jsx("p",{className:"text-[12px] text-muted-foreground",children:"No available users to chat"}),l.jsx("p",{className:"text-[11px] text-muted-foreground mt-1",children:"Share a folder with someone to start chatting!"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-[11px] font-medium text-muted-foreground mb-3 text-left px-2",children:"Available users:"}),f.map(H=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-white dark:hover:bg-gray-800 transition-colors bg-white dark:bg-gray-800/50 mx-2 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Zt,{className:"w-9 h-9",children:l.jsxs(Wt,{className:"bg-gradient-to-br from-blue-400 to-purple-500 text-white text-[12px]",children:[H.firstName[0],H.lastName[0]]})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-[14px] font-medium",children:[H.firstName," ",H.lastName]}),l.jsx("p",{className:"text-[11px] text-muted-foreground truncate max-w-[120px]",children:H.email})]})]}),l.jsx(de,{size:"sm",variant:"default",className:"rounded-lg text-[12px] h-7 px-3",onClick:()=>X(H._id),children:"Chat"})]},H._id))]})})]}):l.jsx("div",{className:"divide-y divide-border",children:n.map(H=>{const F=W(H._id),J=_[F]||0,me=W(s?._id)===F,ve=H.participants.find(ge=>W(ge)!==W(v?._id));let ue;if(ve&&typeof ve=="object"){const ge=ve.firstName?.[0]||"",he=ve.lastName?.[0]||"";ue=(ge+he||"").toUpperCase()}else ue=q(H).split(/\s+/).filter(Boolean).map(xe=>xe[0]).join("").slice(0,2).toUpperCase()||"C";return l.jsx("div",{onClick:()=>{o(H),V(!1)},className:`p-3 cursor-pointer transition-all ${me?"bg-blue-50 dark:bg-blue-900/20 border-l-2 border-blue-600":"hover:bg-white dark:hover:bg-gray-800/50"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Zt,{className:"w-10 h-10 flex-shrink-0",children:l.jsx(Wt,{className:"bg-gradient-to-br from-blue-400 to-purple-500 text-white text-[12px]",children:ue})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:`text-[14px] font-medium truncate ${me?"text-blue-900 dark:text-blue-100":""}`,children:q(H)}),J>0&&l.jsx(bt,{className:"bg-blue-600 text-white rounded-full min-w-[20px] h-5 px-1.5 flex items-center justify-center text-[11px] font-semibold ml-2",children:J>99?"99+":J})]}),l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("p",{className:"text-[12px] text-muted-foreground truncate flex-1",children:H.lastMessage?.content||"No messages yet"}),H.lastActivity&&l.jsx("span",{className:"text-[11px] text-muted-foreground flex-shrink-0 ml-2",children:M(H.lastActivity)})]})]})]})},F)})})})]}),l.jsx(Ne,{className:"lg:col-span-2 rounded-xl overflow-hidden flex flex-col h-[calc(100vh-12rem)]",children:s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-6 border-b border-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(de,{variant:"ghost",size:"icon",className:"rounded-xl lg:hidden",onClick:()=>V(!0),children:l.jsx(P8,{className:"w-5 h-5"})}),l.jsx(Zt,{className:"w-10 h-10",children:l.jsx(Wt,{className:"bg-gradient-to-br from-blue-400 to-purple-500 text-white",children:q(s).split(/\s+/).filter(Boolean).map(H=>H[0]).join("").slice(0,2).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[18px] font-semibold",children:q(s)}),l.jsxs("p",{className:"text-[12px] text-muted-foreground mt-0.5",children:[s.participants.length," ",s.participants.length===1?"participant":"participants",u.length>0&&`  ${u.length} online`]})]})]}),u.length>0&&l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("div",{className:"flex -space-x-2",children:u.slice(0,3).map(H=>l.jsxs("div",{className:"relative",children:[l.jsx(Zt,{className:"w-7 h-7 border-2 border-white dark:border-card",children:l.jsxs(Wt,{className:"bg-gradient-to-br from-blue-400 to-purple-500 text-white text-[10px]",children:[H.firstName[0],H.lastName[0]]})}),l.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full border-2 border-white dark:border-card bg-green-500"})]},H._id))}),u.length>3&&l.jsxs("span",{className:"text-[11px] text-muted-foreground ml-1",children:["+",u.length-3]})]})]})}),l.jsxs("div",{ref:K,className:"flex-1 overflow-y-auto p-6 space-y-6 min-h-0 chat-scroll",children:[i.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-4",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mb-4",children:l.jsx(ra,{className:"w-8 h-8 text-muted-foreground"})}),l.jsx("p",{className:"text-[15px] font-medium mb-1",children:"No messages yet"}),l.jsx("p",{className:"text-[13px] text-muted-foreground",children:"Start the conversation by sending a message below"})]}):i.map((H,F)=>{const J=ce(H),me=F>0?i[F-1]:null,ve=!J&&(!me||ce(me)||W(me.senderId)!==W(H.senderId)),ue=!J&&(!me||ce(me)||W(me.senderId)!==W(H.senderId));return l.jsx("div",{className:`flex ${J?"justify-end":"justify-start"} ${F>0?"mt-1":""}`,children:l.jsxs("div",{className:`flex ${J?"flex-row-reverse":"flex-row"} items-end gap-2 max-w-[75%] break-words`,children:[ve?l.jsx(Zt,{className:"w-7 h-7 flex-shrink-0 mb-1",children:l.jsx(Wt,{className:"bg-gradient-to-br from-blue-400 to-purple-500 text-white text-[11px]",children:ie(H)})}):l.jsx("div",{className:"w-7 flex-shrink-0"}),l.jsxs("div",{className:`flex flex-col ${J?"items-end":"items-start"}`,children:[ue&&l.jsx("p",{className:"text-[12px] font-medium text-muted-foreground mb-1 px-1",children:ee(H)}),l.jsx("div",{className:`px-4 py-2.5 rounded-2xl ${J?"bg-blue-600 text-white rounded-br-sm shadow-sm":"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-bl-sm"}`,children:l.jsx("p",{className:`text-[14px] leading-relaxed whitespace-pre-wrap break-words ${J?"text-white":"text-gray-900 dark:text-gray-100"}`,children:H.content})}),l.jsx("p",{className:`text-[11px] text-muted-foreground mt-1 px-1 ${J?"text-right":"text-left"}`,children:B(H.createdAt)})]})]})},H._id)}),l.jsx("div",{ref:Q})]}),l.jsxs("div",{className:"p-6 border-t border-border space-y-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(Ine,{open:O,onOpenChange:L,children:[l.jsx(Dne,{asChild:!0,children:l.jsx(de,{variant:"ghost",size:"icon",className:"rounded-xl flex-shrink-0",type:"button",children:l.jsx(o$,{className:"w-5 h-5"})})}),l.jsx(Lne,{side:"top",sideOffset:8,align:"start",className:"w-[300px] p-2 rounded-xl z-50 shadow-lg border",children:l.jsx("div",{className:"grid grid-cols-8 gap-1 auto-rows-auto",children:se.map((H,F)=>l.jsx("button",{onClick:()=>ne(H),className:"text-lg hover:bg-gray-100 dark:hover:bg-gray-800 rounded transition-colors cursor-pointer flex items-center justify-center w-9 h-9",type:"button",title:H,children:H},F))})})]}),l.jsx(Ye,{type:"text",value:t,onChange:H=>e(H.target.value),onKeyPress:H=>H.key==="Enter"&&!H.shiftKey&&Z(),placeholder:"Type a message...",className:"flex-1 rounded-xl"}),l.jsx(de,{onClick:Z,className:"rounded-xl",disabled:!t.trim(),children:l.jsx(ra,{className:"w-4 h-4"})})]}),t.trim()&&l.jsx("p",{className:"text-[12px] text-muted-foreground",children:"Press Enter to send, Shift+Enter for new line"})]})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-4",children:[l.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gray-100 dark:bg-gray-800 flex items-center justify-center mb-4",children:l.jsx(ra,{className:"w-10 h-10 text-muted-foreground"})}),l.jsx("h2",{className:"text-[20px] mb-2",children:"Select a conversation"}),l.jsx("p",{className:"text-muted-foreground",children:"Choose a conversation from the sidebar to start chatting"})]})}),l.jsxs(Ne,{className:"rounded-xl overflow-hidden flex flex-col h-[calc(100vh-12rem)] hidden lg:flex",children:[l.jsx("div",{className:"p-6 border-b border-border",children:l.jsxs("h3",{className:"text-[18px] font-semibold",children:["Online (",u.length,")"]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3 chat-scroll min-h-0",children:u.length===0?l.jsx("p",{className:"text-[14px] text-muted-foreground text-center mt-4",children:"No online users in this conversation"}):u.map(H=>l.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Zt,{className:"w-10 h-10",children:l.jsx(Wt,{className:"bg-gradient-to-br from-blue-400 to-purple-500 text-white",children:`${H.firstName[0]}${H.lastName[0]}`})}),l.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white dark:border-card bg-green-500"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-[14px] font-medium",children:`${H.firstName} ${H.lastName}`}),l.jsx("p",{className:"text-[12px] text-muted-foreground capitalize",children:"online"})]})]},H._id))})]})]}),l.jsx(DI,{open:$,onOpenChange:V,children:l.jsxs(LI,{side:"left",className:"p-0 w-[320px] sm:w-[400px]",children:[l.jsxs(BI,{className:"px-6 pt-6 pb-4 border-b border-border",children:[l.jsx(FI,{children:"Messages"}),n.length>0&&l.jsxs("p",{className:"text-[12px] text-muted-foreground mt-1",children:[n.length," ",n.length===1?"conversation":"conversations"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 chat-scroll",children:n.length===0?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:l.jsx(ra,{className:"w-6 h-6 text-muted-foreground"})}),l.jsx("p",{className:"text-[14px] font-medium mb-1",children:"No conversations yet"}),l.jsx("p",{className:"text-[12px] text-muted-foreground mb-4",children:"Start chatting with your collaborators"}),l.jsx("div",{className:"space-y-2",children:f.length===0?l.jsxs("div",{className:"text-center py-4",children:[l.jsx("p",{className:"text-[12px] text-muted-foreground",children:"No available users to chat"}),l.jsx("p",{className:"text-[11px] text-muted-foreground mt-1",children:"Share a folder with someone to start chatting!"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-[11px] font-medium text-muted-foreground mb-3 text-left px-2",children:"Available users:"}),f.map(H=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-white dark:hover:bg-gray-800 transition-colors bg-white dark:bg-gray-800/50 mx-2 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Zt,{className:"w-9 h-9",children:l.jsxs(Wt,{className:"bg-gradient-to-br from-blue-400 to-purple-500 text-white text-[12px]",children:[H.firstName[0],H.lastName[0]]})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-[14px] font-medium",children:[H.firstName," ",H.lastName]}),l.jsx("p",{className:"text-[11px] text-muted-foreground truncate max-w-[120px]",children:H.email})]})]}),l.jsx(de,{size:"sm",variant:"default",className:"rounded-lg text-[12px] h-7 px-3",onClick:()=>{X(H._id),V(!1)},children:"Chat"})]},H._id))]})})]}):l.jsx("div",{className:"divide-y divide-border",children:n.map(H=>{const F=W(H._id),J=_[F]||0,me=W(s?._id)===F,ve=H.participants.find(ge=>W(ge)!==W(v?._id));let ue;if(ve&&typeof ve=="object"){const ge=ve.firstName?.[0]||"",he=ve.lastName?.[0]||"";ue=(ge+he||"").toUpperCase()}else ue=q(H).split(/\s+/).filter(Boolean).map(xe=>xe[0]).join("").slice(0,2).toUpperCase()||"C";return l.jsx("div",{onClick:()=>{o(H),V(!1)},className:`p-3 cursor-pointer transition-all ${me?"bg-blue-50 dark:bg-blue-900/20 border-l-2 border-blue-600":"hover:bg-white dark:hover:bg-gray-800/50"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Zt,{className:"w-10 h-10 flex-shrink-0",children:l.jsx(Wt,{className:"bg-gradient-to-br from-blue-400 to-purple-500 text-white text-[12px]",children:ue})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:`text-[14px] font-medium truncate ${me?"text-blue-900 dark:text-blue-100":""}`,children:q(H)}),J>0&&l.jsx(bt,{className:"bg-blue-600 text-white rounded-full min-w-[20px] h-5 px-1.5 flex items-center justify-center text-[11px] font-semibold ml-2",children:J>99?"99+":J})]}),l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("p",{className:"text-[12px] text-muted-foreground truncate flex-1",children:H.lastMessage?.content||"No messages yet"}),H.lastActivity&&l.jsx("span",{className:"text-[11px] text-muted-foreground flex-shrink-0 ml-2",children:M(H.lastActivity)})]})]})]})},F)})})})]})})]})}const Une=jt.replace("/api",""),$I=xt.create({baseURL:Une,headers:{"Content-Type":"application/json"}});$I.interceptors.request.use(t=>{const e=localStorage.getItem(gn);return e&&(t.headers.Authorization=`Bearer ${e}`),t});const Hne={askQuestion:(t,e,n)=>$I.post("/openai",{question:t,documentIds:e,folderIds:n}).then(r=>r.data)};var dg="Checkbox",[Wne]=rr(dg),[Vne,ak]=Wne(dg);function qne(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:o,form:i,name:c,onCheckedChange:u,required:h,value:f="on",internal_do_not_use_render:m}=t,[g,y]=xo({prop:n,defaultProp:s??!1,onChange:u,caller:dg}),[v,b]=w.useState(null),[k,C]=w.useState(null),_=w.useRef(!1),T=v?!!i||!!v.closest("form"):!0,N={checked:g,disabled:o,setChecked:y,control:v,setControl:b,name:c,form:i,value:f,hasConsumerStoppedPropagationRef:_,required:h,defaultChecked:gi(s)?!1:s,isFormControl:T,bubbleInput:k,setBubbleInput:C};return l.jsx(Vne,{scope:e,...N,children:Yne(m)?m(N):r})}var zI="CheckboxTrigger",UI=w.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:o,value:i,disabled:c,checked:u,required:h,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:v}=ak(zI,t),b=Ge(s,f),k=w.useRef(u);return w.useEffect(()=>{const C=o?.form;if(C){const _=()=>m(k.current);return C.addEventListener("reset",_),()=>C.removeEventListener("reset",_)}},[o,m]),l.jsx(De.button,{type:"button",role:"checkbox","aria-checked":gi(u)?"mixed":u,"aria-required":h,"data-state":KI(u),"data-disabled":c?"":void 0,disabled:c,value:i,...r,ref:b,onKeyDown:Ee(e,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:Ee(n,C=>{m(_=>gi(_)?!0:!_),v&&y&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})})});UI.displayName=zI;var HI=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:c,value:u,onCheckedChange:h,form:f,...m}=t;return l.jsx(qne,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:c,required:i,onCheckedChange:h,name:r,form:f,value:u,internal_do_not_use_render:({isFormControl:g})=>l.jsxs(l.Fragment,{children:[l.jsx(UI,{...m,ref:e,__scopeCheckbox:n}),g&&l.jsx(YI,{__scopeCheckbox:n})]})})});HI.displayName=dg;var WI="CheckboxIndicator",VI=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,o=ak(WI,n);return l.jsx(An,{present:r||gi(o.checked)||o.checked===!0,children:l.jsx(De.span,{"data-state":KI(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});VI.displayName=WI;var qI="CheckboxBubbleInput",YI=w.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:c,disabled:u,name:h,value:f,form:m,bubbleInput:g,setBubbleInput:y}=ak(qI,t),v=Ge(n,y),b=ub(o),k=K0(r);w.useEffect(()=>{const _=g;if(!_)return;const T=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(T,"checked").set,P=!s.current;if(b!==o&&j){const I=new Event("click",{bubbles:P});_.indeterminate=gi(o),j.call(_,gi(o)?!1:o),_.dispatchEvent(I)}},[g,b,o,s]);const C=w.useRef(gi(o)?!1:o);return l.jsx(De.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??C.current,required:c,disabled:u,name:h,value:f,form:m,...e,tabIndex:-1,ref:v,style:{...e.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});YI.displayName=qI;function Yne(t){return typeof t=="function"}function gi(t){return t==="indeterminate"}function KI(t){return gi(t)?"indeterminate":t?"checked":"unchecked"}function Kne({className:t,...e}){return l.jsx(HI,{"data-slot":"checkbox",className:ze("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(VI,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:l.jsx(Bl,{className:"size-3.5"})})})}function Xne(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var lk="ScrollArea",[XI]=rr(lk),[Gne,Vr]=XI(lk),GI=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=t,[c,u]=w.useState(null),[h,f]=w.useState(null),[m,g]=w.useState(null),[y,v]=w.useState(null),[b,k]=w.useState(null),[C,_]=w.useState(0),[T,N]=w.useState(0),[j,P]=w.useState(!1),[I,O]=w.useState(!1),L=Ge(e,V=>u(V)),$=fu(s);return l.jsx(Gne,{scope:n,type:r,dir:$,scrollHideDelay:o,scrollArea:c,viewport:h,onViewportChange:f,content:m,onContentChange:g,scrollbarX:y,onScrollbarXChange:v,scrollbarXEnabled:j,onScrollbarXEnabledChange:P,scrollbarY:b,onScrollbarYChange:k,scrollbarYEnabled:I,onScrollbarYEnabledChange:O,onCornerWidthChange:_,onCornerHeightChange:N,children:l.jsx(De.div,{dir:$,...i,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});GI.displayName=lk;var JI="ScrollAreaViewport",QI=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=t,i=Vr(JI,n),c=w.useRef(null),u=Ge(e,c,i.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(De.div,{"data-radix-scroll-area-viewport":"",...o,ref:u,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});QI.displayName=JI;var Us="ScrollAreaScrollbar",ZI=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Vr(Us,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,c=t.orientation==="horizontal";return w.useEffect(()=>(c?o(!0):i(!0),()=>{c?o(!1):i(!1)}),[c,o,i]),s.type==="hover"?l.jsx(Jne,{...r,ref:e,forceMount:n}):s.type==="scroll"?l.jsx(Qne,{...r,ref:e,forceMount:n}):s.type==="auto"?l.jsx(e4,{...r,ref:e,forceMount:n}):s.type==="always"?l.jsx(ck,{...r,ref:e}):null});ZI.displayName=Us;var Jne=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Vr(Us,t.__scopeScrollArea),[o,i]=w.useState(!1);return w.useEffect(()=>{const c=s.scrollArea;let u=0;if(c){const h=()=>{window.clearTimeout(u),i(!0)},f=()=>{u=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(An,{present:n||o,children:l.jsx(e4,{"data-state":o?"visible":"hidden",...r,ref:e})})}),Qne=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Vr(Us,t.__scopeScrollArea),o=t.orientation==="horizontal",i=hg(()=>u("SCROLL_END"),100),[c,u]=Xne("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,s.scrollHideDelay,u]),w.useEffect(()=>{const h=s.viewport,f=o?"scrollLeft":"scrollTop";if(h){let m=h[f];const g=()=>{const y=h[f];m!==y&&(u("SCROLL"),i()),m=y};return h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[s.viewport,o,u,i]),l.jsx(An,{present:n||c!=="hidden",children:l.jsx(ck,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ee(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Ee(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),e4=w.forwardRef((t,e)=>{const n=Vr(Us,t.__scopeScrollArea),{forceMount:r,...s}=t,[o,i]=w.useState(!1),c=t.orientation==="horizontal",u=hg(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(c?h:f)}},10);return Kl(n.viewport,u),Kl(n.content,u),l.jsx(An,{present:r||o,children:l.jsx(ck,{"data-state":o?"visible":"hidden",...s,ref:e})})}),ck=w.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Vr(Us,t.__scopeScrollArea),o=w.useRef(null),i=w.useRef(0),[c,u]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=o4(c.viewport,c.content),f={...r,sizes:c,onSizesChange:u,hasThumb:h>0&&h<1,onThumbChange:g=>o.current=g,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:g=>i.current=g};function m(g,y){return sre(g,i.current,c,y)}return n==="horizontal"?l.jsx(Zne,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const g=s.viewport.scrollLeft,y=DE(g,c,s.dir);o.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollLeft=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollLeft=m(g,s.dir))}}):n==="vertical"?l.jsx(ere,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const g=s.viewport.scrollTop,y=DE(g,c);o.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollTop=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollTop=m(g))}}):null}),Zne=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,o=Vr(Us,t.__scopeScrollArea),[i,c]=w.useState(),u=w.useRef(null),h=Ge(e,u,o.onScrollbarXChange);return w.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),l.jsx(n4,{"data-orientation":"horizontal",...s,ref:h,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ug(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(o.viewport){const g=o.viewport.scrollLeft+f.deltaX;t.onWheelScroll(g),a4(g,m)&&f.preventDefault()}},onResize:()=>{u.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Vp(i.paddingLeft),paddingEnd:Vp(i.paddingRight)}})}})}),ere=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,o=Vr(Us,t.__scopeScrollArea),[i,c]=w.useState(),u=w.useRef(null),h=Ge(e,u,o.onScrollbarYChange);return w.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),l.jsx(n4,{"data-orientation":"vertical",...s,ref:h,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ug(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(o.viewport){const g=o.viewport.scrollTop+f.deltaY;t.onWheelScroll(g),a4(g,m)&&f.preventDefault()}},onResize:()=>{u.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Vp(i.paddingTop),paddingEnd:Vp(i.paddingBottom)}})}})}),[tre,t4]=XI(Us),n4=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:h,onWheelScroll:f,onResize:m,...g}=t,y=Vr(Us,n),[v,b]=w.useState(null),k=Ge(e,L=>b(L)),C=w.useRef(null),_=w.useRef(""),T=y.viewport,N=r.content-r.viewport,j=pn(f),P=pn(u),I=hg(m,10);function O(L){if(C.current){const $=L.clientX-C.current.left,V=L.clientY-C.current.top;h({x:$,y:V})}}return w.useEffect(()=>{const L=$=>{const V=$.target;v?.contains(V)&&j($,N)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[T,v,N,j]),w.useEffect(P,[r,P]),Kl(v,I),Kl(y.content,I),l.jsx(tre,{scope:n,scrollbar:v,hasThumb:s,onThumbChange:pn(o),onThumbPointerUp:pn(i),onThumbPositionChange:P,onThumbPointerDown:pn(c),children:l.jsx(De.div,{...g,ref:k,style:{position:"absolute",...g.style},onPointerDown:Ee(t.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),C.current=v.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),O(L))}),onPointerMove:Ee(t.onPointerMove,O),onPointerUp:Ee(t.onPointerUp,L=>{const $=L.target;$.hasPointerCapture(L.pointerId)&&$.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=_.current,y.viewport&&(y.viewport.style.scrollBehavior=""),C.current=null})})})}),Wp="ScrollAreaThumb",r4=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=t4(Wp,t.__scopeScrollArea);return l.jsx(An,{present:n||s.hasThumb,children:l.jsx(nre,{ref:e,...r})})}),nre=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,o=Vr(Wp,n),i=t4(Wp,n),{onThumbPositionChange:c}=i,u=Ge(e,m=>i.onThumbChange(m)),h=w.useRef(void 0),f=hg(()=>{h.current&&(h.current(),h.current=void 0)},100);return w.useEffect(()=>{const m=o.viewport;if(m){const g=()=>{if(f(),!h.current){const y=ore(m,c);h.current=y,c()}};return c(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[o.viewport,f,c]),l.jsx(De.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ee(t.onPointerDownCapture,m=>{const y=m.target.getBoundingClientRect(),v=m.clientX-y.left,b=m.clientY-y.top;i.onThumbPointerDown({x:v,y:b})}),onPointerUp:Ee(t.onPointerUp,i.onThumbPointerUp)})});r4.displayName=Wp;var dk="ScrollAreaCorner",s4=w.forwardRef((t,e)=>{const n=Vr(dk,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(rre,{...t,ref:e}):null});s4.displayName=dk;var rre=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Vr(dk,n),[o,i]=w.useState(0),[c,u]=w.useState(0),h=!!(o&&c);return Kl(s.scrollbarX,()=>{const f=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(f),u(f)}),Kl(s.scrollbarY,()=>{const f=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(f),i(f)}),h?l.jsx(De.div,{...r,ref:e,style:{width:o,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Vp(t){return t?parseInt(t,10):0}function o4(t,e){const n=t/e;return isNaN(n)?0:n}function ug(t){const e=o4(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function sre(t,e,n,r="ltr"){const s=ug(n),o=s/2,i=e||o,c=s-i,u=n.scrollbar.paddingStart+i,h=n.scrollbar.size-n.scrollbar.paddingEnd-c,f=n.content-n.viewport,m=r==="ltr"?[0,f]:[f*-1,0];return i4([u,h],m)(t)}function DE(t,e,n="ltr"){const r=ug(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,i=e.content-e.viewport,c=o-r,u=n==="ltr"?[0,i]:[i*-1,0],h=Ay(t,u);return i4([0,i],[0,c])(h)}function i4(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function a4(t,e){return t>0&&t<e}var ore=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function s(){const o={left:t.scrollLeft,top:t.scrollTop},i=n.left!==o.left,c=n.top!==o.top;(i||c)&&e(),n=o,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function hg(t,e){const n=pn(t),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Kl(t,e){const n=pn(e);Yt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var ire=GI,are=QI,lre=s4;function cre({className:t,children:e,...n}){return l.jsxs(ire,{"data-slot":"scroll-area",className:ze("relative",t),...n,children:[l.jsx(are,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),l.jsx(dre,{}),l.jsx(lre,{})]})}function dre({className:t,orientation:e="vertical",...n}){return l.jsx(ZI,{"data-slot":"scroll-area-scrollbar",orientation:e,className:ze("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:l.jsx(r4,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const LE=t=>{let e=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/^\d+\.\s+(.+)$/gm,"<li>$1</li>").replace(/^[-]\s+(.+)$/gm,"<li>$1</li>").replace(/\n/g,"<br>");return e=e.replace(/(<li>.*<\/li>)/gs,'<ul class="list-disc list-inside space-y-1">$1</ul>'),e};function ure(){const[t,e]=w.useState(""),[n,r]=w.useState(!1),[s,o]=w.useState([]),[i,c]=w.useState(!1),[u,h]=w.useState(""),[f,m]=w.useState(!1),[g,y]=w.useState([]),[v,b]=w.useState([]),[k,C]=w.useState([]),[_,T]=w.useState([]),[N,j]=w.useState(""),[P,I]=w.useState(""),[O,L]=w.useState(!1);w.useEffect(()=>{(async()=>{try{const[B,q]=await Promise.all([gt.getAll(),Vt.getAll(1,100)]),ee=new Map;q.forEach(ce=>{ee.set(ce._id,ce)});const ie=B.map(ce=>{const X=typeof ce.folderId=="string"?ce.folderId:ce.folderId?._id?.toString?.()||"",H=X?ee.get(X):null;return{...ce,folderId:X,folderName:H?.Name||"Uncategorized"}});y(ie),b(q)}catch(B){if(B?.code==="ERR_NETWORK"||B?.code==="ECONNREFUSED"||B?.message?.includes("ERR_CONNECTION_REFUSED")||B?.message?.includes("Network Error")||!B?.response)console.warn("Backend connection unavailable. AI Assistant will work without document context."),y([]),b([]);else{console.error("Failed to fetch documents and folders:",B);const ee=B?.response?.data?.message||"Failed to load documents";ae.error(ee)}}})()},[]);const $=w.useCallback(M=>v.find(B=>B._id===M)?.Name||"Uncategorized",[v]),V=w.useCallback(M=>{if(I(""),M==="all"){j("");return}j(M),T(B=>B.includes(M)?B:[...B,M])},[]),Q=w.useCallback(M=>{T(B=>B.filter(q=>q!==M)),C(B=>B.filter(q=>g.find(ie=>ie._id===q)?.folderId!==M)),j(B=>B===M?"":B)},[g]),K=w.useCallback((M,B)=>{const q=B===!0||B==="indeterminate";C(ee=>q?ee.includes(M)?ee:[...ee,M]:ee.filter(ie=>ie!==M))},[]),se=w.useCallback(()=>{C([]),T([]),j("")},[]),ne=w.useMemo(()=>{let M=g;if(N?M=M.filter(B=>B.folderId===N):_.length>0&&(M=M.filter(B=>B.folderId&&_.includes(B.folderId))),P.trim()){const B=P.toLowerCase();M=M.filter(q=>q.Title?.toLowerCase().includes(B)||q.folderName?.toLowerCase().includes(B)||q.contentType?.some(ee=>ee.toLowerCase().includes(B)))}return M.slice().sort((B,q)=>new Date(q.updatedDate||q.createdDate).getTime()-new Date(B.updatedDate||B.createdDate).getTime())},[g,N,_,P]),U=[{id:1,text:"Summarize my recent documents",icon:$n,action:()=>{const B=g.filter(q=>(Date.now()-new Date(q.updatedDate||q.createdDate).getTime())/864e5<7).slice(0,5).map(q=>q._id);C(B),e("Summarize my recent documents")}},{id:2,text:"Who last edited my documents?",icon:$n,action:()=>{e("Who last edited my documents?")}},{id:3,text:"Analyze documents in a specific folder",icon:tn,action:()=>{v.length>0?(T([v[0]._id]),j(v[0]._id),I(""),L(!0),e(`Analyze all documents in the "${v[0].Name}" folder`)):e("Analyze documents in a specific folder")}},{id:4,text:"Find documents by content or tags",icon:um,action:()=>{e("Find documents by content or tags")}}],R=l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-[18px] font-semibold",children:"Context filters"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Narrow down AI responses by focusing on folders and documents."})]}),(k.length>0||_.length>0)&&l.jsx(de,{variant:"ghost",size:"sm",onClick:se,className:"rounded-lg",children:"Clear all"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-medium",children:"Choose a folder"}),l.jsxs(la,{value:N||"all",onValueChange:V,children:[l.jsx(da,{className:"rounded-xl",children:l.jsx(ca,{placeholder:"All folders"})}),l.jsxs(ua,{className:"rounded-xl",children:[l.jsx(en,{value:"all",children:"All folders"}),v.map(M=>l.jsx(en,{value:M._id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tn,{className:"w-4 h-4"}),l.jsx("span",{children:M.Name})]})},M._id))]})]}),_.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(M=>l.jsxs(bt,{variant:"secondary",className:"rounded-lg px-3 py-1",children:[l.jsx(tn,{className:"w-3 h-3 mr-1"}),$(M),l.jsx("button",{onClick:()=>Q(M),className:"ml-2 hover:text-destructive","aria-label":`Remove folder ${$(M)}`,children:l.jsx(yr,{className:"w-3 h-3"})})]},M))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("label",{className:"text-sm font-medium",children:["Documents ",N?`in ${$(N)}`:"(all)"]}),k.length>0&&l.jsxs("span",{className:"text-xs text-muted-foreground",children:[k.length," selected"]})]}),l.jsx(Ye,{type:"text",value:P,onChange:M=>I(M.target.value),placeholder:"Search documents...",className:"rounded-xl"}),l.jsx(cre,{className:"h-64 rounded-xl border border-dashed border-border",children:l.jsx("div",{className:"p-3 space-y-2",children:ne.length===0?l.jsx("div",{className:"text-sm text-muted-foreground text-center py-6",children:P?"No documents match your search.":"No documents found in this selection."}):ne.map(M=>l.jsxs("label",{className:"flex items-start gap-3 rounded-lg px-3 py-2 transition-colors cursor-pointer hover:bg-muted/60",children:[l.jsx(Kne,{checked:k.includes(M._id),onCheckedChange:B=>K(M._id,B)}),l.jsxs("div",{className:"space-y-1 overflow-hidden",children:[l.jsx("p",{className:"text-sm font-medium leading-tight truncate",children:M.Title}),l.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[$(M.folderId||""),M.contentType&&M.contentType.length>0&&l.jsxs(l.Fragment,{children:["  ",M.contentType.slice(0,2).join(", "),M.contentType.length>2?"":""]})]})]})]},M._id))})})]})]}),D=async()=>{if(!t.trim()||i)return;const M={id:Date.now(),type:"user",content:t,time:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})};o(q=>[...q,M]);const B=t;e(""),c(!0);try{let q;try{q=await Hne.askQuestion(B,k.length>0?k:void 0,_.length>0?_:void 0)}catch(X){throw X?.code==="ERR_NETWORK"||X?.code==="ECONNREFUSED"||X?.message?.includes("ERR_CONNECTION_REFUSED")||X?.message?.includes("Network Error")||!X?.response?new Error("Unable to connect to the AI service. Please make sure the backend is running."):X}m(!0);const ee=q;let ie=0;const ce=setInterval(()=>{if(ie<=ee.length)h(ee.substring(0,ie)),ie+=2;else{clearInterval(ce),m(!1);const X={id:Date.now()+1,type:"ai",content:ee,time:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})};o(H=>[...H,X]),h("")}},20)}catch(q){console.error("Error getting AI response:",q);let ee="Sorry, I encountered an error. Please try again.";q?.message?ee=q.message:q?.response?.data&&(ee=q.response.data.message||ee),ae.error(ee);const ie={id:Date.now()+1,type:"ai",content:ee,time:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})};o(ce=>[...ce,ie])}finally{c(!1)}},Z=()=>{r(!n),ae.info("Voice input is coming soon!")};return l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsxs(Ne,{className:"lg:col-span-3 rounded-xl overflow-hidden flex flex-col h-[calc(100vh-12rem)]",children:[l.jsx("div",{className:"p-6 border-b border-border",children:l.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:l.jsx(li,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-[24px]",children:"AI Assistant"}),l.jsx("p",{className:"text-[14px] text-muted-foreground",children:"Ask me anything about your workspace"})]})]}),l.jsxs(de,{variant:"outline",className:"rounded-xl lg:hidden",onClick:()=>L(!0),children:[l.jsx(e_,{className:"w-4 h-4 mr-2"}),"Filters"]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:s.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mb-4",children:l.jsx(li,{className:"w-10 h-10 text-white"})}),l.jsx("h2",{className:"text-[20px] mb-2",children:"How can I help you today?"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"I can help you find documents, summarize content, and answer questions about your workspace"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 w-full max-w-2xl",children:U.map(M=>l.jsxs(de,{variant:"outline",className:"h-auto p-4 rounded-xl text-left justify-start",onClick:()=>{M.action?M.action():e(M.text)},children:[l.jsx(M.icon,{className:"w-5 h-5 mr-3 flex-shrink-0"}),l.jsx("span",{children:M.text})]},M.id))})]}):l.jsxs(l.Fragment,{children:[s.map(M=>l.jsx("div",{className:`flex ${M.type==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`flex ${M.type==="user"?"flex-row-reverse":"flex-row"} items-start space-x-3 max-w-[85%]`,children:[l.jsx(Zt,{className:"w-10 h-10 mt-1",children:M.type==="ai"?l.jsx(Wt,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:l.jsx(li,{className:"w-5 h-5"})}):l.jsx(Wt,{className:"bg-gray-200 dark:bg-gray-700",children:"JD"})}),l.jsxs("div",{className:M.type==="user"?"mr-3":"",children:[l.jsx("div",{className:`px-5 py-3 rounded-2xl ${M.type==="user"?"bg-blue-600 text-white rounded-br-sm":"bg-gray-100 dark:bg-gray-800 rounded-bl-sm"}`,children:l.jsx("div",{dangerouslySetInnerHTML:{__html:M.type==="ai"?LE(M.content):M.content.replace(/\n/g,"<br>")}})}),l.jsx("p",{className:"text-[12px] text-muted-foreground mt-2",children:M.time})]})]})},M.id)),f&&l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"flex flex-row items-start space-x-3 max-w-[85%]",children:[l.jsx(Zt,{className:"w-10 h-10 mt-1",children:l.jsx(Wt,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:l.jsx(li,{className:"w-5 h-5 animate-pulse"})})}),l.jsx("div",{children:l.jsxs("div",{className:"px-5 py-3 rounded-2xl bg-gray-100 dark:bg-gray-800 rounded-bl-sm",children:[l.jsx("div",{dangerouslySetInnerHTML:{__html:LE(u)}}),l.jsx("span",{className:"inline-block w-2 h-4 bg-blue-600 ml-1 animate-pulse"})]})})]})})]})}),l.jsxs("div",{className:"p-6 border-t border-border space-y-3",children:[(k.length>0||_.length>0)&&l.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-blue-200 dark:border-blue-800 bg-blue-50/70 dark:bg-blue-900/20 px-4 py-2 text-sm",children:[l.jsxs("p",{className:"text-blue-900 dark:text-blue-200",children:[k.length>0&&`${k.length} document${k.length>1?"s":""}`,k.length>0&&_.length>0&&"  ",_.length>0&&`${_.length} folder${_.length>1?"s":""}`," ","selected"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(de,{variant:"ghost",size:"sm",className:"rounded-lg",onClick:()=>L(!0),children:"Adjust"}),l.jsx(de,{variant:"ghost",size:"sm",onClick:se,className:"rounded-lg text-blue-900 dark:text-blue-200",children:"Clear"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(de,{variant:"outline",size:"icon",className:"rounded-xl lg:hidden",onClick:()=>L(!0),children:l.jsx(e_,{className:"w-4 h-4"})}),l.jsx(de,{variant:n?"default":"ghost",size:"icon",className:"rounded-xl",onClick:Z,children:l.jsx(F0,{className:`w-5 h-5 ${n?"animate-pulse":""}`})}),l.jsx(Ye,{type:"text",value:t,onChange:M=>e(M.target.value),onKeyPress:M=>M.key==="Enter"&&D(),placeholder:"Ask me anything about your documents...",className:"flex-1 rounded-xl"}),l.jsx(de,{onClick:D,className:"rounded-xl",disabled:i||!t.trim(),children:l.jsx(ra,{className:"w-4 h-4"})})]}),n&&l.jsxs("p",{className:"text-[14px] text-blue-600 mt-2 flex items-center",children:[l.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2 animate-pulse"}),"Listening..."]})]})]}),l.jsx(Ne,{className:"rounded-xl p-6 h-fit hidden lg:block",children:R})]}),l.jsx(DI,{open:O,onOpenChange:L,children:l.jsxs(LI,{side:"right",className:"p-0",children:[l.jsx(BI,{children:l.jsx(FI,{className:"px-6 pt-6",children:"Context filters"})}),l.jsx("div",{className:"px-6 pb-8 space-y-6 overflow-y-auto",children:R})]})})]})}const hre=jt.replace("/api",""),Zr=xt.create({baseURL:hre,headers:{"Content-Type":"application/json"}});Zr.interceptors.request.use(t=>{const e=localStorage.getItem(gn);return e&&(t.headers.Authorization=`Bearer ${e}`),t});const qp={startMeeting:t=>Zr.post("/meetings/start",t).then(e=>e.data),joinMeeting:t=>Zr.post("/meetings/join",{meetingRoomId:t}).then(e=>e.data),endMeeting:(t,e)=>Zr.post(`/meetings/end/${t}`,e).then(n=>n.data),getMeetingByRoom:t=>Zr.get(`/meetings/room/${t}`).then(e=>e.data),getMeetingsByDocument:t=>Zr.get(`/meetings/byDoc/${t}`).then(e=>e.data),getMeetingsByFolder:t=>Zr.get(`/meetings/byFolder/${t}`).then(e=>e.data),updateMeetingTranscript:(t,e)=>Zr.patch(`/meetings/${t}/transcript`,{transcript:e}).then(n=>n.data),getMeetingById:t=>Zr.get(`/meetings/${t}`).then(e=>e.data),getUserMeetings:(t,e)=>Zr.get(`/meetings/user/${t}${e?`?limit=${e}`:""}`).then(n=>n.data),getUpcomingMeetings:t=>Zr.get(`/meetings/upcoming/${t}`).then(e=>e.data)};function fre(){const[t,e]=w.useState("Quick Sync"),[n,r]=w.useState([]),[s,o]=w.useState([]),[i,c]=w.useState(!1),[u,h]=w.useState(!1),[f,m]=w.useState(null),[g,y]=w.useState(""),[v,b]=w.useState(!1),[k,C]=w.useState(null);w.useEffect(()=>{(async()=>{try{const I=await $e.get("/users");o(I.data)}catch(I){console.error("Failed to fetch users:",I)}})()},[]);const _=P=>{n.find(I=>I._id===P._id)||r([...n,P]),c(!1)},T=P=>{r(n.filter(I=>I._id!==P))},N=async()=>{if(!u){m(null),h(!0);try{const P=n.map(V=>V._id),I={title:t||"Quick Sync",participants:P,startTime:new Date,folderId:"standalone-meeting"},O=await qp.startMeeting(I),L=`${window.location.origin}/meet?room=${O.meetingRoomId||""}&title=${encodeURIComponent(O.title)}`;if(n.length>0){let V=0,Q=0;for(const K of n)try{const se=O.createdBy?`${O.createdBy.firstName||""} ${O.createdBy.lastName||""}`.trim():"Meeting Organizer";await O$(K.email,{title:O.title,startTime:O.startTime,createdBy:se,description:O.description,joinUrl:L}),V++}catch(se){console.error(`Failed to send email to ${K.email}:`,se),Q++}V>0&&ae.success(`Meeting started! ${V} invitation email(s) sent.`),Q>0&&ae.error(`Failed to send ${Q} invitation email(s).`)}else ae.success("Meeting started successfully!");const $=new URLSearchParams({room:O.meetingRoomId||"",title:O.title});window.location.href=`/meet?${$.toString()}`}catch(P){console.error("Error starting meeting:",P);const I=P?.response?.data?.message||P?.message||"Failed to start meeting";m(I),ae.error(I)}finally{h(!1)}}},j=async()=>{if(v)return;const P=g.trim();if(!P){const I="Please enter a meeting room ID.";C(I),ae.error(I);return}C(null),b(!0);try{const I=await qp.joinMeeting(P);ae.success(`Joining "${I.title}"`);const O=new URLSearchParams({room:I.meetingRoomId||P,title:I.title});y(""),window.location.href=`/meet?${O.toString()}`}catch(I){console.error("Error joining meeting:",I);const O=I?.response?.data?.message||I?.message||"Failed to join meeting";C(O),ae.error(O)}finally{b(!1)}};return l.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{className:"text-2xl font-semibold",children:"Meetings"})}),l.jsxs("div",{className:"bg-white dark:bg-card rounded-xl shadow-sm p-6 space-y-4 border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fm,{className:"w-5 h-5"}),l.jsx("h2",{className:"text-lg font-medium",children:"Start a meeting"})]}),f&&l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:[l.jsx(Y2,{className:"w-4 h-4"}),l.jsx("span",{children:f})]}),l.jsxs("div",{className:"grid gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ct,{htmlFor:"title",children:"Meeting Title"}),l.jsx(Ye,{id:"title",value:t,onChange:P=>e(P.target.value),placeholder:"Enter meeting title",disabled:u})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ct,{htmlFor:"participants",children:"Participants"}),l.jsxs("div",{className:"relative",children:[l.jsx(de,{type:"button",variant:"outline",onClick:()=>c(!i),className:"w-full justify-start",disabled:u,children:"Add Participants"}),i&&l.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-card border border-border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:s.map(P=>l.jsx("button",{onClick:()=>_(P),disabled:n.some(I=>I._id===P._id),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white text-sm",children:[P.firstName[0],P.lastName[0]]}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:[P.firstName," ",P.lastName]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:P.email})]})]})},P._id))})]}),n.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.map(P=>l.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 px-3 py-1 rounded-lg",children:[l.jsxs("span",{className:"text-sm",children:[P.firstName," ",P.lastName]}),l.jsx("button",{onClick:()=>T(P._id),disabled:u,className:"hover:text-red-500",children:l.jsx(yr,{className:"w-3 h-3"})})]},P._id))}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Select participants to receive meeting invitations via email"})]}),l.jsx(de,{onClick:N,disabled:u,className:"rounded-xl w-full",children:u?"Starting Meeting...":"Start Meeting"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-card rounded-xl shadow-sm p-6 space-y-4 border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(N8,{className:"w-5 h-5"}),l.jsx("h2",{className:"text-lg font-medium",children:"Join a meeting"})]}),k&&l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:[l.jsx(Y2,{className:"w-4 h-4"}),l.jsx("span",{children:k})]}),l.jsxs("div",{className:"grid gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ct,{htmlFor:"roomId",children:"Meeting Room ID"}),l.jsx(Ye,{id:"roomId",value:g,onChange:P=>{k&&C(null),y(P.target.value)},placeholder:"Enter room ID",disabled:v})]}),l.jsx(de,{onClick:j,disabled:v,className:"rounded-xl w-full",children:v?"Joining...":"Join Meeting"})]})]})]})}class pre{socket=null;isConnected=!1;currentRoomId=null;callbacks={};getToken(){return localStorage.getItem(gn)}connect(){const e=this.getToken();if(!e){console.error(" MeetingService: No authentication token found");return}if(this.socket&&this.isConnected)return;this.socket&&(this.socket.disconnect(),this.socket=null);const s=`${jt.replace("/api","").replace("http","ws")}/ws/meetings`;this.socket=Al(s,{auth:{token:e},query:{token:e},transports:["websocket","polling"],reconnection:!0,reconnectionDelay:2e3,reconnectionAttempts:5,timeout:3e4,forceNew:!0}),this.setupEventHandlers()}setupEventHandlers(){this.socket&&(this.socket.on("connect",()=>{this.isConnected=!0,this.callbacks.onConnected?.(),this.currentRoomId&&this.joinMeeting(this.currentRoomId)}),this.socket.on("disconnect",e=>{this.isConnected=!1,this.callbacks.onDisconnected?.(e)}),this.socket.on("connect_error",e=>{console.error(" MeetingService: Connection error:",e),this.callbacks.onError?.(e)}),this.socket.on("error",e=>{console.error(" MeetingService error event:",e),this.callbacks.onError?.(e)}),this.socket.on("meeting_state",e=>{this.callbacks.onMeetingState?.(e)}),this.socket.on("participant_joined",e=>{this.callbacks.onParticipantJoined?.(e)}),this.socket.on("participant_left",e=>{this.callbacks.onParticipantLeft?.(e)}),this.socket.on("meeting_message",e=>{this.callbacks.onMeetingMessage?.(e)}))}disconnect(){this.socket&&(this.currentRoomId&&this.leaveMeeting(this.currentRoomId),this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.currentRoomId=null)}joinMeeting(e){e&&((!this.socket||!this.isConnected)&&this.connect(),this.currentRoomId=e,!(!this.socket||!this.isConnected)&&this.socket.emit("join_meeting",{meetingRoomId:e}))}leaveMeeting(e){!this.socket||!this.isConnected||(this.currentRoomId===e&&(this.currentRoomId=null),this.socket.emit("leave_meeting",{meetingRoomId:e}))}sendMessage(e,n){if(!this.socket||!this.isConnected){console.warn(" MeetingService: Not connected, cannot send message");return}this.socket.emit("send_message",{meetingRoomId:e,content:n})}on(e){this.callbacks={...this.callbacks,...e}}off(){this.callbacks={}}get connected(){return this.isConnected}}const Gi=new pre,BE=(t,e,n)=>{const s=(`${t||""} ${e||""}`.trim()||n||"").split(" ").filter(Boolean);return s.length===0?(n||"??").slice(0,2).toUpperCase():s.length===1?s[0].slice(0,2).toUpperCase():`${s[0][0]}${s[s.length-1][0]}`.toUpperCase()},mre=t=>{try{return new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};function gre(){const[t]=_3(),e=Wr(),n=t.get("room")||"",r=t.get("title"),[s,o]=w.useState(null),[i,c]=w.useState(null),[u,h]=w.useState([]),[f,m]=w.useState([]),[g,y]=w.useState(""),[v,b]=w.useState(!1),[k,C]=w.useState("participants"),[_,T]=w.useState(!1),[N,j]=w.useState({}),[P,I]=w.useState(!1),[O,L]=w.useState(!1),[$,V]=w.useState(!1),Q=w.useRef(null),K=w.useRef(null),se=w.useRef(null),ne=w.useRef(new Set),W=s?.title||r||"Meeting",U=i?._id||"";w.useEffect(()=>{(async()=>{try{const J=localStorage.getItem("access_token");if(!J)return;const ve=J.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),ue=decodeURIComponent(atob(ve).split("").map(fe=>"%"+("00"+fe.charCodeAt(0).toString(16)).slice(-2)).join("")),ge=JSON.parse(ue),he=ge.id||ge._id||ge.userId;if(!he)return;const xe=await va(he);c({_id:xe._id||he,firstName:xe.firstName,lastName:xe.lastName,email:xe.email}),j(fe=>({...fe,[xe._id||he]:{firstName:xe.firstName,lastName:xe.lastName,email:xe.email}}))}catch(J){console.error("Failed to load current user:",J)}})()},[]),w.useEffect(()=>{const F=he=>he.map(xe=>({...xe,isYou:xe._id===U})),J=he=>{he.length&&j(xe=>{let fe=!1;const ye={...xe};for(const Te of he){if(!Te?._id)continue;const Le=ye[Te._id]||{},et={firstName:Te.firstName??Le.firstName,lastName:Te.lastName??Le.lastName,email:Te.email??Le.email};(et.firstName!==Le.firstName||et.lastName!==Le.lastName||et.email!==Le.email)&&(ye[Te._id]=et,fe=!0)}return fe?ye:xe})},me=he=>{o(xe=>xe?{...xe,...he.meeting}:he.meeting),h(F(he.participants)),m(he.messages),J(he.participants)},ve=he=>{h(xe=>{const fe=[...xe],ye=fe.findIndex(Le=>Le._id===he.participant._id),Te={...he.participant,isYou:he.participant._id===U};return ye>=0?fe[ye]=Te:fe.push(Te),fe}),J([he.participant])},ue=he=>{h(xe=>xe.map(fe=>fe._id===he.participantId?{...fe,isConnected:!1}:fe))},ge=he=>{m(xe=>[...xe,he]),he?.userId&&he.user&&J([{_id:he.userId,firstName:he.user.firstName,lastName:he.user.lastName,email:he.user.email,isConnected:!0}])};return Gi.on({onMeetingState:me,onParticipantJoined:ve,onParticipantLeft:ue,onMeetingMessage:ge,onConnected:()=>T(!1),onDisconnected:()=>T(!0),onError:he=>{he?.message&&ae.error(he.message)}}),()=>{Gi.off()}},[U]),w.useEffect(()=>((async()=>{try{const J=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});K.current=J,Q.current&&(Q.current.srcObject=J)}catch(J){console.error("Error accessing media devices:",J),ae.error("Unable to access camera or microphone.")}})(),()=>{K.current&&K.current.getTracks().forEach(J=>J.stop()),se.current&&se.current.getTracks().forEach(J=>J.stop())}),[]),w.useEffect(()=>{if(!n){ae.error("Missing meeting room identifier."),e("/meetings");return}let F=!0;return(async()=>{T(!0);try{const me=await qp.getMeetingByRoom(n);if(!F)return;o(me),j(ve=>{if(!me?.participants?.length)return ve;let ue=!1;const ge={...ve};for(const he of me.participants){if(!he?._id)continue;const xe=ge[he._id]||{},fe={firstName:he.firstName??xe.firstName,lastName:he.lastName??xe.lastName,email:he.email??xe.email};(fe.firstName!==xe.firstName||fe.lastName!==xe.lastName||fe.email!==xe.email)&&(ge[he._id]=fe,ue=!0)}return ue?ge:ve});try{await qp.joinMeeting(n)}catch(ve){const ue=ve?.response?.status;ue&&ue!==400&&ue!==409&&console.error("Join meeting via REST failed:",ve)}}catch(me){console.error("Failed to load meeting:",me);const ve=me?.response?.data?.message||me?.message||"Unable to load meeting";ae.error(ve),e("/meetings");return}Gi.connect(),Gi.joinMeeting(n)})(),()=>{F=!1,Gi.leaveMeeting(n)}},[e,n]),w.useEffect(()=>{U&&h(F=>F.map(J=>({...J,isYou:J._id===U})))},[U]),w.useEffect(()=>{const F=u.filter(me=>!me?._id||me.firstName||me.lastName||me.email||N[me._id]?!1:!ne.current.has(me._id));if(!F.length)return;F.forEach(me=>{ne.current.add(me._id)});let J=!0;return(async()=>{const me=await Promise.all(F.map(async ve=>{try{const ue=await va(ve._id);return{id:ve._id,info:{firstName:ue.firstName,lastName:ue.lastName,email:ue.email}}}catch(ue){return console.error(`Failed to fetch participant ${ve._id}`,ue),ne.current.delete(ve._id),null}}));J&&j(ve=>{let ue=!1;const ge={...ve};for(const he of me){if(!he?.id||!he.info)continue;const xe=ge[he.id]||{},fe={firstName:he.info.firstName??xe.firstName,lastName:he.info.lastName??xe.lastName,email:he.info.email??xe.email};(fe.firstName!==xe.firstName||fe.lastName!==xe.lastName||fe.email!==xe.email)&&(ge[he.id]=fe,ue=!0)}return ue?ge:ve})})(),()=>{J=!1}},[u,N]);const R=()=>{K.current&&K.current.getAudioTracks().forEach(F=>{F.enabled=P}),I(F=>!F)},D=()=>{K.current&&K.current.getVideoTracks().forEach(F=>{F.enabled=O}),L(F=>!F)},Z=async()=>{if($){se.current&&(se.current.getTracks().forEach(F=>F.stop()),se.current=null),K.current&&Q.current&&(Q.current.srcObject=K.current),V(!1);return}try{const F=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});se.current=F,Q.current&&(Q.current.srcObject=F);const[J]=F.getVideoTracks();J&&J.addEventListener("ended",()=>{Z()}),V(!0)}catch(F){console.error("Error sharing screen:",F),ae.error("Failed to start screen sharing.")}},M=()=>{Gi.leaveMeeting(n),K.current&&K.current.getTracks().forEach(F=>F.stop()),se.current&&se.current.getTracks().forEach(F=>F.stop()),e("/meetings")},B=async()=>{const F=window.location.href;try{await navigator.clipboard.writeText(F),ae.success("Meeting link copied to clipboard!")}catch{ae.error("Failed to copy link. Please copy manually from the address bar.")}},q=()=>{g.trim()&&(Gi.sendMessage(n,g.trim()),y(""))},ee=w.useMemo(()=>u.filter(F=>F.isConnected),[u]),ie=F=>{if(v&&k===F){b(!1);return}b(!0),C(F)},ce=F=>{const J=N[F._id]||{};return{...F,firstName:F.firstName??J.firstName,lastName:F.lastName??J.lastName,email:F.email??J.email}},X=F=>{const J=ce(F);return J.firstName||J.lastName?`${J.firstName||""} ${J.lastName||""}`.trim():J.email||"Participant"},H=F=>{if(F.user?.firstName||F.user?.lastName)return`${F.user?.firstName||""} ${F.user?.lastName||""}`.trim();if(F.user?.email)return F.user.email;const J=N[F.userId];return J?.firstName||J?.lastName?`${J.firstName||""} ${J.lastName||""}`.trim():J?.email||"Participant"};return l.jsxs("div",{className:"h-screen w-screen flex flex-col bg-gray-900 dark:bg-gray-950 overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 dark:bg-gray-900 border-b border-gray-700 dark:border-gray-800 flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx("h1",{className:"text-white text-lg font-semibold truncate",children:W}),l.jsxs("span",{className:"text-gray-400 text-sm whitespace-nowrap flex-shrink-0",children:[" Room ID: ",n]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[_&&l.jsx("span",{className:"text-xs text-amber-300",children:"Reconnecting"}),l.jsxs(de,{onClick:B,variant:"outline",size:"sm",className:"text-white border-gray-600 flex-shrink-0",children:[l.jsx(mT,{className:"w-4 h-4 mr-2"}),"Copy Link"]})]})]}),l.jsxs("div",{className:"flex-1 flex gap-4 p-4 min-h-0 overflow-hidden",children:[l.jsxs("div",{className:"flex-1 relative bg-black rounded-lg overflow-hidden min-w-0",children:[l.jsx("video",{ref:Q,autoPlay:!0,muted:P,playsInline:!0,className:"w-full h-full object-cover"}),O&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/70",children:l.jsx("div",{className:"w-32 h-32 bg-gray-800 rounded-full flex items-center justify-center",children:l.jsx(yi,{className:"w-16 h-16 text-gray-600"})})}),l.jsxs("div",{className:"absolute top-4 left-4 right-4 flex flex-wrap gap-2 pointer-events-none",children:[u.map(F=>{const J=ce(F),me=X(F);return l.jsxs("div",{className:"pointer-events-auto flex items-center gap-2 bg-gray-800/80 backdrop-blur rounded-full px-3 py-1",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-xs font-semibold text-white",children:BE(J.firstName,J.lastName,J.email)}),l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"text-xs font-medium text-white leading-tight",children:[me,F.isYou?" (You)":""]}),l.jsx("span",{className:`text-[10px] ${F.isConnected?"text-emerald-400":"text-gray-400"}`,children:F.isConnected?"Online":"Offline"})]})]},F._id)}),u.length===0&&l.jsx("span",{className:"text-xs text-gray-300 bg-gray-800/70 px-3 py-1 rounded-full",children:"Waiting for participants..."})]})]}),v&&l.jsxs("div",{className:"w-80 bg-gray-800 rounded-lg flex flex-col flex-shrink-0 min-h-0 border border-gray-700/60",children:[l.jsxs("div",{className:"flex items-center border-b border-gray-700",children:[l.jsxs("button",{className:`flex-1 py-3 text-sm font-medium ${k==="participants"?"text-white border-b-2 border-white":"text-gray-400"}`,onClick:()=>C("participants"),children:["Participants (",u.length,")"]}),l.jsxs("button",{className:`flex-1 py-3 text-sm font-medium ${k==="chat"?"text-white border-b-2 border-white":"text-gray-400"}`,onClick:()=>C("chat"),children:["Chat (",f.length,")"]})]}),k==="participants"?l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[u.length===0&&l.jsx("p",{className:"text-sm text-gray-400",children:"No participants yet."}),u.map(F=>{const J=ce(F),me=X(F);return l.jsxs("div",{className:"flex items-center gap-3 bg-gray-700/40 rounded-lg p-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-sm font-semibold text-white",children:BE(J.firstName,J.lastName,J.email)}),l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:"text-white text-sm font-medium",children:[me,F.isYou?" (You)":""]})}),l.jsx("span",{className:`text-xs ${F.isConnected?"text-emerald-400":"text-gray-400"}`,children:F.isConnected?"Online":"Offline"})]})]},F._id)})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0",children:[f.length===0&&l.jsx("p",{className:"text-sm text-gray-400",children:"No messages yet. Say hello!"}),f.map(F=>l.jsxs("div",{className:"text-white",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsxs("span",{className:"font-semibold text-blue-400",children:[H(F),F.userId===U?" (You)":""]}),l.jsx("span",{className:"text-xs text-gray-400",children:mre(F.createdAt)})]}),l.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap break-words",children:F.content})]},F.id))]}),l.jsx("div",{className:"p-4 border-t border-gray-700 flex-shrink-0",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ye,{value:g,onChange:F=>y(F.target.value),onKeyDown:F=>{F.key==="Enter"&&(F.preventDefault(),q())},placeholder:"Type a message...",className:"bg-gray-700 border-gray-600 text-white"}),l.jsx(de,{onClick:q,size:"sm",disabled:!g.trim(),children:"Send"})]})})]})]})]}),l.jsx("div",{className:"bg-gray-800 border-t border-gray-700 p-4 flex-shrink-0",children:l.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(de,{onClick:R,variant:P?"destructive":"default",size:"sm",children:P?l.jsx(I8,{className:"w-5 h-5"}):l.jsx(F0,{className:"w-5 h-5"})}),l.jsx(de,{onClick:D,variant:O?"destructive":"default",size:"sm",children:O?l.jsx(y$,{className:"w-5 h-5"}):l.jsx(fm,{className:"w-5 h-5"})}),l.jsxs(de,{onClick:()=>ie("participants"),variant:v&&k==="participants"?"default":"outline",size:"sm",children:[l.jsx(yi,{className:"w-5 h-5"}),ee.length>0&&l.jsx("span",{className:"ml-2 text-xs",children:ee.length})]}),l.jsx(de,{onClick:()=>ie("chat"),variant:v&&k==="chat"?"default":"outline",size:"sm",children:l.jsx(ga,{className:"w-5 h-5"})}),l.jsx(de,{onClick:Z,variant:$?"default":"outline",size:"sm",title:$?"Stop sharing screen":"Share screen",children:l.jsx(B8,{className:"w-5 h-5"})})]}),l.jsxs(de,{onClick:M,variant:"destructive",size:"sm",children:[l.jsx(H8,{className:"w-5 h-5 mr-2"}),"Leave"]})]})})]})}var fg="Switch",[xre]=rr(fg),[vre,yre]=xre(fg),l4=w.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:c,value:u="on",onCheckedChange:h,form:f,...m}=t,[g,y]=w.useState(null),v=Ge(e,T=>y(T)),b=w.useRef(!1),k=g?f||!!g.closest("form"):!0,[C,_]=xo({prop:s,defaultProp:o??!1,onChange:h,caller:fg});return l.jsxs(vre,{scope:n,checked:C,disabled:c,children:[l.jsx(De.button,{type:"button",role:"switch","aria-checked":C,"aria-required":i,"data-state":h4(C),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:v,onClick:Ee(t.onClick,T=>{_(N=>!N),k&&(b.current=T.isPropagationStopped(),b.current||T.stopPropagation())})}),k&&l.jsx(u4,{control:g,bubbles:!b.current,name:r,value:u,checked:C,required:i,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});l4.displayName=fg;var c4="SwitchThumb",d4=w.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=yre(c4,n);return l.jsx(De.span,{"data-state":h4(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});d4.displayName=c4;var bre="SwitchBubbleInput",u4=w.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},o)=>{const i=w.useRef(null),c=Ge(i,o),u=ub(n),h=K0(e);return w.useEffect(()=>{const f=i.current;if(!f)return;const m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&y){const v=new Event("click",{bubbles:r});y.call(f,n),f.dispatchEvent(v)}},[u,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});u4.displayName=bre;function h4(t){return t?"checked":"unchecked"}var wre=l4,kre=d4;function Sre({className:t,...e}){return l.jsx(wre,{"data-slot":"switch",className:ze("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(kre,{"data-slot":"switch-thumb",className:ze("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function FE(){const{theme:t,toggleTheme:e}=sc(),[n,r]=w.useState(null),[s,o]=w.useState(null),[i,c]=w.useState(!0),[u,h]=w.useState(null),[f,m]=w.useState([]),[g,y]=w.useState(!1),[v,b]=w.useState([]),[k,C]=w.useState(!1),[_,T]=w.useState(!1),N=w.useRef(null),j=Wr(),[P,I]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""});w.useEffect(()=>{L(),$(),O()},[]);const O=async()=>{try{C(!0);const U=await Vt.getSharedUsers();b(U||[])}catch(U){console.error("Error loading team members:",U)}finally{C(!1)}},L=async()=>{try{const U=localStorage.getItem("access_token");if(!U){j("/login");return}const D=U.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),Z=decodeURIComponent(atob(D).split("").map(ee=>"%"+("00"+ee.charCodeAt(0).toString(16)).slice(-2)).join("")),M=JSON.parse(Z),B=M.id||M._id||M.userId,q=await va(B);r(q),o({...q})}catch(U){console.error("Error loading user:",U),ae.error("Failed to load profile")}finally{c(!1)}},$=async()=>{try{y(!0);const U=new Date,R=new Date;R.setDate(R.getDate()-30);const[D,Z,M]=await Promise.all([ts.getDailySessions(R.toISOString().split("T")[0],U.toISOString().split("T")[0]),ts.getStats("weekly"),ts.getRecentSessions(100)]);if(D.dailyStats.length===0&&M.length>0){const B={};M.filter(ee=>ee.type==="work"&&ee.endTime).forEach(ee=>{const ie=new Date(ee.startTime).toISOString().split("T")[0];B[ie]||(B[ie]=[]),B[ie].push(ee)});const q=Object.entries(B).map(([ee,ie])=>{const ce=ie.reduce((H,F)=>H+(F.duration||0),0),X=ie.length>0?ce/ie.length:0;return{date:ee,sessionCount:ie.length,totalMinutes:ce,averageMinutes:Math.round(X*10)/10,sessions:ie.map(H=>({id:H._id,duration:H.duration,startTime:H.startTime,endTime:H.endTime}))}}).sort((ee,ie)=>new Date(ie.date).getTime()-new Date(ee.date).getTime());m(q)}else m(D.dailyStats);h(Z)}catch(U){console.error("Error loading Pomodoro data:",U)}finally{y(!1)}},V=async()=>{if(n)try{const D=localStorage.getItem("access_token").split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),Z=decodeURIComponent(atob(D).split("").map(q=>"%"+("00"+q.charCodeAt(0).toString(16)).slice(-2)).join("")),M=JSON.parse(Z),B=M.id||M._id||M.userId;await Nv(B,n),ae.success("Profile updated successfully!"),o({...n}),window.dispatchEvent(new CustomEvent("userProfileUpdated"))}catch{ae.error("Failed to update profile")}},Q=async U=>{const R=U.target.files?.[0];if(R){if(!R.type.match(/^image\/(jpg|jpeg|png|gif|webp)$/)){ae.error("Please select a valid image file (JPG, PNG, GIF, or WEBP)");return}if(R.size>5*1024*1024){ae.error("Image size must be less than 5MB");return}try{T(!0);const D=await wA.uploadImage(R);if(D.success===1&&D.file?.url){const Z=jt.replace("/api",""),M=D.file.url.startsWith("http")?D.file.url:`${Z}${D.file.url}`,ee=localStorage.getItem("access_token").split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),ie=decodeURIComponent(atob(ee).split("").map(H=>"%"+("00"+H.charCodeAt(0).toString(16)).slice(-2)).join("")),ce=JSON.parse(ie),X=ce.id||ce._id||ce.userId;await Nv(X,{avatar:M,picture:M}),n&&(r({...n,avatar:M,picture:M}),o({...n,avatar:M,picture:M})),ae.success("Avatar updated successfully!"),window.dispatchEvent(new CustomEvent("userProfileUpdated"))}else throw new Error(D.message||"Upload failed")}catch(D){console.error("Error uploading avatar:",D),ae.error(D?.message||"Failed to upload avatar")}finally{T(!1),N.current&&(N.current.value="")}}},K=()=>{N.current?.click()},se=async()=>{if(!P.currentPassword||!P.newPassword||!P.confirmPassword){ae.error("Please fill in all password fields");return}if(P.newPassword!==P.confirmPassword){ae.error("New passwords do not match");return}if(P.newPassword.length<8){ae.error("Password must be at least 8 characters long");return}try{const D=localStorage.getItem("access_token").split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),Z=decodeURIComponent(atob(D).split("").map(q=>"%"+("00"+q.charCodeAt(0).toString(16)).slice(-2)).join("")),M=JSON.parse(Z),B=M.id||M._id||M.userId;await Nv(B,{currentPassword:P.currentPassword,password:P.newPassword}),ae.success("Password updated successfully!"),I({currentPassword:"",newPassword:"",confirmPassword:""})}catch(U){const R=U?.response?.data?.message||U?.message||"Failed to update password. Please check your current password.";ae.error(R)}};if(i)return l.jsx("div",{className:"max-w-5xl mx-auto space-y-6 flex items-center justify-center min-h-[400px]",children:l.jsx(Ar,{className:"w-8 h-8 animate-spin text-primary"})});if(!n)return l.jsx("div",{className:"max-w-5xl mx-auto space-y-6",children:l.jsx(Ne,{className:"p-8 rounded-xl",children:l.jsx("p",{className:"text-center text-muted-foreground",children:"User not found"})})});const ne=`${n.firstName} ${n.lastName}`,W=ya(n.firstName,n.lastName);return l.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[l.jsx(Ne,{className:"p-8 rounded-xl",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-4 md:space-y-0 md:space-x-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"file",ref:N,onChange:Q,accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",className:"hidden"}),l.jsxs("div",{className:"relative group",children:[l.jsxs(Zt,{className:"w-24 h-24 cursor-pointer",onClick:K,children:[l.jsx(Fd,{src:(()=>{const U=n.avatar||n.picture;if(U)return U.startsWith("http")?U:`${jt.replace("/api","")}${U}`})(),alt:ne}),l.jsx(Wt,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-[32px]",children:W})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:K,children:_?l.jsx(Ar,{className:"w-6 h-6 animate-spin text-white"}):l.jsx(q2,{className:"w-6 h-6 text-white"})})]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-[28px] mb-2",children:ne}),l.jsx("p",{className:"text-muted-foreground mb-4",children:n.email}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-[14px] text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(gT,{className:"w-4 h-4 mr-2"}),n.email]}),l.jsx("div",{className:"flex items-center",children:l.jsx(bt,{variant:"secondary",children:"Active"})})]})]})]})}),l.jsxs(Nm,{defaultValue:"profile",className:"space-y-6",children:[l.jsxs(jm,{className:"rounded-xl bg-muted/50 p-1 w-full md:w-auto",children:[l.jsx(mr,{value:"profile",className:"rounded-lg data-[state=active]:bg-background data-[state=active]:shadow-sm",children:"Profile"}),l.jsx(mr,{value:"pomodoro",className:"rounded-lg data-[state=active]:bg-background data-[state=active]:shadow-sm",children:"Pomodoro History"}),l.jsx(mr,{value:"workspace",className:"rounded-lg data-[state=active]:bg-background data-[state=active]:shadow-sm",children:"Workspace"})]}),l.jsxs(Ns,{value:"profile",className:"space-y-6",children:[l.jsxs(Ne,{className:"p-6 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(q2,{className:"w-6 h-6 text-blue-600"}),l.jsx("h2",{className:"text-[20px] font-semibold",children:"Profile Information"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"firstName",children:"First Name"}),l.jsx(Ye,{id:"firstName",value:n.firstName,onChange:U=>r({...n,firstName:U.target.value}),className:"mt-1.5 rounded-xl"})]}),l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"lastName",children:"Last Name"}),l.jsx(Ye,{id:"lastName",value:n.lastName,onChange:U=>r({...n,lastName:U.target.value}),className:"mt-1.5 rounded-xl"})]})]}),l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"email",children:"Email"}),l.jsx(Ye,{id:"email",type:"email",value:n.email,onChange:U=>r({...n,email:U.target.value}),className:"mt-1.5 rounded-xl"})]}),l.jsx("div",{className:"flex gap-2 pt-2",children:l.jsxs(de,{onClick:V,className:"rounded-xl",children:[l.jsx(Cy,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]}),l.jsxs(Ne,{className:"p-6 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(Q2,{className:"w-6 h-6 text-blue-600"}),l.jsx("h2",{className:"text-[20px] font-semibold",children:"Change Password"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"currentPassword",children:"Current Password"}),l.jsx(Ye,{id:"currentPassword",type:"password",value:P.currentPassword,onChange:U=>I({...P,currentPassword:U.target.value}),className:"mt-1.5 rounded-xl"})]}),l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"newPassword",children:"New Password"}),l.jsx(Ye,{id:"newPassword",type:"password",value:P.newPassword,onChange:U=>I({...P,newPassword:U.target.value}),className:"mt-1.5 rounded-xl"})]}),l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"confirmNewPassword",children:"Confirm New Password"}),l.jsx(Ye,{id:"confirmNewPassword",type:"password",value:P.confirmPassword,onChange:U=>I({...P,confirmPassword:U.target.value}),className:"mt-1.5 rounded-xl"})]}),l.jsxs(de,{onClick:se,className:"rounded-xl",children:[l.jsx(Q2,{className:"w-4 h-4 mr-2"}),"Update Password"]})]})]})]}),l.jsx(Ns,{value:"pomodoro",className:"space-y-6",children:l.jsxs(Ne,{className:"p-6 rounded-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center",children:l.jsx(Cd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-[20px] font-semibold",children:"Pomodoro History"}),l.jsx("p",{className:"text-[14px] text-muted-foreground",children:"Your productivity tracking"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[g&&l.jsx(Ar,{className:"w-4 h-4 animate-spin text-muted-foreground"}),l.jsxs(de,{variant:"outline",size:"sm",onClick:()=>{localStorage.setItem("pomodoro_timer_visible","true"),window.dispatchEvent(new Event("showPomodoroTimer"))},className:"rounded-xl",children:[l.jsx(Cd,{className:"w-4 h-4 mr-2"}),"Open Timer"]})]})]}),g?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(Ar,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):u&&f.length>0?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"p-4 rounded-lg bg-muted/50",children:[l.jsx("p",{className:"text-[12px] text-muted-foreground mb-1",children:"Total Sessions"}),l.jsx("p",{className:"text-[24px] font-bold",children:u.totalSessions})]}),l.jsxs("div",{className:"p-4 rounded-lg bg-muted/50",children:[l.jsx("p",{className:"text-[12px] text-muted-foreground mb-1",children:"Completed"}),l.jsx("p",{className:"text-[24px] font-bold",children:u.completedSessions})]}),l.jsxs("div",{className:"p-4 rounded-lg bg-muted/50",children:[l.jsx("p",{className:"text-[12px] text-muted-foreground mb-1",children:"Total Work Time"}),l.jsx("p",{className:"text-[24px] font-bold",children:u.totalWorkTime}),l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"minutes"})]}),l.jsxs("div",{className:"p-4 rounded-lg bg-muted/50",children:[l.jsx("p",{className:"text-[12px] text-muted-foreground mb-1",children:"Avg Session"}),l.jsx("p",{className:"text-[24px] font-bold",children:u.averageSessionLength.toFixed(1)}),l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"minutes"})]})]}),(()=>{const U=new Date().toISOString().split("T")[0],R=f.find(Z=>Z.date===U),D=R?.sessionCount||0;return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-[14px] font-medium",children:"Today's Sessions"}),l.jsxs("span",{className:"text-[12px] text-muted-foreground",children:[D," ",D===1?"session":"sessions"]})]}),l.jsx("div",{className:"flex gap-1",children:Array.from({length:8}).map((Z,M)=>l.jsx("div",{className:`h-10 flex-1 rounded transition-colors ${M<D?"bg-blue-600 dark:bg-blue-500":"bg-muted"}`,title:M<D?`Session ${M+1}`:"Not completed"},M))}),R&&l.jsxs("div",{className:"flex items-center justify-between text-[12px] text-muted-foreground",children:[l.jsxs("span",{children:[R.totalMinutes," minutes today"]}),l.jsxs("span",{children:["Avg: ",R.averageMinutes.toFixed(1)," min/session"]})]})]})})(),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-[14px] font-medium",children:"Last 14 Days"}),l.jsxs("span",{className:"text-[12px] text-muted-foreground",children:[f.slice(0,14).reduce((U,R)=>U+R.sessionCount,0)," total sessions"]})]}),l.jsxs("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:[f.slice(0,14).map(U=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[l.jsx("div",{className:"text-[12px] font-medium min-w-[100px]",children:new Date(U.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),l.jsxs("div",{className:"flex gap-1 flex-1 max-w-[200px]",children:[Array.from({length:Math.min(U.sessionCount,8)}).map((R,D)=>l.jsx("div",{className:"h-6 w-6 rounded bg-blue-600 dark:bg-blue-500",title:`Session ${D+1}`},D)),U.sessionCount>8&&l.jsxs("div",{className:"h-6 px-2 rounded bg-blue-400 dark:bg-blue-600 flex items-center justify-center text-[10px] text-white font-medium",children:["+",U.sessionCount-8]}),U.sessionCount===0&&l.jsx("span",{className:"text-[12px] text-muted-foreground italic",children:"No sessions"})]})]}),l.jsxs("div",{className:"flex items-center gap-4 text-[12px]",children:[l.jsxs("span",{className:"text-muted-foreground min-w-[60px] text-right",children:[U.totalMinutes," min"]}),l.jsxs("span",{className:"font-medium min-w-[70px] text-right",children:["Avg: ",U.averageMinutes.toFixed(1)," min"]})]})]},U.date)),f.length===0&&l.jsx("p",{className:"text-center text-[14px] text-muted-foreground py-4",children:"No Pomodoro sessions yet. Start your first session to see your history here!"})]})]}),u&&l.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Rd,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),l.jsx("p",{className:"text-[14px] font-semibold",children:"Weekly Summary"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[12px] text-muted-foreground",children:"Productivity Score"}),l.jsxs("p",{className:"text-[20px] font-bold",children:[u.productivityScore,"/100"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[12px] text-muted-foreground",children:"Avg Work Time/Day"}),l.jsxs("p",{className:"text-[20px] font-bold",children:[f.length>0?(f.reduce((U,R)=>U+R.totalMinutes,0)/Math.min(f.length,7)).toFixed(0):"0"," ","min"]})]})]})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Cd,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),l.jsx("p",{className:"text-[14px] text-muted-foreground",children:"No Pomodoro sessions yet"}),l.jsx("p",{className:"text-[12px] text-muted-foreground mt-1",children:"Start using the Pomodoro Timer to track your productivity"})]})]})}),l.jsxs(Ns,{value:"workspace",className:"space-y-6",children:[l.jsxs(Ne,{className:"p-6 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(hu,{className:"w-6 h-6 text-blue-600"}),l.jsx("h2",{className:"text-[20px] font-semibold",children:"Appearance"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Dark Mode"}),l.jsx("p",{className:"text-[14px] text-muted-foreground",children:"Toggle dark mode theme"})]}),l.jsx(Sre,{checked:t==="dark",onCheckedChange:e})]})]}),l.jsxs(Ne,{className:"p-6 rounded-xl",children:[l.jsx("h2",{className:"text-[20px] font-semibold mb-6",children:"Team Members"}),k?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(Ar,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):v.length>0?l.jsx("div",{className:"space-y-3 mb-4",children:v.map(U=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-50 dark:bg-gray-800",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Zt,{className:"w-10 h-10",children:l.jsx(Wt,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:ya(U.firstName,U.lastName)})}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium",children:[U.firstName," ",U.lastName]}),l.jsx("p",{className:"text-[14px] text-muted-foreground",children:U.email})]})]}),l.jsx(bt,{variant:"secondary",children:"Collaborator"})]},U._id))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(yi,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),l.jsx("p",{className:"text-[14px] text-muted-foreground",children:"No team members yet"}),l.jsx("p",{className:"text-[12px] text-muted-foreground mt-1",children:"Share folders with others to build your team"})]})]})]})]})]})}const Cre=async t=>{try{const e=await $e.get("/analytics/team");let n=0;try{n=(await $e.get("/folder/shared/count")).data.length||0}catch(y){console.warn("Could not fetch shared folders count",y)}let r=0;try{r=(await $e.get("/users")).data.length||0}catch(y){console.warn("Could not fetch users count",y)}let s=[];try{let v=(await $e.get("/document")).data||[];if(t){const b=await $e.get("/folder"),C=(Array.isArray(b.data)?b.data.filter(_=>_.user===t||_.sharedWith&&_.sharedWith.includes(t)):[]).map(_=>_._id);s=v.filter(_=>C.includes(_.folderId))}else s=v}catch(y){console.warn("Could not fetch documents",y)}const i=(await $e.get("/analytics/versions")).data||{},c=e.data||{},u=s.length,h=new Date;h.setHours(0,0,0,0);const f=s.filter(y=>new Date(y.createdDate||y.createdAt)>=h).length,m=s.filter(y=>new Date(y.updatedDate||y.updatedAt)>=h).length,g=s.filter(y=>y.sharedWith&&y.sharedWith.length>0).length;return{activeEditors:c.activeEditors||0,totalComments:i.totalComments||c.totalComments||0,totalCoEdits:c.totalCoEdits||0,averageSessionDuration:c.averageSessionDuration||0,mostActiveUsers:c.mostActiveUsers||[],totalDocuments:u,sharedFolders:n,totalUsers:r,documentsCreatedToday:f,documentsEditedToday:m,activeCollaborations:g,totalVersions:i.totalVersions||0,versionsCreatedToday:i.versionsCreatedToday||0,versionsCreatedThisWeek:i.versionsCreatedThisWeek||0,mostActiveEditors:i.mostActiveEditors||[],versionTrends:i.versionTrends||[],commentsCreatedToday:i.commentsCreatedToday||0}}catch(e){return console.error("Error fetching real analytics:",e),e.code==="ERR_NETWORK"||e.message==="Network Error"?(console.warn("Backend server may not be running. Using sample data for demo."),{activeEditors:2,totalComments:5,totalCoEdits:3,averageSessionDuration:1.5,mostActiveUsers:[{userId:"1",userName:"John Doe",hoursActive:2.5},{userId:"2",userName:"Jane Smith",hoursActive:1.8}],totalDocuments:8,sharedFolders:3,totalUsers:4,documentsCreatedToday:2,documentsEditedToday:4,activeCollaborations:3,totalVersions:12,versionsCreatedToday:3,versionsCreatedThisWeek:8,mostActiveEditors:[{userId:"1",userName:"John Doe",versionsCreated:5},{userId:"2",userName:"Jane Smith",versionsCreated:4},{userId:"3",userName:"Bob Wilson",versionsCreated:3}],versionTrends:[{date:new Date(Date.now()-8640*60*1e3).toISOString().split("T")[0],versions:2,comments:1},{date:new Date(Date.now()-7200*60*1e3).toISOString().split("T")[0],versions:1,comments:0},{date:new Date(Date.now()-5760*60*1e3).toISOString().split("T")[0],versions:3,comments:2},{date:new Date(Date.now()-4320*60*1e3).toISOString().split("T")[0],versions:2,comments:1},{date:new Date(Date.now()-2880*60*1e3).toISOString().split("T")[0],versions:4,comments:3},{date:new Date(Date.now()-1440*60*1e3).toISOString().split("T")[0],versions:1,comments:1},{date:new Date().toISOString().split("T")[0],versions:3,comments:2}],commentsCreatedToday:2}):{activeEditors:0,totalComments:0,totalCoEdits:0,averageSessionDuration:0,mostActiveUsers:[],totalDocuments:0,sharedFolders:0,totalUsers:0,documentsCreatedToday:0,documentsEditedToday:0,activeCollaborations:0,totalVersions:0,versionsCreatedToday:0,versionsCreatedThisWeek:0,mostActiveEditors:[],versionTrends:[],commentsCreatedToday:0}}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ou(t){return t+.5|0}const di=(t,e,n)=>Math.max(Math.min(t,n),e);function wd(t){return di(Ou(t*2.55),0,255)}function xi(t){return di(Ou(t*255),0,255)}function uo(t){return di(Ou(t/2.55)/100,0,1)}function $E(t){return di(Ou(t*100),0,100)}const Mr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},p0=[..."0123456789ABCDEF"],_re=t=>p0[t&15],Ere=t=>p0[(t&240)>>4]+p0[t&15],df=t=>(t&240)>>4===(t&15),Nre=t=>df(t.r)&&df(t.g)&&df(t.b)&&df(t.a);function jre(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Mr[t[1]]*17,g:255&Mr[t[2]]*17,b:255&Mr[t[3]]*17,a:e===5?Mr[t[4]]*17:255}:(e===7||e===9)&&(n={r:Mr[t[1]]<<4|Mr[t[2]],g:Mr[t[3]]<<4|Mr[t[4]],b:Mr[t[5]]<<4|Mr[t[6]],a:e===9?Mr[t[7]]<<4|Mr[t[8]]:255})),n}const Tre=(t,e)=>t<255?e(t):"";function Mre(t){var e=Nre(t)?_re:Ere;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Tre(t.a,e):void 0}const Ore=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function f4(t,e,n){const r=e*Math.min(n,1-n),s=(o,i=(o+t/30)%12)=>n-r*Math.max(Math.min(i-3,9-i,1),-1);return[s(0),s(8),s(4)]}function Pre(t,e,n){const r=(s,o=(s+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function Are(t,e,n){const r=f4(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function Rre(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function uk(t){const n=t.r/255,r=t.g/255,s=t.b/255,o=Math.max(n,r,s),i=Math.min(n,r,s),c=(o+i)/2;let u,h,f;return o!==i&&(f=o-i,h=c>.5?f/(2-o-i):f/(o+i),u=Rre(n,r,s,f,o),u=u*60+.5),[u|0,h||0,c]}function hk(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(xi)}function fk(t,e,n){return hk(f4,t,e,n)}function Ire(t,e,n){return hk(Are,t,e,n)}function Dre(t,e,n){return hk(Pre,t,e,n)}function p4(t){return(t%360+360)%360}function Lre(t){const e=Ore.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?wd(+e[5]):xi(+e[5]));const s=p4(+e[2]),o=+e[3]/100,i=+e[4]/100;return e[1]==="hwb"?r=Ire(s,o,i):e[1]==="hsv"?r=Dre(s,o,i):r=fk(s,o,i),{r:r[0],g:r[1],b:r[2],a:n}}function Bre(t,e){var n=uk(t);n[0]=p4(n[0]+e),n=fk(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Fre(t){if(!t)return;const e=uk(t),n=e[0],r=$E(e[1]),s=$E(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${uo(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const zE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},UE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $re(){const t={},e=Object.keys(UE),n=Object.keys(zE);let r,s,o,i,c;for(r=0;r<e.length;r++){for(i=c=e[r],s=0;s<n.length;s++)o=n[s],c=c.replace(o,zE[o]);o=parseInt(UE[i],16),t[c]=[o>>16&255,o>>8&255,o&255]}return t}let uf;function zre(t){uf||(uf=$re(),uf.transparent=[0,0,0,0]);const e=uf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Ure=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Hre(t){const e=Ure.exec(t);let n=255,r,s,o;if(e){if(e[7]!==r){const i=+e[7];n=e[8]?wd(i):di(i*255,0,255)}return r=+e[1],s=+e[3],o=+e[5],r=255&(e[2]?wd(r):di(r,0,255)),s=255&(e[4]?wd(s):di(s,0,255)),o=255&(e[6]?wd(o):di(o,0,255)),{r,g:s,b:o,a:n}}}function Wre(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${uo(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ty=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,vl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Vre(t,e,n){const r=vl(uo(t.r)),s=vl(uo(t.g)),o=vl(uo(t.b));return{r:xi(ty(r+n*(vl(uo(e.r))-r))),g:xi(ty(s+n*(vl(uo(e.g))-s))),b:xi(ty(o+n*(vl(uo(e.b))-o))),a:t.a+n*(e.a-t.a)}}function hf(t,e,n){if(t){let r=uk(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=fk(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function m4(t,e){return t&&Object.assign(e||{},t)}function HE(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=xi(t[3]))):(e=m4(t,{r:0,g:0,b:0,a:1}),e.a=xi(e.a)),e}function qre(t){return t.charAt(0)==="r"?Hre(t):Lre(t)}class Jd{constructor(e){if(e instanceof Jd)return e;const n=typeof e;let r;n==="object"?r=HE(e):n==="string"&&(r=jre(e)||zre(e)||qre(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=m4(this._rgb);return e&&(e.a=uo(e.a)),e}set rgb(e){this._rgb=HE(e)}rgbString(){return this._valid?Wre(this._rgb):void 0}hexString(){return this._valid?Mre(this._rgb):void 0}hslString(){return this._valid?Fre(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let o;const i=n===o?.5:n,c=2*i-1,u=r.a-s.a,h=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;o=1-h,r.r=255&h*r.r+o*s.r+.5,r.g=255&h*r.g+o*s.g+.5,r.b=255&h*r.b+o*s.b+.5,r.a=i*r.a+(1-i)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Vre(this._rgb,e._rgb,n)),this}clone(){return new Jd(this.rgb)}alpha(e){return this._rgb.a=xi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ou(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return hf(this._rgb,2,e),this}darken(e){return hf(this._rgb,2,-e),this}saturate(e){return hf(this._rgb,1,e),this}desaturate(e){return hf(this._rgb,1,-e),this}rotate(e){return Bre(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function so(){}const Yre=(()=>{let t=0;return()=>t++})();function ut(t){return t==null}function nn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function at(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function zr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ws(t,e){return zr(t)?t:e}function Xe(t,e){return typeof t>"u"?e:t}const Kre=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,g4=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ct(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function pt(t,e,n,r){let s,o,i;if(nn(t))for(o=t.length,s=0;s<o;s++)e.call(n,t[s],s);else if(at(t))for(i=Object.keys(t),o=i.length,s=0;s<o;s++)e.call(n,t[i[s]],i[s])}function Yp(t,e){let n,r,s,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],o=e[n],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function Kp(t){if(nn(t))return t.map(Kp);if(at(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=Kp(t[n[s]]);return e}return t}function x4(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Xre(t,e,n,r){if(!x4(t))return;const s=e[t],o=n[t];at(s)&&at(o)?Qd(s,o,r):e[t]=Kp(o)}function Qd(t,e,n){const r=nn(e)?e:[e],s=r.length;if(!at(t))return t;n=n||{};const o=n.merger||Xre;let i;for(let c=0;c<s;++c){if(i=r[c],!at(i))continue;const u=Object.keys(i);for(let h=0,f=u.length;h<f;++h)o(u[h],t,i,n)}return t}function jd(t,e){return Qd(t,e,{merger:Gre})}function Gre(t,e,n){if(!x4(t))return;const r=e[t],s=n[t];at(r)&&at(s)?jd(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Kp(s))}const WE={"":t=>t,x:t=>t.x,y:t=>t.y};function Jre(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Qre(t){const e=Jre(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function ja(t,e){return(WE[e]||(WE[e]=Qre(e)))(t)}function pk(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Zd=t=>typeof t<"u",ji=t=>typeof t=="function",VE=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Zre(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const mt=Math.PI,Dt=2*mt,ese=Dt+mt,Xp=Number.POSITIVE_INFINITY,tse=mt/180,sn=mt/2,Ji=mt/4,qE=mt*2/3,v4=Math.log10,Is=Math.sign;function Td(t,e,n){return Math.abs(t-e)<n}function YE(t){const e=Math.round(t);t=Td(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(v4(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function nse(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,o)=>s-o).pop(),e}function rse(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function eu(t){return!rse(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function sse(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function ose(t,e,n){let r,s,o;for(r=0,s=t.length;r<s;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function fo(t){return t*(mt/180)}function ise(t){return t*(180/mt)}function KE(t){if(!zr(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function y4(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*mt&&(o+=Dt),{angle:o,distance:s}}function m0(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ase(t,e){return(t-e+ese)%Dt-mt}function rs(t){return(t%Dt+Dt)%Dt}function tu(t,e,n,r){const s=rs(t),o=rs(e),i=rs(n),c=rs(o-s),u=rs(i-s),h=rs(s-o),f=rs(s-i);return s===o||s===i||r&&o===i||c>u&&h<f}function Mn(t,e,n){return Math.max(e,Math.min(n,t))}function lse(t){return Mn(t,-32768,32767)}function ui(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function mk(t,e,n){n=n||(i=>t[i]<e);let r=t.length-1,s=0,o;for(;r-s>1;)o=s+r>>1,n(o)?s=o:r=o;return{lo:s,hi:r}}const ia=(t,e,n,r)=>mk(t,n,r?s=>{const o=t[s][e];return o<n||o===n&&t[s+1][e]===n}:s=>t[s][e]<n),cse=(t,e,n)=>mk(t,n,r=>t[r][e]>=n);function dse(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const b4=["push","pop","shift","splice","unshift"];function use(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),b4.forEach(n=>{const r="_onData"+pk(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const i=s.apply(this,o);return t._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...o)}),i}})})}function XE(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(b4.forEach(o=>{delete t[o]}),delete t._chartjs)}function w4(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const k4=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function S4(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,k4.call(window,()=>{r=!1,t.apply(e,n)}))}}function hse(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const gk=t=>t==="start"?"left":t==="end"?"right":"center",Nn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,fse=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function pse(t,e,n){const r=e.length;let s=0,o=r;if(t._sorted){const{iScale:i,vScale:c,_parsed:u}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,f=i.axis,{min:m,max:g,minDefined:y,maxDefined:v}=i.getUserBounds();if(y){if(s=Math.min(ia(u,f,m).lo,n?r:ia(e,f,i.getPixelForValue(m)).lo),h){const b=u.slice(0,s+1).reverse().findIndex(k=>!ut(k[c.axis]));s-=Math.max(0,b)}s=Mn(s,0,r-1)}if(v){let b=Math.max(ia(u,i.axis,g,!0).hi+1,n?0:ia(e,f,i.getPixelForValue(g),!0).hi+1);if(h){const k=u.slice(b-1).findIndex(C=>!ut(C[c.axis]));b+=Math.max(0,k)}o=Mn(b,s,r)-s}else o=r-s}return{start:s,count:o}}function mse(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),o}const ff=t=>t===0||t===1,GE=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Dt/n)),JE=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Dt/n)+1,Md={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*sn)+1,easeOutSine:t=>Math.sin(t*sn),easeInOutSine:t=>-.5*(Math.cos(mt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ff(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ff(t)?t:GE(t,.075,.3),easeOutElastic:t=>ff(t)?t:JE(t,.075,.3),easeInOutElastic(t){return ff(t)?t:t<.5?.5*GE(t*2,.1125,.45):.5+.5*JE(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Md.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Md.easeInBounce(t*2)*.5:Md.easeOutBounce(t*2-1)*.5+.5};function xk(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function QE(t){return xk(t)?t:new Jd(t)}function ny(t){return xk(t)?t:new Jd(t).saturate(.5).darken(.1).hexString()}const gse=["x","y","borderWidth","radius","tension"],xse=["color","borderColor","backgroundColor"];function vse(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:xse},numbers:{type:"number",properties:gse}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function yse(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ZE=new Map;function bse(t,e){e=e||{};const n=t+JSON.stringify(e);let r=ZE.get(n);return r||(r=new Intl.NumberFormat(t,e),ZE.set(n,r)),r}function vk(t,e,n){return bse(e,n).format(t)}const wse={values(t){return nn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,o=t;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),o=kse(t,n)}const i=v4(Math.abs(o)),c=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),u={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),vk(t,r,u)}};function kse(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var C4={formatters:wse};function Sse(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:C4.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ta=Object.create(null),g0=Object.create(null);function Od(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const o=n[r];t=t[o]||(t[o]=Object.create(null))}return t}function ry(t,e,n){return typeof e=="string"?Qd(Od(t,e),n):Qd(Od(t,""),e)}class Cse{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>ny(s.backgroundColor),this.hoverBorderColor=(r,s)=>ny(s.borderColor),this.hoverColor=(r,s)=>ny(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ry(this,e,n)}get(e){return Od(this,e)}describe(e,n){return ry(g0,e,n)}override(e,n){return ry(Ta,e,n)}route(e,n,r,s){const o=Od(this,e),i=Od(this,r),c="_"+n;Object.defineProperties(o,{[c]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[c],h=i[s];return at(u)?Object.assign({},h,u):Xe(u,h)},set(u){this[c]=u}}})}apply(e){e.forEach(n=>n(this))}}var zt=new Cse({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[vse,yse,Sse]);function _se(t){return!t||ut(t.size)||ut(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function eN(t,e,n,r,s){let o=e[s];return o||(o=e[s]=t.measureText(s).width,n.push(s)),o>r&&(r=o),r}function Qi(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function tN(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function x0(t,e,n,r){_4(t,e,n,r,null)}function _4(t,e,n,r,s){let o,i,c,u,h,f,m,g;const y=e.pointStyle,v=e.rotation,b=e.radius;let k=(v||0)*tse;if(y&&typeof y=="object"&&(o=y.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(k),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),y){default:s?t.ellipse(n,r,s/2,b,0,0,Dt):t.arc(n,r,b,0,Dt),t.closePath();break;case"triangle":f=s?s/2:b,t.moveTo(n+Math.sin(k)*f,r-Math.cos(k)*b),k+=qE,t.lineTo(n+Math.sin(k)*f,r-Math.cos(k)*b),k+=qE,t.lineTo(n+Math.sin(k)*f,r-Math.cos(k)*b),t.closePath();break;case"rectRounded":h=b*.516,u=b-h,i=Math.cos(k+Ji)*u,m=Math.cos(k+Ji)*(s?s/2-h:u),c=Math.sin(k+Ji)*u,g=Math.sin(k+Ji)*(s?s/2-h:u),t.arc(n-m,r-c,h,k-mt,k-sn),t.arc(n+g,r-i,h,k-sn,k),t.arc(n+m,r+c,h,k,k+sn),t.arc(n-g,r+i,h,k+sn,k+mt),t.closePath();break;case"rect":if(!v){u=Math.SQRT1_2*b,f=s?s/2:u,t.rect(n-f,r-u,2*f,2*u);break}k+=Ji;case"rectRot":m=Math.cos(k)*(s?s/2:b),i=Math.cos(k)*b,c=Math.sin(k)*b,g=Math.sin(k)*(s?s/2:b),t.moveTo(n-m,r-c),t.lineTo(n+g,r-i),t.lineTo(n+m,r+c),t.lineTo(n-g,r+i),t.closePath();break;case"crossRot":k+=Ji;case"cross":m=Math.cos(k)*(s?s/2:b),i=Math.cos(k)*b,c=Math.sin(k)*b,g=Math.sin(k)*(s?s/2:b),t.moveTo(n-m,r-c),t.lineTo(n+m,r+c),t.moveTo(n+g,r-i),t.lineTo(n-g,r+i);break;case"star":m=Math.cos(k)*(s?s/2:b),i=Math.cos(k)*b,c=Math.sin(k)*b,g=Math.sin(k)*(s?s/2:b),t.moveTo(n-m,r-c),t.lineTo(n+m,r+c),t.moveTo(n+g,r-i),t.lineTo(n-g,r+i),k+=Ji,m=Math.cos(k)*(s?s/2:b),i=Math.cos(k)*b,c=Math.sin(k)*b,g=Math.sin(k)*(s?s/2:b),t.moveTo(n-m,r-c),t.lineTo(n+m,r+c),t.moveTo(n+g,r-i),t.lineTo(n-g,r+i);break;case"line":i=s?s/2:Math.cos(k)*b,c=Math.sin(k)*b,t.moveTo(n-i,r-c),t.lineTo(n+i,r+c);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(k)*(s?s/2:b),r+Math.sin(k)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function nu(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function yk(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function bk(t){t.restore()}function Ese(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Nse(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function jse(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ut(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Tse(t,e,n,r,s){if(s.strikethrough||s.underline){const o=t.measureText(r),i=e-o.actualBoundingBoxLeft,c=e+o.actualBoundingBoxRight,u=n-o.actualBoundingBoxAscent,h=n+o.actualBoundingBoxDescent,f=s.strikethrough?(u+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(i,f),t.lineTo(c,f),t.stroke()}}function Mse(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ru(t,e,n,r,s,o={}){const i=nn(e)?e:[e],c=o.strokeWidth>0&&o.strokeColor!=="";let u,h;for(t.save(),t.font=s.string,jse(t,o),u=0;u<i.length;++u)h=i[u],o.backdrop&&Mse(t,o.backdrop),c&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),ut(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(h,n,r,o.maxWidth)),t.fillText(h,n,r,o.maxWidth),Tse(t,n,r,h,o),r+=Number(s.lineHeight);t.restore()}function Gp(t,e){const{x:n,y:r,w:s,h:o,radius:i}=e;t.arc(n+i.topLeft,r+i.topLeft,i.topLeft,1.5*mt,mt,!0),t.lineTo(n,r+o-i.bottomLeft),t.arc(n+i.bottomLeft,r+o-i.bottomLeft,i.bottomLeft,mt,sn,!0),t.lineTo(n+s-i.bottomRight,r+o),t.arc(n+s-i.bottomRight,r+o-i.bottomRight,i.bottomRight,sn,0,!0),t.lineTo(n+s,r+i.topRight),t.arc(n+s-i.topRight,r+i.topRight,i.topRight,0,-sn,!0),t.lineTo(n+i.topLeft,r)}const Ose=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Pse=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ase(t,e){const n=(""+t).match(Ose);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Rse=t=>+t||0;function wk(t,e){const n={},r=at(e),s=r?Object.keys(e):e,o=at(t)?r?i=>Xe(t[i],t[e[i]]):i=>t[i]:()=>t;for(const i of s)n[i]=Rse(o(i));return n}function E4(t){return wk(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Il(t){return wk(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ur(t){const e=E4(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function On(t,e){t=t||{},e=e||zt.font;let n=Xe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Xe(t.style,e.style);r&&!(""+r).match(Pse)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Xe(t.family,e.family),lineHeight:Ase(Xe(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Xe(t.weight,e.weight),string:""};return s.string=_se(s),s}function pf(t,e,n,r){let s,o,i;for(s=0,o=t.length;s<o;++s)if(i=t[s],i!==void 0&&i!==void 0)return i}function Ise(t,e,n){const{min:r,max:s}=t,o=g4(e,(s-r)/2),i=(c,u)=>n&&c===0?0:c+u;return{min:i(r,-Math.abs(o)),max:i(s,o)}}function Fa(t,e){return Object.assign(Object.create(t),e)}function kk(t,e=[""],n,r,s=()=>t[0]){const o=n||t;typeof r>"u"&&(r=M4("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:r,_getTarget:s,override:c=>kk([c,...t],e,o,r)};return new Proxy(i,{deleteProperty(c,u){return delete c[u],delete c._keys,delete t[0][u],!0},get(c,u){return j4(c,u,()=>Hse(u,e,t,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,u){return rN(c).includes(u)},ownKeys(c){return rN(c)},set(c,u,h){const f=c._storage||(c._storage=s());return c[u]=f[u]=h,delete c._keys,!0}})}function Xl(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:N4(t,r),setContext:o=>Xl(t,o,n,r),override:o=>Xl(t.override(o),e,n,r)};return new Proxy(s,{deleteProperty(o,i){return delete o[i],delete t[i],!0},get(o,i,c){return j4(o,i,()=>Lse(o,i,c))},getOwnPropertyDescriptor(o,i){return o._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(o,i,c){return t[i]=c,delete o[i],!0}})}function N4(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:ji(n)?n:()=>n,isIndexable:ji(r)?r:()=>r}}const Dse=(t,e)=>t?t+pk(e):e,Sk=(t,e)=>at(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function j4(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function Lse(t,e,n){const{_proxy:r,_context:s,_subProxy:o,_descriptors:i}=t;let c=r[e];return ji(c)&&i.isScriptable(e)&&(c=Bse(e,c,t,n)),nn(c)&&c.length&&(c=Fse(e,c,t,i.isIndexable)),Sk(e,c)&&(c=Xl(c,s,o&&o[e],i)),c}function Bse(t,e,n,r){const{_proxy:s,_context:o,_subProxy:i,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let u=e(o,i||r);return c.delete(t),Sk(t,u)&&(u=Ck(s._scopes,s,t,u)),u}function Fse(t,e,n,r){const{_proxy:s,_context:o,_subProxy:i,_descriptors:c}=n;if(typeof o.index<"u"&&r(t))return e[o.index%e.length];if(at(e[0])){const u=e,h=s._scopes.filter(f=>f!==u);e=[];for(const f of u){const m=Ck(h,s,t,f);e.push(Xl(m,o,i&&i[t],c))}}return e}function T4(t,e,n){return ji(t)?t(e,n):t}const $se=(t,e)=>t===!0?e:typeof t=="string"?ja(e,t):void 0;function zse(t,e,n,r,s){for(const o of e){const i=$se(n,o);if(i){t.add(i);const c=T4(i._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==r)return c}else if(i===!1&&typeof r<"u"&&n!==r)return null}return!1}function Ck(t,e,n,r){const s=e._rootScopes,o=T4(e._fallback,n,r),i=[...t,...s],c=new Set;c.add(r);let u=nN(c,i,n,o||n,r);return u===null||typeof o<"u"&&o!==n&&(u=nN(c,i,o,u,r),u===null)?!1:kk(Array.from(c),[""],s,o,()=>Use(e,n,r))}function nN(t,e,n,r,s){for(;n;)n=zse(t,e,n,r,s);return n}function Use(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return nn(s)&&at(n)?n:s||{}}function Hse(t,e,n,r){let s;for(const o of e)if(s=M4(Dse(o,t),n),typeof s<"u")return Sk(t,s)?Ck(n,r,t,s):s}function M4(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function rN(t){let e=t._keys;return e||(e=t._keys=Wse(t._scopes)),e}function Wse(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const Vse=Number.EPSILON||1e-14,Gl=(t,e)=>e<t.length&&!t[e].skip&&t[e],O4=t=>t==="x"?"y":"x";function qse(t,e,n,r){const s=t.skip?e:t,o=e,i=n.skip?e:n,c=m0(o,s),u=m0(i,o);let h=c/(c+u),f=u/(c+u);h=isNaN(h)?0:h,f=isNaN(f)?0:f;const m=r*h,g=r*f;return{previous:{x:o.x-m*(i.x-s.x),y:o.y-m*(i.y-s.y)},next:{x:o.x+g*(i.x-s.x),y:o.y+g*(i.y-s.y)}}}function Yse(t,e,n){const r=t.length;let s,o,i,c,u,h=Gl(t,0);for(let f=0;f<r-1;++f)if(u=h,h=Gl(t,f+1),!(!u||!h)){if(Td(e[f],0,Vse)){n[f]=n[f+1]=0;continue}s=n[f]/e[f],o=n[f+1]/e[f],c=Math.pow(s,2)+Math.pow(o,2),!(c<=9)&&(i=3/Math.sqrt(c),n[f]=s*i*e[f],n[f+1]=o*i*e[f])}}function Kse(t,e,n="x"){const r=O4(n),s=t.length;let o,i,c,u=Gl(t,0);for(let h=0;h<s;++h){if(i=c,c=u,u=Gl(t,h+1),!c)continue;const f=c[n],m=c[r];i&&(o=(f-i[n])/3,c[`cp1${n}`]=f-o,c[`cp1${r}`]=m-o*e[h]),u&&(o=(u[n]-f)/3,c[`cp2${n}`]=f+o,c[`cp2${r}`]=m+o*e[h])}}function Xse(t,e="x"){const n=O4(e),r=t.length,s=Array(r).fill(0),o=Array(r);let i,c,u,h=Gl(t,0);for(i=0;i<r;++i)if(c=u,u=h,h=Gl(t,i+1),!!u){if(h){const f=h[e]-u[e];s[i]=f!==0?(h[n]-u[n])/f:0}o[i]=c?h?Is(s[i-1])!==Is(s[i])?0:(s[i-1]+s[i])/2:s[i-1]:s[i]}Yse(t,s,o),Kse(t,o,e)}function mf(t,e,n){return Math.max(Math.min(t,n),e)}function Gse(t,e){let n,r,s,o,i,c=nu(t[0],e);for(n=0,r=t.length;n<r;++n)i=o,o=c,c=n<r-1&&nu(t[n+1],e),o&&(s=t[n],i&&(s.cp1x=mf(s.cp1x,e.left,e.right),s.cp1y=mf(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=mf(s.cp2x,e.left,e.right),s.cp2y=mf(s.cp2y,e.top,e.bottom)))}function Jse(t,e,n,r,s){let o,i,c,u;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")Xse(t,s);else{let h=r?t[t.length-1]:t[0];for(o=0,i=t.length;o<i;++o)c=t[o],u=qse(h,c,t[Math.min(o+1,i-(r?0:1))%i],e.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,h=c}e.capBezierPoints&&Gse(t,n)}function _k(){return typeof window<"u"&&typeof document<"u"}function Ek(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Jp(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const pg=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Qse(t,e){return pg(t).getPropertyValue(e)}const Zse=["top","right","bottom","left"];function pa(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const o=Zse[s];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const eoe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function toe(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:o}=r;let i=!1,c,u;if(eoe(s,o,t.target))c=s,u=o;else{const h=e.getBoundingClientRect();c=r.clientX-h.left,u=r.clientY-h.top,i=!0}return{x:c,y:u,box:i}}function ta(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=pg(n),o=s.boxSizing==="border-box",i=pa(s,"padding"),c=pa(s,"border","width"),{x:u,y:h,box:f}=toe(t,n),m=i.left+(f&&c.left),g=i.top+(f&&c.top);let{width:y,height:v}=e;return o&&(y-=i.width+c.width,v-=i.height+c.height),{x:Math.round((u-m)/y*n.width/r),y:Math.round((h-g)/v*n.height/r)}}function noe(t,e,n){let r,s;if(e===void 0||n===void 0){const o=t&&Ek(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const i=o.getBoundingClientRect(),c=pg(o),u=pa(c,"border","width"),h=pa(c,"padding");e=i.width-h.width-u.width,n=i.height-h.height-u.height,r=Jp(c.maxWidth,o,"clientWidth"),s=Jp(c.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:r||Xp,maxHeight:s||Xp}}const hi=t=>Math.round(t*10)/10;function roe(t,e,n,r){const s=pg(t),o=pa(s,"margin"),i=Jp(s.maxWidth,t,"clientWidth")||Xp,c=Jp(s.maxHeight,t,"clientHeight")||Xp,u=noe(t,e,n);let{width:h,height:f}=u;if(s.boxSizing==="content-box"){const g=pa(s,"border","width"),y=pa(s,"padding");h-=y.width+g.width,f-=y.height+g.height}return h=Math.max(0,h-o.width),f=Math.max(0,r?h/r:f-o.height),h=hi(Math.min(h,i,u.maxWidth)),f=hi(Math.min(f,c,u.maxHeight)),h&&!f&&(f=hi(h/2)),(e!==void 0||n!==void 0)&&r&&u.height&&f>u.height&&(f=u.height,h=hi(Math.floor(f*r))),{width:h,height:f}}function sN(t,e,n){const r=e||1,s=hi(t.height*r),o=hi(t.width*r);t.height=hi(t.height),t.width=hi(t.width);const i=t.canvas;return i.style&&(n||!i.style.height&&!i.style.width)&&(i.style.height=`${t.height}px`,i.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||i.height!==s||i.width!==o?(t.currentDevicePixelRatio=r,i.height=s,i.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const soe=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};_k()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function oN(t,e){const n=Qse(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function na(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function ooe(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function ioe(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},i=na(t,s,n),c=na(s,o,n),u=na(o,e,n),h=na(i,c,n),f=na(c,u,n);return na(h,f,n)}const aoe=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},loe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Dl(t,e,n){return t?aoe(e,n):loe()}function P4(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function A4(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function R4(t){return t==="angle"?{between:tu,compare:ase,normalize:rs}:{between:ui,compare:(e,n)=>e-n,normalize:e=>e}}function iN({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function coe(t,e,n){const{property:r,start:s,end:o}=n,{between:i,normalize:c}=R4(r),u=e.length;let{start:h,end:f,loop:m}=t,g,y;if(m){for(h+=u,f+=u,g=0,y=u;g<y&&i(c(e[h%u][r]),s,o);++g)h--,f--;h%=u,f%=u}return f<h&&(f+=u),{start:h,end:f,loop:m,style:t.style}}function doe(t,e,n){if(!n)return[t];const{property:r,start:s,end:o}=n,i=e.length,{compare:c,between:u,normalize:h}=R4(r),{start:f,end:m,loop:g,style:y}=coe(t,e,n),v=[];let b=!1,k=null,C,_,T;const N=()=>u(s,T,C)&&c(s,T)!==0,j=()=>c(o,C)===0||u(o,T,C),P=()=>b||N(),I=()=>!b||j();for(let O=f,L=f;O<=m;++O)_=e[O%i],!_.skip&&(C=h(_[r]),C!==T&&(b=u(C,s,o),k===null&&P()&&(k=c(C,s)===0?O:L),k!==null&&I()&&(v.push(iN({start:k,end:O,loop:g,count:i,style:y})),k=null),L=O,T=C));return k!==null&&v.push(iN({start:k,end:m,loop:g,count:i,style:y})),v}function uoe(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const o=doe(r[s],t.points,e);o.length&&n.push(...o)}return n}function hoe(t,e,n,r){let s=0,o=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(o+=s);o>s&&t[o%e].skip;)o--;return o%=e,{start:s,end:o}}function foe(t,e,n,r){const s=t.length,o=[];let i=e,c=t[e],u;for(u=e+1;u<=n;++u){const h=t[u%s];h.skip||h.stop?c.skip||(r=!1,o.push({start:e%s,end:(u-1)%s,loop:r}),e=i=h.stop?u:null):(i=u,c.skip&&(e=u)),c=h}return i!==null&&o.push({start:e%s,end:i%s,loop:r}),o}function poe(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const o=!!t._loop,{start:i,end:c}=hoe(n,s,o,r);if(r===!0)return aN(t,[{start:i,end:c,loop:o}],n,e);const u=c<i?c+s:c,h=!!t._fullLoop&&i===0&&c===s-1;return aN(t,foe(n,i,u,h),n,e)}function aN(t,e,n,r){return!r||!r.setContext||!n?e:moe(t,e,n,r)}function moe(t,e,n,r){const s=t._chart.getContext(),o=lN(t.options),{_datasetIndex:i,options:{spanGaps:c}}=t,u=n.length,h=[];let f=o,m=e[0].start,g=m;function y(v,b,k,C){const _=c?-1:1;if(v!==b){for(v+=u;n[v%u].skip;)v-=_;for(;n[b%u].skip;)b+=_;v%u!==b%u&&(h.push({start:v%u,end:b%u,loop:k,style:C}),f=C,m=b%u)}}for(const v of e){m=c?m:v.start;let b=n[m%u],k;for(g=m+1;g<=v.end;g++){const C=n[g%u];k=lN(r.setContext(Fa(s,{type:"segment",p0:b,p1:C,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:i}))),goe(k,f)&&y(m,g-1,v.loop,f),b=C,f=k}m<g-1&&y(m,g-1,v.loop,f)}return h}function lN(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function goe(t,e){if(!e)return!1;const n=[],r=function(s,o){return xk(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function gf(t,e,n){return t.options.clip?t[n]:e[n]}function xoe(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:gf(n,e,"left"),right:gf(n,e,"right"),top:gf(r,e,"top"),bottom:gf(r,e,"bottom")}:e}function voe(t,e){const n=e._clip;if(n.disabled)return!1;const r=xoe(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class yoe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const o=n.listeners[s],i=n.duration;o.forEach(c=>c({chart:e,initial:n.initial,numSteps:i,currentStep:Math.min(r-n.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=k4.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const o=r.items;let i=o.length-1,c=!1,u;for(;i>=0;--i)u=o[i],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),c=!0):(o[i]=o[o.length-1],o.pop());c&&(s.draw(),this._notify(s,r,e,"progress")),o.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var io=new yoe;const cN="transparent",boe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=QE(t||cN),s=r.valid&&QE(e||cN);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class woe{constructor(e,n,r,s){const o=n[r];s=pf([e.to,s,o,e.from]);const i=pf([e.from,o,s]);this._active=!0,this._fn=e.fn||boe[e.type||typeof i],this._easing=Md[e.easing]||Md.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=i,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],o=r-this._start,i=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=pf([e.to,n,s,e.from]),this._from=pf([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,o=this._from,i=this._loop,c=this._to;let u;if(this._active=o!==c&&(i||n<r),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=o;return}u=n/r%2,u=i&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(o,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class I4{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!at(e))return;const n=Object.keys(zt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const o=e[s];if(!at(o))return;const i={};for(const c of n)i[c]=o[c];(nn(o.properties)&&o.properties||[s]).forEach(c=>{(c===s||!r.has(c))&&r.set(c,i)})})}_animateOptions(e,n){const r=n.options,s=Soe(e,r);if(!s)return[];const o=this._createAnimations(s,r);return r.$shared&&koe(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,n){const r=this._properties,s=[],o=e.$animations||(e.$animations={}),i=Object.keys(n),c=Date.now();let u;for(u=i.length-1;u>=0;--u){const h=i[u];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(e,n));continue}const f=n[h];let m=o[h];const g=r.get(h);if(m)if(g&&m.active()){m.update(g,f,c);continue}else m.cancel();if(!g||!g.duration){e[h]=f;continue}o[h]=m=new woe(g,e,h,f),s.push(m)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return io.add(this._chart,r),!0}}function koe(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const o=t[r[s]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function Soe(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function dN(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:r?o:s,end:r?s:o}}function Coe(t,e,n){if(n===!1)return!1;const r=dN(t,n),s=dN(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function _oe(t){let e,n,r,s;return at(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function D4(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,o;for(s=0,o=r.length;s<o;++s)n.push(r[s].index);return n}function uN(t,e,n,r={}){const s=t.keys,o=r.mode==="single";let i,c,u,h;if(e===null)return;let f=!1;for(i=0,c=s.length;i<c;++i){if(u=+s[i],u===n){if(f=!0,r.all)continue;break}h=t.values[u],zr(h)&&(o||e===0||Is(e)===Is(h))&&(e+=h)}return!f&&!r.all?0:e}function Eoe(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",i=Object.keys(t),c=new Array(i.length);let u,h,f;for(u=0,h=i.length;u<h;++u)f=i[u],c[u]={[s]:f,[o]:t[f]};return c}function sy(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Noe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function joe(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function Toe(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function hN(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const o=t[s.index];if(n&&o>0||!n&&o<0)return s.index}return null}function fN(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:o,vScale:i,index:c}=r,u=o.axis,h=i.axis,f=Noe(o,i,r),m=e.length;let g;for(let y=0;y<m;++y){const v=e[y],{[u]:b,[h]:k}=v,C=v._stacks||(v._stacks={});g=C[h]=Toe(s,f,b),g[c]=k,g._top=hN(g,i,!0,r.type),g._bottom=hN(g,i,!1,r.type);const _=g._visualValues||(g._visualValues={});_[c]=k}}function oy(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function Moe(t,e){return Fa(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Ooe(t,e,n){return Fa(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function dd(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const o=s._stacks;if(!o||o[r]===void 0||o[r][n]===void 0)return;delete o[r][n],o[r]._visualValues!==void 0&&o[r]._visualValues[n]!==void 0&&delete o[r]._visualValues[n]}}}const iy=t=>t==="reset"||t==="none",pN=(t,e)=>e?t:Object.assign({},t),Poe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:D4(n,!0),values:null};class mg{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=sy(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&dd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(m,g,y,v)=>m==="x"?g:m==="r"?v:y,o=n.xAxisID=Xe(r.xAxisID,oy(e,"x")),i=n.yAxisID=Xe(r.yAxisID,oy(e,"y")),c=n.rAxisID=Xe(r.rAxisID,oy(e,"r")),u=n.indexAxis,h=n.iAxisID=s(u,o,i,c),f=n.vAxisID=s(u,i,o,c);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(i),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&XE(this._data,this),e._stacked&&dd(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(at(n)){const s=this._cachedMeta;this._data=Eoe(n,s)}else if(r!==n){if(r){XE(r,this);const s=this._cachedMeta;dd(s),s._parsed=[]}n&&Object.isExtensible(n)&&use(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const o=n._stacked;n._stacked=sy(n.vScale,n),n.stack!==r.stack&&(s=!0,dd(n),n.stack=r.stack),this._resyncElements(e),(s||o!==n._stacked)&&(fN(this,n._parsed),n._stacked=sy(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:i}=r,c=o.axis;let u=e===0&&n===s.length?!0:r._sorted,h=e>0&&r._parsed[e-1],f,m,g;if(this._parsing===!1)r._parsed=s,r._sorted=!0,g=s;else{nn(s[e])?g=this.parseArrayData(r,s,e,n):at(s[e])?g=this.parseObjectData(r,s,e,n):g=this.parsePrimitiveData(r,s,e,n);const y=()=>m[c]===null||h&&m[c]<h[c];for(f=0;f<n;++f)r._parsed[f+e]=m=g[f],u&&(y()&&(u=!1),h=m);r._sorted=u}i&&fN(this,g)}parsePrimitiveData(e,n,r,s){const{iScale:o,vScale:i}=e,c=o.axis,u=i.axis,h=o.getLabels(),f=o===i,m=new Array(s);let g,y,v;for(g=0,y=s;g<y;++g)v=g+r,m[g]={[c]:f||o.parse(h[v],v),[u]:i.parse(n[v],v)};return m}parseArrayData(e,n,r,s){const{xScale:o,yScale:i}=e,c=new Array(s);let u,h,f,m;for(u=0,h=s;u<h;++u)f=u+r,m=n[f],c[u]={x:o.parse(m[0],f),y:i.parse(m[1],f)};return c}parseObjectData(e,n,r,s){const{xScale:o,yScale:i}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=new Array(s);let f,m,g,y;for(f=0,m=s;f<m;++f)g=f+r,y=n[g],h[f]={x:o.parse(ja(y,c),g),y:i.parse(ja(y,u),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,o=this._cachedMeta,i=n[e.axis],c={keys:D4(s,!0),values:n._stacks[e.axis]._visualValues};return uN(c,i,o.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const o=r[n.axis];let i=o===null?NaN:o;const c=s&&r._stacks[n.axis];s&&c&&(s.values=c,i=uN(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,o=r._sorted&&e===r.iScale,i=s.length,c=this._getOtherScale(e),u=Poe(n,r,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:m}=joe(c);let g,y;function v(){y=s[g];const b=y[c.axis];return!zr(y[e.axis])||f>b||m<b}for(g=0;g<i&&!(!v()&&(this.updateRangeFromParsed(h,e,y,u),o));++g);if(o){for(g=i-1;g>=0;--g)if(!v()){this.updateRangeFromParsed(h,e,y,u);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,o,i;for(s=0,o=n.length;s<o;++s)i=n[s][e.axis],zr(i)&&r.push(i);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=_oe(Xe(this.options.clip,Coe(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],o=n.chartArea,i=[],c=this._drawStart||0,u=this._drawCount||s.length-c,h=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(e,o,c,u),f=c;f<c+u;++f){const m=s[f];m.hidden||(m.active&&h?i.push(m):m.draw(e,o))}for(f=0;f<i.length;++f)i[f].draw(e,o)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const i=this._cachedMeta.data[e];o=i.$context||(i.$context=Ooe(this.getContext(),e,i)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=Moe(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",o=this._cachedDataOpts,i=e+"-"+n,c=o[i],u=this.enableOptionSharing&&Zd(r);if(c)return pN(c,u);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,e),m=s?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),f),y=Object.keys(zt.elements[e]),v=()=>this.getContext(r,s,n),b=h.resolveNamedOptions(g,y,v,m);return b.$shared&&(b.$shared=u,o[i]=Object.freeze(pN(b,u))),b}_resolveAnimations(e,n,r){const s=this.chart,o=this._cachedDataOpts,i=`animation-${n}`,c=o[i];if(c)return c;let u;if(s.options.animation!==!1){const f=this.chart.config,m=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),m);u=f.createResolver(g,this.getContext(e,r,n))}const h=new I4(s,u&&u.animations);return u&&u._cacheable&&(o[i]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||iy(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,o=this.getSharedOptions(r),i=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:i}}updateElement(e,n,r,s){iy(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!iy(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const o=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[c,u,h]of this._syncList)this[c](u,h);this._syncList=[];const s=r.length,o=n.length,i=Math.min(o,s);i&&this.parse(0,i),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,n,r=!0){const s=this._cachedMeta,o=s.data,i=e+n;let c;const u=h=>{for(h.length+=n,c=h.length-1;c>=i;c--)h[c]=h[c-n]};for(u(o),c=e;c<i;++c)o[c]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(e,n),r&&this.updateElements(o,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&dd(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Aoe(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,o=n.length;s<o;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=w4(r.sort((s,o)=>s-o))}return t._cache.$bar}function Roe(t){const e=t.iScale,n=Aoe(e,t.type);let r=e._length,s,o,i,c;const u=()=>{i===32767||i===-32768||(Zd(c)&&(r=Math.min(r,Math.abs(i-c)||r)),c=i)};for(s=0,o=n.length;s<o;++s)i=e.getPixelForValue(n[s]),u();for(c=void 0,s=0,o=e.ticks.length;s<o;++s)i=e.getPixelForTick(s),u();return r}function Ioe(t,e,n,r){const s=n.barThickness;let o,i;return ut(s)?(o=e.min*n.categoryPercentage,i=n.barPercentage):(o=s*r,i=1),{chunk:o/r,ratio:i,start:e.pixels[t]-o/2}}function Doe(t,e,n,r){const s=e.pixels,o=s[t];let i=t>0?s[t-1]:null,c=t<s.length-1?s[t+1]:null;const u=n.categoryPercentage;i===null&&(i=o-(c===null?e.end-e.start:c-o)),c===null&&(c=o+o-i);const h=o-(o-Math.min(i,c))/2*u;return{chunk:Math.abs(c-i)/2*u/r,ratio:n.barPercentage,start:h}}function Loe(t,e,n,r){const s=n.parse(t[0],r),o=n.parse(t[1],r),i=Math.min(s,o),c=Math.max(s,o);let u=i,h=c;Math.abs(i)>Math.abs(c)&&(u=c,h=i),e[n.axis]=h,e._custom={barStart:u,barEnd:h,start:s,end:o,min:i,max:c}}function L4(t,e,n,r){return nn(t)?Loe(t,e,n,r):e[n.axis]=n.parse(t,r),e}function mN(t,e,n,r){const s=t.iScale,o=t.vScale,i=s.getLabels(),c=s===o,u=[];let h,f,m,g;for(h=n,f=n+r;h<f;++h)g=e[h],m={},m[s.axis]=c||s.parse(i[h],h),u.push(L4(g,m,o,h));return u}function ay(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Boe(t,e,n){return t!==0?Is(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Foe(t){let e,n,r,s,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",o="start"):(s="start",o="end"),{start:n,end:r,reverse:e,top:s,bottom:o}}function $oe(t,e,n,r){let s=e.borderSkipped;const o={};if(!s){t.borderSkipped=o;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:c,reverse:u,top:h,bottom:f}=Foe(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=h:(n._bottom||0)===r?s=f:(o[gN(f,i,c,u)]=!0,s=h)),o[gN(s,i,c,u)]=!0,t.borderSkipped=o}function gN(t,e,n,r){return r?(t=zoe(t,e,n),t=xN(t,n,e)):t=xN(t,e,n),t}function zoe(t,e,n){return t===e?n:t===n?e:t}function xN(t,e,n){return t==="start"?e:t==="end"?n:t}function Uoe(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Hoe extends mg{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,s){return mN(e,n,r,s)}parseArrayData(e,n,r,s){return mN(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:o,vScale:i}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=o.axis==="x"?c:u,f=i.axis==="x"?c:u,m=[];let g,y,v,b;for(g=r,y=r+s;g<y;++g)b=n[g],v={},v[o.axis]=o.parse(ja(b,h),g),m.push(L4(ja(b,f),v,i,g));return m}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const o=r._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,o=this.getParsed(e),i=o._custom,c=ay(i)?"["+i.start+", "+i.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const o=s==="reset",{index:i,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),h=c.isHorizontal(),f=this._getRuler(),{sharedOptions:m,includeOptions:g}=this._getSharedOptions(n,s);for(let y=n;y<n+r;y++){const v=this.getParsed(y),b=o||ut(v[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(y),k=this._calculateBarIndexPixels(y,f),C=(v._stacks||{})[c.axis],_={horizontal:h,base:b.base,enableBorderRadius:!C||ay(v._custom)||i===C._top||i===C._bottom,x:h?b.head:k.center,y:h?k.center:b.head,height:h?k.size:Math.abs(b.size),width:h?Math.abs(b.size):k.size};g&&(_.options=m||this.resolveDataElementOptions(y,e[y].active?"active":s));const T=_.options||e[y].options;$oe(_,T,C,i),Uoe(_,T,f.ratio),this.updateElement(e[y],y,_,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),o=r.options.stacked,i=[],c=this._cachedMeta.controller.getParsed(n),u=c&&c[r.axis],h=f=>{const m=f._parsed.find(y=>y[r.axis]===u),g=m&&m[f.vScale.axis];if(ut(g)||isNaN(g))return!0};for(const f of s)if(!(n!==void 0&&h(f))&&((o===!1||i.indexOf(f.stack)===-1||o===void 0&&f.stack===void 0)&&i.push(f.stack),f.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Xe(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),o=n!==void 0?s.indexOf(n):-1;return o===-1?s.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let o,i;for(o=0,i=n.data.length;o<i;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const c=e.barThickness;return{min:c||Roe(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:o,minBarLength:i}}=this,c=o||0,u=this.getParsed(e),h=u._custom,f=ay(h);let m=u[n.axis],g=0,y=r?this.applyStack(n,u,r):m,v,b;y!==m&&(g=y-m,y=m),f&&(m=h.barStart,y=h.barEnd-h.barStart,m!==0&&Is(m)!==Is(h.barEnd)&&(g=0),g+=m);const k=!ut(o)&&!f?o:g;let C=n.getPixelForValue(k);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(g+y):v=C,b=v-C,Math.abs(b)<i){b=Boe(b,n,c)*i,m===c&&(C-=b/2);const _=n.getPixelForDecimal(0),T=n.getPixelForDecimal(1),N=Math.min(_,T),j=Math.max(_,T);C=Math.max(Math.min(C,j),N),v=C+b,r&&!f&&(u._stacks[n.axis]._visualValues[s]=n.getValueForPixel(v)-n.getValueForPixel(C))}if(C===n.getPixelForValue(c)){const _=Is(b)*n.getLineWidthForValue(c)/2;C+=_,b-=_}return{size:b,base:C,head:v,center:v+b/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,o=s.skipNull,i=Xe(s.maxBarThickness,1/0);let c,u;const h=this._getAxisCount();if(n.grouped){const f=o?this._getStackCount(e):n.stackCount,m=s.barThickness==="flex"?Doe(e,n,s,f*h):Ioe(e,n,s,f*h),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Xe(g,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+y;c=m.start+m.chunk*v+m.chunk/2,u=Math.min(i,m.chunk*m.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(i,n.min*n.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let o=0;for(;o<s;++o)this.getParsed(o)[n.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}function Woe(t,e,n){let r=1,s=1,o=0,i=0;if(e<Dt){const c=t,u=c+e,h=Math.cos(c),f=Math.sin(c),m=Math.cos(u),g=Math.sin(u),y=(T,N,j)=>tu(T,c,u,!0)?1:Math.max(N,N*n,j,j*n),v=(T,N,j)=>tu(T,c,u,!0)?-1:Math.min(N,N*n,j,j*n),b=y(0,h,m),k=y(sn,f,g),C=v(mt,h,m),_=v(mt+sn,f,g);r=(b-C)/2,s=(k-_)/2,o=-(b+C)/2,i=-(k+_)/2}return{ratioX:r,ratioY:s,offsetX:o,offsetY:i}}class Voe extends mg{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:s,color:o,useBorderRadius:i,borderRadius:c}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,h)=>{const m=e.getDatasetMeta(0).controller.getStyle(h);return{text:u,fillStyle:m.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(h),lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:m.borderWidth,strokeStyle:m.borderColor,textAlign:s,pointStyle:r,borderRadius:i&&(c||m.borderRadius),index:h}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let o=u=>+r[u];if(at(r[e])){const{key:u="value"}=this._parsing;o=h=>+ja(r[h],u)}let i,c;for(i=e,c=e+n;i<c;++i)s._parsed[i]=o(i)}}_getRotation(){return fo(this.options.rotation-90)}_getCircumference(){return fo(this.options.circumference)}_getRotationExtents(){let e=Dt,n=-Dt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),i=s._getCircumference();e=Math.min(e,o),n=Math.max(n,o+i)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,o=s.data,i=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-i)/2,0),u=Math.min(Kre(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:f,rotation:m}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:v,offsetY:b}=Woe(m,f,u),k=(r.width-i)/g,C=(r.height-i)/y,_=Math.max(Math.min(k,C)/2,0),T=g4(this.options.radius,_),N=Math.max(T*u,0),j=(T-N)/this._getVisibleDatasetWeightTotal();this.offsetX=v*T,this.offsetY=b*T,s.total=this.calculateTotal(),this.outerRadius=T-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*h,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,o=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/Dt)}updateElements(e,n,r,s){const o=s==="reset",i=this.chart,c=i.chartArea,h=i.options.animation,f=(c.left+c.right)/2,m=(c.top+c.bottom)/2,g=o&&h.animateScale,y=g?0:this.innerRadius,v=g?0:this.outerRadius,{sharedOptions:b,includeOptions:k}=this._getSharedOptions(n,s);let C=this._getRotation(),_;for(_=0;_<n;++_)C+=this._circumference(_,o);for(_=n;_<n+r;++_){const T=this._circumference(_,o),N=e[_],j={x:f+this.offsetX,y:m+this.offsetY,startAngle:C,endAngle:C+T,circumference:T,outerRadius:v,innerRadius:y};k&&(j.options=b||this.resolveDataElementOptions(_,N.active?"active":s)),C+=T,this.updateElement(N,_,j,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const o=e._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Dt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=vk(n._parsed[e],r.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,o,i,c,u;if(!e){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){i=r.getDatasetMeta(s),e=i.data,c=i.controller;break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)u=c.resolveDataElementOptions(s),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Xe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class qoe extends mg{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=n,i=this.chart._animationsDisabled;let{start:c,count:u}=pse(n,s,i);this._drawStart=c,this._drawCount=u,mse(n)&&(c=0,u=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:h},e),this.updateElements(s,c,u,e)}updateElements(e,n,r,s){const o=s==="reset",{iScale:i,vScale:c,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(n,s),g=i.axis,y=c.axis,{spanGaps:v,segment:b}=this.options,k=eu(v)?v:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||s==="none",_=n+r,T=e.length;let N=n>0&&this.getParsed(n-1);for(let j=0;j<T;++j){const P=e[j],I=C?P:{};if(j<n||j>=_){I.skip=!0;continue}const O=this.getParsed(j),L=ut(O[y]),$=I[g]=i.getPixelForValue(O[g],j),V=I[y]=o||L?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,O,u):O[y],j);I.skip=isNaN($)||isNaN(V)||L,I.stop=j>0&&Math.abs(O[g]-N[g])>k,b&&(I.parsed=O,I.raw=h.data[j]),m&&(I.options=f||this.resolveDataElementOptions(j,P.active?"active":s)),C||this.updateElement(P,j,I,s),N=O}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const o=s[0].size(this.resolveDataElementOptions(0)),i=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Yoe extends Voe{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Zi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Nk{static override(e){Object.assign(Nk.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Zi()}parse(){return Zi()}format(){return Zi()}add(){return Zi()}diff(){return Zi()}startOf(){return Zi()}endOf(){return Zi()}}var Koe={_date:Nk};function Xoe(t,e,n,r){const{controller:s,data:o,_sorted:i}=t,c=s._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&i&&o.length){const h=c._reversePixels?cse:ia;if(r){if(s._sharedOptions){const f=o[0],m=typeof f.getRange=="function"&&f.getRange(e);if(m){const g=h(o,e,n-m),y=h(o,e,n+m);return{lo:g.lo,hi:y.hi}}}}else{const f=h(o,e,n);if(u){const{vScale:m}=s._cachedMeta,{_parsed:g}=t,y=g.slice(0,f.lo+1).reverse().findIndex(b=>!ut(b[m.axis]));f.lo-=Math.max(0,y);const v=g.slice(f.hi).findIndex(b=>!ut(b[m.axis]));f.hi+=Math.max(0,v)}return f}}return{lo:0,hi:o.length-1}}function gg(t,e,n,r,s){const o=t.getSortedVisibleDatasetMetas(),i=n[e];for(let c=0,u=o.length;c<u;++c){const{index:h,data:f}=o[c],{lo:m,hi:g}=Xoe(o[c],e,i,s);for(let y=m;y<=g;++y){const v=f[y];v.skip||r(v,h,y)}}}function Goe(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const o=e?Math.abs(r.x-s.x):0,i=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(i,2))}}function ly(t,e,n,r,s){const o=[];return!s&&!t.isPointInArea(e)||gg(t,n,e,function(c,u,h){!s&&!nu(c,t.chartArea,0)||c.inRange(e.x,e.y,r)&&o.push({element:c,datasetIndex:u,index:h})},!0),o}function Joe(t,e,n,r){let s=[];function o(i,c,u){const{startAngle:h,endAngle:f}=i.getProps(["startAngle","endAngle"],r),{angle:m}=y4(i,{x:e.x,y:e.y});tu(m,h,f)&&s.push({element:i,datasetIndex:c,index:u})}return gg(t,n,e,o),s}function Qoe(t,e,n,r,s,o){let i=[];const c=Goe(n);let u=Number.POSITIVE_INFINITY;function h(f,m,g){const y=f.inRange(e.x,e.y,s);if(r&&!y)return;const v=f.getCenterPoint(s);if(!(!!o||t.isPointInArea(v))&&!y)return;const k=c(e,v);k<u?(i=[{element:f,datasetIndex:m,index:g}],u=k):k===u&&i.push({element:f,datasetIndex:m,index:g})}return gg(t,n,e,h),i}function cy(t,e,n,r,s,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!r?Joe(t,e,n,s):Qoe(t,e,n,r,s,o)}function vN(t,e,n,r,s){const o=[],i=n==="x"?"inXRange":"inYRange";let c=!1;return gg(t,n,e,(u,h,f)=>{u[i]&&u[i](e[n],s)&&(o.push({element:u,datasetIndex:h,index:f}),c=c||u.inRange(e.x,e.y,s))}),r&&!c?[]:o}var Zoe={modes:{index(t,e,n,r){const s=ta(e,t),o=n.axis||"x",i=n.includeInvisible||!1,c=n.intersect?ly(t,s,o,r,i):cy(t,s,o,!1,r,i),u=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const f=c[0].index,m=h.data[f];m&&!m.skip&&u.push({element:m,datasetIndex:h.index,index:f})}),u):[]},dataset(t,e,n,r){const s=ta(e,t),o=n.axis||"xy",i=n.includeInvisible||!1;let c=n.intersect?ly(t,s,o,r,i):cy(t,s,o,!1,r,i);if(c.length>0){const u=c[0].datasetIndex,h=t.getDatasetMeta(u).data;c=[];for(let f=0;f<h.length;++f)c.push({element:h[f],datasetIndex:u,index:f})}return c},point(t,e,n,r){const s=ta(e,t),o=n.axis||"xy",i=n.includeInvisible||!1;return ly(t,s,o,r,i)},nearest(t,e,n,r){const s=ta(e,t),o=n.axis||"xy",i=n.includeInvisible||!1;return cy(t,s,o,n.intersect,r,i)},x(t,e,n,r){const s=ta(e,t);return vN(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=ta(e,t);return vN(t,s,"y",n.intersect,r)}}};const B4=["left","top","right","bottom"];function ud(t,e){return t.filter(n=>n.pos===e)}function yN(t,e){return t.filter(n=>B4.indexOf(n.pos)===-1&&n.box.axis===e)}function hd(t,e){return t.sort((n,r)=>{const s=e?r:n,o=e?n:r;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function eie(t){const e=[];let n,r,s,o,i,c;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:o,options:{stack:i,stackWeight:c=1}}=s,e.push({index:n,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:i&&o+i,stackWeight:c});return e}function tie(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:o}=n;if(!r||!B4.includes(s))continue;const i=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=o}return e}function nie(t,e){const n=tie(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let o,i,c;for(o=0,i=t.length;o<i;++o){c=t[o];const{fullSize:u}=c.box,h=n[c.stack],f=h&&c.stackWeight/h.weight;c.horizontal?(c.width=f?f*r:u&&e.availableWidth,c.height=s):(c.width=r,c.height=f?f*s:u&&e.availableHeight)}return n}function rie(t){const e=eie(t),n=hd(e.filter(h=>h.box.fullSize),!0),r=hd(ud(e,"left"),!0),s=hd(ud(e,"right")),o=hd(ud(e,"top"),!0),i=hd(ud(e,"bottom")),c=yN(e,"x"),u=yN(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:s.concat(u).concat(i).concat(c),chartArea:ud(e,"chartArea"),vertical:r.concat(s).concat(u),horizontal:o.concat(i).concat(c)}}function bN(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function F4(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function sie(t,e,n,r){const{pos:s,box:o}=n,i=t.maxPadding;if(!at(s)){n.size&&(t[s]-=n.size);const m=r[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?o.height:o.width),n.size=m.size/m.count,t[s]+=n.size}o.getPadding&&F4(i,o.getPadding());const c=Math.max(0,e.outerWidth-bN(i,t,"left","right")),u=Math.max(0,e.outerHeight-bN(i,t,"top","bottom")),h=c!==t.w,f=u!==t.h;return t.w=c,t.h=u,n.horizontal?{same:h,other:f}:{same:f,other:h}}function oie(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function iie(t,e){const n=e.maxPadding;function r(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(i=>{o[i]=Math.max(e[i],n[i])}),o}return r(t?["left","right"]:["top","bottom"])}function kd(t,e,n,r){const s=[];let o,i,c,u,h,f;for(o=0,i=t.length,h=0;o<i;++o){c=t[o],u=c.box,u.update(c.width||e.w,c.height||e.h,iie(c.horizontal,e));const{same:m,other:g}=sie(e,n,c,r);h|=m&&s.length,f=f||g,u.fullSize||s.push(c)}return h&&kd(s,e,n,r)||f}function xf(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function wN(t,e,n,r){const s=n.padding;let{x:o,y:i}=e;for(const c of t){const u=c.box,h=r[c.stack]||{placed:0,weight:1},f=c.stackWeight/h.weight||1;if(c.horizontal){const m=e.w*f,g=h.size||u.height;Zd(h.start)&&(i=h.start),u.fullSize?xf(u,s.left,i,n.outerWidth-s.right-s.left,g):xf(u,e.left+h.placed,i,m,g),h.start=i,h.placed+=m,i=u.bottom}else{const m=e.h*f,g=h.size||u.width;Zd(h.start)&&(o=h.start),u.fullSize?xf(u,o,s.top,g,n.outerHeight-s.bottom-s.top):xf(u,o,e.top+h.placed,g,m),h.start=o,h.placed+=m,o=u.right}}e.x=o,e.y=i}var Lr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Ur(t.options.layout.padding),o=Math.max(e-s.width,0),i=Math.max(n-s.height,0),c=rie(t.boxes),u=c.vertical,h=c.horizontal;pt(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const f=u.reduce((b,k)=>k.box.options&&k.box.options.display===!1?b:b+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:o,availableHeight:i,vBoxMaxWidth:o/2/f,hBoxMaxHeight:i/2}),g=Object.assign({},s);F4(g,Ur(r));const y=Object.assign({maxPadding:g,w:o,h:i,x:s.left,y:s.top},s),v=nie(u.concat(h),m);kd(c.fullSize,y,m,v),kd(u,y,m,v),kd(h,y,m,v)&&kd(u,y,m,v),oie(y),wN(c.leftAndTop,y,m,v),y.x+=y.w,y.y+=y.h,wN(c.rightAndBottom,y,m,v),t.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},pt(c.chartArea,b=>{const k=b.box;Object.assign(k,t.chartArea),k.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class $4{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class aie extends $4{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Qf="$chartjs",lie={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},kN=t=>t===null||t==="";function cie(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Qf]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",kN(s)){const o=oN(t,"width");o!==void 0&&(t.width=o)}if(kN(r))if(t.style.height==="")t.height=t.width/(e||2);else{const o=oN(t,"height");o!==void 0&&(t.height=o)}return t}const z4=soe?{passive:!0}:!1;function die(t,e,n){t&&t.addEventListener(e,n,z4)}function uie(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,z4)}function hie(t,e){const n=lie[t.type]||t.type,{x:r,y:s}=ta(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Qp(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function fie(t,e,n){const r=t.canvas,s=new MutationObserver(o=>{let i=!1;for(const c of o)i=i||Qp(c.addedNodes,r),i=i&&!Qp(c.removedNodes,r);i&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function pie(t,e,n){const r=t.canvas,s=new MutationObserver(o=>{let i=!1;for(const c of o)i=i||Qp(c.removedNodes,r),i=i&&!Qp(c.addedNodes,r);i&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const su=new Map;let SN=0;function U4(){const t=window.devicePixelRatio;t!==SN&&(SN=t,su.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function mie(t,e){su.size||window.addEventListener("resize",U4),su.set(t,e)}function gie(t){su.delete(t),su.size||window.removeEventListener("resize",U4)}function xie(t,e,n){const r=t.canvas,s=r&&Ek(r);if(!s)return;const o=S4((c,u)=>{const h=s.clientWidth;n(c,u),h<s.clientWidth&&n()},window),i=new ResizeObserver(c=>{const u=c[0],h=u.contentRect.width,f=u.contentRect.height;h===0&&f===0||o(h,f)});return i.observe(s),mie(t,o),i}function dy(t,e,n){n&&n.disconnect(),e==="resize"&&gie(t)}function vie(t,e,n){const r=t.canvas,s=S4(o=>{t.ctx!==null&&n(hie(o,t))},t);return die(r,e,s),s}class yie extends $4{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(cie(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Qf])return!1;const r=n[Qf].initial;["height","width"].forEach(o=>{const i=r[o];ut(i)?n.removeAttribute(o):n.setAttribute(o,i)});const s=r.style||{};return Object.keys(s).forEach(o=>{n.style[o]=s[o]}),n.width=n.width,delete n[Qf],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),i={attach:fie,detach:pie,resize:xie}[n]||vie;s[n]=i(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:dy,detach:dy,resize:dy}[n]||uie)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return roe(e,n,r,s)}isAttached(e){const n=e&&Ek(e);return!!(n&&n.isConnected)}}function bie(t){return!_k()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?aie:yie}let _o=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return eu(this.x)&&eu(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(o=>{s[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),s}};function wie(t,e){const n=t.options.ticks,r=kie(t),s=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?Cie(e):[],i=o.length,c=o[0],u=o[i-1],h=[];if(i>s)return _ie(e,h,o,i/s),h;const f=Sie(o,e,s);if(i>0){let m,g;const y=i>1?Math.round((u-c)/(i-1)):null;for(vf(e,h,f,ut(y)?0:c-y,c),m=0,g=i-1;m<g;m++)vf(e,h,f,o[m],o[m+1]);return vf(e,h,f,u,ut(y)?e.length:u+y),h}return vf(e,h,f),h}function kie(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function Sie(t,e,n){const r=Eie(t),s=e.length/n;if(!r)return Math.max(s,1);const o=nse(r);for(let i=0,c=o.length-1;i<c;i++){const u=o[i];if(u>s)return u}return Math.max(s,1)}function Cie(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function _ie(t,e,n,r){let s=0,o=n[0],i;for(r=Math.ceil(r),i=0;i<t.length;i++)i===o&&(e.push(t[i]),s++,o=n[s*r])}function vf(t,e,n,r,s){const o=Xe(r,0),i=Math.min(Xe(s,t.length),t.length);let c=0,u,h,f;for(n=Math.ceil(n),s&&(u=s-r,n=u/Math.floor(u/n)),f=o;f<0;)c++,f=Math.round(o+c*n);for(h=Math.max(o,0);h<i;h++)h===f&&(e.push(t[h]),c++,f=Math.round(o+c*n))}function Eie(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Nie=t=>t==="left"?"right":t==="right"?"left":t,CN=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,_N=(t,e)=>Math.min(e||t,t);function EN(t,e){const n=[],r=t.length/e,s=t.length;let o=0;for(;o<s;o+=r)n.push(t[Math.floor(o)]);return n}function jie(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),o=t._startPixel,i=t._endPixel,c=1e-6;let u=t.getPixelForTick(s),h;if(!(n&&(r===1?h=Math.max(u-o,i-u):e===0?h=(t.getPixelForTick(1)-u)/2:h=(u-t.getPixelForTick(s-1))/2,u+=s<e?h:-h,u<o-c||u>i+c)))return u}function Tie(t,e){pt(t,n=>{const r=n.gc,s=r.length/2;let o;if(s>e){for(o=0;o<s;++o)delete n.data[r[o]];r.splice(0,s)}})}function fd(t){return t.drawTicks?t.tickLength:0}function NN(t,e){if(!t.display)return 0;const n=On(t.font,e),r=Ur(t.padding);return(nn(t.text)?t.text.length:1)*n.lineHeight+r.height}function Mie(t,e){return Fa(t,{scale:e,type:"scale"})}function Oie(t,e,n){return Fa(t,{tick:n,index:e,type:"tick"})}function Pie(t,e,n){let r=gk(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Nie(r)),r}function Aie(t,e,n,r){const{top:s,left:o,bottom:i,right:c,chart:u}=t,{chartArea:h,scales:f}=u;let m=0,g,y,v;const b=i-s,k=c-o;if(t.isHorizontal()){if(y=Nn(r,o,c),at(n)){const C=Object.keys(n)[0],_=n[C];v=f[C].getPixelForValue(_)+b-e}else n==="center"?v=(h.bottom+h.top)/2+b-e:v=CN(t,n,e);g=c-o}else{if(at(n)){const C=Object.keys(n)[0],_=n[C];y=f[C].getPixelForValue(_)-k+e}else n==="center"?y=(h.left+h.right)/2-k+e:y=CN(t,n,e);v=Nn(r,i,s),m=n==="left"?-sn:sn}return{titleX:y,titleY:v,maxWidth:g,rotation:m}}class gc extends _o{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=ws(e,Number.POSITIVE_INFINITY),n=ws(n,Number.NEGATIVE_INFINITY),r=ws(r,Number.POSITIVE_INFINITY),s=ws(s,Number.NEGATIVE_INFINITY),{min:ws(e,r),max:ws(n,s),minDefined:zr(e),maxDefined:zr(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:o}=this.getUserBounds(),i;if(s&&o)return{min:n,max:r};const c=this.getMatchingVisibleMetas();for(let u=0,h=c.length;u<h;++u)i=c[u].controller.getMinMax(this,e),s||(n=Math.min(n,i.min)),o||(r=Math.max(r,i.max));return n=o&&n>r?r:n,r=s&&n>r?n:r,{min:ws(n,ws(r,n)),max:ws(r,ws(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ct(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:o,ticks:i}=this.options,c=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ise(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?EN(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=wie(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ct(this.options.afterUpdate,[this])}beforeSetDimensions(){Ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ct(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ct(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,o;for(r=0,s=e.length;r<s;r++)o=e[r],o.label=Ct(n.callback,[o.value,r,e],this)}afterTickToLabelConversion(){Ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=_N(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,o=n.maxRotation;let i=s,c,u,h;if(!this._isVisible()||!n.display||s>=o||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),m=f.widest.width,g=f.highest.height,y=Mn(this.chart.width-m,0,this.maxWidth);c=e.offset?this.maxWidth/r:y/(r-1),m+6>c&&(c=y/(r-(e.offset?.5:1)),u=this.maxHeight-fd(e.grid)-n.padding-NN(e.title,this.chart.options.font),h=Math.sqrt(m*m+g*g),i=ise(Math.min(Math.asin(Mn((f.highest.height+6)/c,-1,1)),Math.asin(Mn(u/h,-1,1))-Math.asin(Mn(g/h,-1,1)))),i=Math.max(s,Math.min(o,i))),this.labelRotation=i}afterCalculateLabelRotation(){Ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ct(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:o}}=this,i=this._isVisible(),c=this.isHorizontal();if(i){const u=NN(s,n.options.font);if(c?(e.width=this.maxWidth,e.height=fd(o)+u):(e.height=this.maxHeight,e.width=fd(o)+u),r.display&&this.ticks.length){const{first:h,last:f,widest:m,highest:g}=this._getLabelSizes(),y=r.padding*2,v=fo(this.labelRotation),b=Math.cos(v),k=Math.sin(v);if(c){const C=r.mirror?0:k*m.width+b*g.height;e.height=Math.min(this.maxHeight,e.height+C+y)}else{const C=r.mirror?0:b*m.width+k*g.height;e.width=Math.min(this.maxWidth,e.width+C+y)}this._calculatePadding(h,f,k,b)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:o,padding:i},position:c}=this.options,u=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;u?h?(g=s*e.width,y=r*n.height):(g=r*e.height,y=s*n.width):o==="start"?y=n.width:o==="end"?g=e.width:o!=="inner"&&(g=e.width/2,y=n.width/2),this.paddingLeft=Math.max((g-f+i)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-m+i)*this.width/(this.width-m),0)}else{let f=n.height/2,m=e.height/2;o==="start"?(f=0,m=e.height):o==="end"&&(f=n.height,m=0),this.paddingTop=f+i,this.paddingBottom=m+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ct(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ut(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=EN(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:o}=this,i=[],c=[],u=Math.floor(n/_N(n,r));let h=0,f=0,m,g,y,v,b,k,C,_,T,N,j;for(m=0;m<n;m+=u){if(v=e[m].label,b=this._resolveTickFontOptions(m),s.font=k=b.string,C=o[k]=o[k]||{data:{},gc:[]},_=b.lineHeight,T=N=0,!ut(v)&&!nn(v))T=eN(s,C.data,C.gc,T,v),N=_;else if(nn(v))for(g=0,y=v.length;g<y;++g)j=v[g],!ut(j)&&!nn(j)&&(T=eN(s,C.data,C.gc,T,j),N+=_);i.push(T),c.push(N),h=Math.max(T,h),f=Math.max(N,f)}Tie(o,n);const P=i.indexOf(h),I=c.indexOf(f),O=L=>({width:i[L]||0,height:c[L]||0});return{first:O(0),last:O(n-1),widest:O(P),highest:O(I),widths:i,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return lse(this._alignToPixels?Qi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Oie(this.getContext(),e,r))}return this.$context||(this.$context=Mie(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=fo(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),o=this._getLabelSizes(),i=e.autoSkipPadding||0,c=o?o.widest.width+i:0,u=o?o.highest.height+i:0;return this.isHorizontal()?u*r>c*s?c/r:u/s:u*s<c*r?u/r:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:o,position:i,border:c}=s,u=o.offset,h=this.isHorizontal(),m=this.ticks.length+(u?1:0),g=fd(o),y=[],v=c.setContext(this.getContext()),b=v.display?v.width:0,k=b/2,C=function(W){return Qi(r,W,b)};let _,T,N,j,P,I,O,L,$,V,Q,K;if(i==="top")_=C(this.bottom),I=this.bottom-g,L=_-k,V=C(e.top)+k,K=e.bottom;else if(i==="bottom")_=C(this.top),V=e.top,K=C(e.bottom)-k,I=_+k,L=this.top+g;else if(i==="left")_=C(this.right),P=this.right-g,O=_-k,$=C(e.left)+k,Q=e.right;else if(i==="right")_=C(this.left),$=e.left,Q=C(e.right)-k,P=_+k,O=this.left+g;else if(n==="x"){if(i==="center")_=C((e.top+e.bottom)/2+.5);else if(at(i)){const W=Object.keys(i)[0],U=i[W];_=C(this.chart.scales[W].getPixelForValue(U))}V=e.top,K=e.bottom,I=_+k,L=I+g}else if(n==="y"){if(i==="center")_=C((e.left+e.right)/2);else if(at(i)){const W=Object.keys(i)[0],U=i[W];_=C(this.chart.scales[W].getPixelForValue(U))}P=_-k,O=P-g,$=e.left,Q=e.right}const se=Xe(s.ticks.maxTicksLimit,m),ne=Math.max(1,Math.ceil(m/se));for(T=0;T<m;T+=ne){const W=this.getContext(T),U=o.setContext(W),R=c.setContext(W),D=U.lineWidth,Z=U.color,M=R.dash||[],B=R.dashOffset,q=U.tickWidth,ee=U.tickColor,ie=U.tickBorderDash||[],ce=U.tickBorderDashOffset;N=jie(this,T,u),N!==void 0&&(j=Qi(r,N,D),h?P=O=$=Q=j:I=L=V=K=j,y.push({tx1:P,ty1:I,tx2:O,ty2:L,x1:$,y1:V,x2:Q,y2:K,width:D,color:Z,borderDash:M,borderDashOffset:B,tickWidth:q,tickColor:ee,tickBorderDash:ie,tickBorderDashOffset:ce}))}return this._ticksLength=m,this._borderValue=_,y}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:o}=r,i=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:h,padding:f,mirror:m}=o,g=fd(r.grid),y=g+f,v=m?-f:y,b=-fo(this.labelRotation),k=[];let C,_,T,N,j,P,I,O,L,$,V,Q,K="middle";if(s==="top")P=this.bottom-v,I=this._getXAxisLabelAlignment();else if(s==="bottom")P=this.top+v,I=this._getXAxisLabelAlignment();else if(s==="left"){const ne=this._getYAxisLabelAlignment(g);I=ne.textAlign,j=ne.x}else if(s==="right"){const ne=this._getYAxisLabelAlignment(g);I=ne.textAlign,j=ne.x}else if(n==="x"){if(s==="center")P=(e.top+e.bottom)/2+y;else if(at(s)){const ne=Object.keys(s)[0],W=s[ne];P=this.chart.scales[ne].getPixelForValue(W)+y}I=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")j=(e.left+e.right)/2-y;else if(at(s)){const ne=Object.keys(s)[0],W=s[ne];j=this.chart.scales[ne].getPixelForValue(W)}I=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?K="top":u==="end"&&(K="bottom"));const se=this._getLabelSizes();for(C=0,_=c.length;C<_;++C){T=c[C],N=T.label;const ne=o.setContext(this.getContext(C));O=this.getPixelForTick(C)+o.labelOffset,L=this._resolveTickFontOptions(C),$=L.lineHeight,V=nn(N)?N.length:1;const W=V/2,U=ne.color,R=ne.textStrokeColor,D=ne.textStrokeWidth;let Z=I;i?(j=O,I==="inner"&&(C===_-1?Z=this.options.reverse?"left":"right":C===0?Z=this.options.reverse?"right":"left":Z="center"),s==="top"?h==="near"||b!==0?Q=-V*$+$/2:h==="center"?Q=-se.highest.height/2-W*$+$:Q=-se.highest.height+$/2:h==="near"||b!==0?Q=$/2:h==="center"?Q=se.highest.height/2-W*$:Q=se.highest.height-V*$,m&&(Q*=-1),b!==0&&!ne.showLabelBackdrop&&(j+=$/2*Math.sin(b))):(P=O,Q=(1-V)*$/2);let M;if(ne.showLabelBackdrop){const B=Ur(ne.backdropPadding),q=se.heights[C],ee=se.widths[C];let ie=Q-B.top,ce=0-B.left;switch(K){case"middle":ie-=q/2;break;case"bottom":ie-=q;break}switch(I){case"center":ce-=ee/2;break;case"right":ce-=ee;break;case"inner":C===_-1?ce-=ee:C>0&&(ce-=ee/2);break}M={left:ce,top:ie,width:ee+B.width,height:q+B.height,color:ne.backdropColor}}k.push({label:N,font:L,textOffset:Q,options:{rotation:b,color:U,strokeColor:R,strokeWidth:D,textAlign:Z,textBaseline:K,translation:[j,P],backdrop:M}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-fo(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:o}}=this.options,i=this._getLabelSizes(),c=e+o,u=i.widest.width;let h,f;return n==="left"?s?(f=this.right+o,r==="near"?h="left":r==="center"?(h="center",f+=u/2):(h="right",f+=u)):(f=this.right-c,r==="near"?h="right":r==="center"?(h="center",f-=u/2):(h="left",f=this.left)):n==="right"?s?(f=this.left+o,r==="near"?h="right":r==="center"?(h="center",f-=u/2):(h="left",f-=u)):(f=this.left+c,r==="near"?h="left":r==="center"?(h="center",f+=u/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:o,height:i}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,o,i),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(o=>o.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,i;const c=(u,h,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(h.x,h.y),r.stroke(),r.restore())};if(n.display)for(o=0,i=s.length;o<i;++o){const u=s[o];n.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,o=r.setContext(this.getContext()),i=r.display?o.width:0;if(!i)return;const c=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,f,m,g;this.isHorizontal()?(h=Qi(e,this.left,i)-i/2,f=Qi(e,this.right,c)+c/2,m=g=u):(m=Qi(e,this.top,i)-i/2,g=Qi(e,this.bottom,c)+c/2,h=f=u),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(h,m),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&yk(r,s);const o=this.getLabelItems(e);for(const i of o){const c=i.options,u=i.font,h=i.label,f=i.textOffset;ru(r,h,0,f,u,c)}s&&bk(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const o=On(r.font),i=Ur(r.padding),c=r.align;let u=o.lineHeight/2;n==="bottom"||n==="center"||at(n)?(u+=i.bottom,nn(r.text)&&(u+=o.lineHeight*(r.text.length-1))):u+=i.top;const{titleX:h,titleY:f,maxWidth:m,rotation:g}=Aie(this,u,n,c);ru(e,r.text,0,0,o,{color:r.color,maxWidth:m,rotation:g,textAlign:Pie(c,n,s),textBaseline:"middle",translation:[h,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Xe(e.grid&&e.grid.z,-1),s=Xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==gc.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let o,i;for(o=0,i=n.length;o<i;++o){const c=n[o];c[r]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return On(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class yf{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Die(n)&&(r=this.register(n));const s=this.items,o=e.id,i=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in s||(s[o]=e,Rie(e,i,r),this.override&&zt.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in zt[s]&&(delete zt[s][r],this.override&&delete Ta[r])}}function Rie(t,e,n){const r=Qd(Object.create(null),[n?zt.get(n):{},zt.get(e),t.defaults]);zt.set(e,r),t.defaultRoutes&&Iie(e,t.defaultRoutes),t.descriptors&&zt.describe(e,t.descriptors)}function Iie(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),o=[t].concat(r).join("."),i=e[n].split("."),c=i.pop(),u=i.join(".");zt.route(o,s,u,c)})}function Die(t){return"id"in t&&"defaults"in t}class Lie{constructor(){this.controllers=new yf(mg,"datasets",!0),this.elements=new yf(_o,"elements"),this.plugins=new yf(Object,"plugins"),this.scales=new yf(gc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const o=r||this._getRegistryForType(s);r||o.isForType(s)||o===this.plugins&&s.id?this._exec(e,o,s):pt(s,i=>{const c=r||this._getRegistryForType(i);this._exec(e,c,i)})})}_exec(e,n,r){const s=pk(e);Ct(r["before"+s],[],r),n[e](r),Ct(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var _s=new Lie;class Bie{constructor(){this._init=void 0}notify(e,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=s?this._descriptors(e).filter(s):this._descriptors(e),i=this._notify(o,e,n,r);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),i}_notify(e,n,r,s){s=s||{};for(const o of e){const i=o.plugin,c=i[r],u=[n,s,o.options];if(Ct(c,u,i)===!1&&s.cancelable)return!1}return!0}invalidate(){ut(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Xe(r.options&&r.options.plugins,{}),o=Fie(r);return s===!1&&!n?[]:zie(e,o,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(o,i)=>o.filter(c=>!i.some(u=>c.plugin.id===u.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function Fie(t){const e={},n=[],r=Object.keys(_s.plugins.items);for(let o=0;o<r.length;o++)n.push(_s.getPlugin(r[o]));const s=t.plugins||[];for(let o=0;o<s.length;o++){const i=s[o];n.indexOf(i)===-1&&(n.push(i),e[i.id]=!0)}return{plugins:n,localIds:e}}function $ie(t,e){return!e&&t===!1?null:t===!0?{}:t}function zie(t,{plugins:e,localIds:n},r,s){const o=[],i=t.getContext();for(const c of e){const u=c.id,h=$ie(r[u],s);h!==null&&o.push({plugin:c,options:Uie(t.config,{plugin:c,local:n[u]},h,i)})}return o}function Uie(t,{plugin:e,local:n},r,s){const o=t.pluginScopeKeys(e),i=t.getOptionScopes(r,o);return n&&e.defaults&&i.push(e.defaults),t.createResolver(i,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function v0(t,e){const n=zt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Hie(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Wie(t,e){return t===e?"_index_":"_value_"}function jN(t){if(t==="x"||t==="y"||t==="r")return t}function Vie(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function y0(t,...e){if(jN(t))return t;for(const n of e){const r=n.axis||Vie(n.position)||t.length>1&&jN(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function TN(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function qie(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return TN(t,"x",n[0])||TN(t,"y",n[0])}return{}}function Yie(t,e){const n=Ta[t.type]||{scales:{}},r=e.scales||{},s=v0(t.type,e),o=Object.create(null);return Object.keys(r).forEach(i=>{const c=r[i];if(!at(c))return console.error(`Invalid scale configuration for scale: ${i}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const u=y0(i,c,qie(i,t),zt.scales[c.type]),h=Wie(u,s),f=n.scales||{};o[i]=jd(Object.create(null),[{axis:u},c,f[u],f[h]])}),t.data.datasets.forEach(i=>{const c=i.type||t.type,u=i.indexAxis||v0(c,e),f=(Ta[c]||{}).scales||{};Object.keys(f).forEach(m=>{const g=Hie(m,u),y=i[g+"AxisID"]||g;o[y]=o[y]||Object.create(null),jd(o[y],[{axis:g},r[y],f[m]])})}),Object.keys(o).forEach(i=>{const c=o[i];jd(c,[zt.scales[c.type],zt.scale])}),o}function H4(t){const e=t.options||(t.options={});e.plugins=Xe(e.plugins,{}),e.scales=Yie(t,e)}function W4(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Kie(t){return t=t||{},t.data=W4(t.data),H4(t),t}const MN=new Map,V4=new Set;function bf(t,e){let n=MN.get(t);return n||(n=e(),MN.set(t,n),V4.add(n)),n}const pd=(t,e,n)=>{const r=ja(e,n);r!==void 0&&t.add(r)};class Xie{constructor(e){this._config=Kie(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=W4(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),H4(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return bf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return bf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return bf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return bf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:o}=this,i=this._cachedScopes(e,r),c=i.get(n);if(c)return c;const u=new Set;n.forEach(f=>{e&&(u.add(e),f.forEach(m=>pd(u,e,m))),f.forEach(m=>pd(u,s,m)),f.forEach(m=>pd(u,Ta[o]||{},m)),f.forEach(m=>pd(u,zt,m)),f.forEach(m=>pd(u,g0,m))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),V4.has(n)&&i.set(n,h),h}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ta[n]||{},zt.datasets[n]||{},{type:n},zt,g0]}resolveNamedOptions(e,n,r,s=[""]){const o={$shared:!0},{resolver:i,subPrefixes:c}=ON(this._resolverCache,e,s);let u=i;if(Jie(i,n)){o.$shared=!1,r=ji(r)?r():r;const h=this.createResolver(e,r,c);u=Xl(i,r,h)}for(const h of n)o[h]=u[h];return o}createResolver(e,n,r=[""],s){const{resolver:o}=ON(this._resolverCache,e,r);return at(n)?Xl(o,n,void 0,s):o}}function ON(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let o=r.get(s);return o||(o={resolver:kk(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},r.set(s,o)),o}const Gie=t=>at(t)&&Object.getOwnPropertyNames(t).some(e=>ji(t[e]));function Jie(t,e){const{isScriptable:n,isIndexable:r}=N4(t);for(const s of e){const o=n(s),i=r(s),c=(i||o)&&t[s];if(o&&(ji(c)||Gie(c))||i&&nn(c))return!0}return!1}var Qie="4.5.1";const Zie=["top","bottom","left","right","chartArea"];function PN(t,e){return t==="top"||t==="bottom"||Zie.indexOf(t)===-1&&e==="x"}function AN(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function RN(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ct(n&&n.onComplete,[t],e)}function eae(t){const e=t.chart,n=e.options.animation;Ct(n&&n.onProgress,[t],e)}function q4(t){return _k()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Zf={},IN=t=>{const e=q4(t);return Object.values(Zf).filter(n=>n.canvas===e).pop()};function tae(t,e,n){const r=Object.keys(t);for(const s of r){const o=+s;if(o>=e){const i=t[s];delete t[s],(n>0||o>e)&&(t[o+n]=i)}}}function nae(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let xg=class{static defaults=zt;static instances=Zf;static overrides=Ta;static registry=_s;static version=Qie;static getChart=IN;static register(...e){_s.add(...e),DN()}static unregister(...e){_s.remove(...e),DN()}constructor(e,n){const r=this.config=new Xie(n),s=q4(e),o=IN(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const i=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||bie(s)),this.platform.updateConfig(r);const c=this.platform.acquireContext(s,i.aspectRatio),u=c&&c.canvas,h=u&&u.height,f=u&&u.width;if(this.id=Yre(),this.ctx=c,this.canvas=u,this.width=f,this.height=h,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Bie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=hse(m=>this.update(m),i.resizeDelay||0),this._dataChanges=[],Zf[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}io.listen(this,"complete",RN),io.listen(this,"progress",eae),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:o}=this;return ut(e)?n&&o?o:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return _s}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tN(this.canvas,this.ctx),this}stop(){return io.stop(this),this}resize(e,n){io.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(s,e,n,o),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,sN(this,c,!0)&&(this.notifyPlugins("resize",{size:i}),Ct(r.onResize,[this,i],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};pt(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((i,c)=>(i[c]=!1,i),{});let o=[];n&&(o=o.concat(Object.keys(n).map(i=>{const c=n[i],u=y0(i,c),h=u==="r",f=u==="x";return{options:c,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),pt(o,i=>{const c=i.options,u=c.id,h=y0(u,c),f=Xe(c.type,i.dtype);(c.position===void 0||PN(c.position,h)!==PN(i.dposition))&&(c.position=i.dposition),s[u]=!0;let m=null;if(u in r&&r[u].type===f)m=r[u];else{const g=_s.getScale(f);m=new g({id:u,type:f,ctx:this.ctx,chart:this}),r[m.id]=m}m.init(c,e)}),pt(s,(i,c)=>{i||delete r[c]}),pt(r,i=>{Lr.configure(this,i,i.options),Lr.addBox(this,i)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,o)=>s.index-o.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(AN("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const o=n[r];let i=this.getDatasetMeta(r);const c=o.type||this.config.type;if(i.type&&i.type!==c&&(this._destroyDatasetMeta(r),i=this.getDatasetMeta(r)),i.type=c,i.indexAxis=o.indexAxis||v0(c,this.options),i.order=o.order||0,i.index=r,i.label=""+o.label,i.visible=this.isDatasetVisible(r),i.controller)i.controller.updateIndex(r),i.controller.linkScales();else{const u=_s.getController(c),{datasetElementType:h,dataElementType:f}=zt.datasets[c];Object.assign(u,{dataElementType:_s.getElement(f),datasetElementType:h&&_s.getElement(h)}),i.controller=new u(this,r),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){pt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:m}=this.getDatasetMeta(h),g=!s&&o.indexOf(m)===-1;m.buildOrUpdateElements(g),i=Math.max(+m.getMaxOverflow(),i)}i=this._minPadding=r.layout.autoPadding?i:0,this._updateLayout(i),s||pt(o,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(AN("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){pt(this.scales,e=>{Lr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!VE(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:o}of n){const i=r==="_removeElements"?-o:o;tae(e,s,i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=o=>new Set(e.filter(i=>i[0]===o).map((i,c)=>c+","+i.splice(1).join(","))),s=r(0);for(let o=1;o<n;o++)if(!VE(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Lr.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],pt(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ji(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(io.has(this)?this.attached&&!io.running(this)&&io.start(this):(this.draw(),RN({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,o;for(s=0,o=n.length;s<o;++s){const i=n[s];(!e||i.visible)&&r.push(i)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=voe(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&yk(n,s),e.controller.draw(),s&&bk(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return nu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const o=Zoe.modes[n];return typeof o=="function"?o(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Fa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",o=this.getDatasetMeta(e),i=o.controller._resolveAnimations(void 0,s);Zd(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),i.update(o,{visible:r}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),io.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),tN(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Zf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(o,i)=>{n.addEventListener(this,o,i),e[o]=i},s=(o,i,c)=>{o.offsetX=i,o.offsetY=c,this._eventHandler(o)};pt(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(u,h)=>{n.addEventListener(this,u,h),e[u]=h},s=(u,h)=>{e[u]&&(n.removeEventListener(this,u,h),delete e[u])},o=(u,h)=>{this.canvas&&this.resize(u,h)};let i;const c=()=>{s("attach",c),this.attached=!0,this.resize(),r("resize",o),r("detach",i)};i=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",c)},n.isAttached(this.canvas)?c():i()}unbindEvents(){pt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},pt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let o,i,c,u;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){i=e[c];const h=i&&this.getDatasetMeta(i.datasetIndex).controller;h&&h[s+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:o,index:i})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[i],index:i}});!Yp(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,o=(u,h)=>u.filter(f=>!h.some(m=>f.datasetIndex===m.datasetIndex&&f.index===m.index)),i=o(n,e),c=r?e:o(e,n);i.length&&this.updateHoverStyle(i,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=i=>(i.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const o=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:o}=this,i=n,c=this._getActiveElements(e,s,r,i),u=Zre(e),h=nae(e,this._lastEvent,r,u);r&&(this._lastEvent=null,Ct(o.onHover,[e,c,this],this),u&&Ct(o.onClick,[e,c,this],this));const f=!Yp(c,s);return(f||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=h,f}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}};function DN(){return pt(xg.instances,t=>t._plugins.invalidate())}function rae(t,e,n){const{startAngle:r,x:s,y:o,outerRadius:i,innerRadius:c,options:u}=e,{borderWidth:h,borderJoinStyle:f}=u,m=Math.min(h/i,rs(r-n));if(t.beginPath(),t.arc(s,o,i-h/2,r+m/2,n-m/2),c>0){const g=Math.min(h/c,rs(r-n));t.arc(s,o,c+h/2,n-g/2,r+g/2,!0)}else{const g=Math.min(h/2,i*rs(r-n));if(f==="round")t.arc(s,o,g,n-mt/2,r+mt/2,!0);else if(f==="bevel"){const y=2*g*g,v=-y*Math.cos(n+mt/2)+s,b=-y*Math.sin(n+mt/2)+o,k=y*Math.cos(r+mt/2)+s,C=y*Math.sin(r+mt/2)+o;t.lineTo(v,b),t.lineTo(k,C)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function sae(t,e,n){const{startAngle:r,pixelMargin:s,x:o,y:i,outerRadius:c,innerRadius:u}=e;let h=s/c;t.beginPath(),t.arc(o,i,c,r-h,n+h),u>s?(h=s/u,t.arc(o,i,u,n+h,r-h,!0)):t.arc(o,i,s,n+sn,r-sn),t.closePath(),t.clip()}function oae(t){return wk(t,["outerStart","outerEnd","innerStart","innerEnd"])}function iae(t,e,n,r){const s=oae(t.options.borderRadius),o=(n-e)/2,i=Math.min(o,r*e/2),c=u=>{const h=(n-Math.min(o,u))*r/2;return Mn(u,0,Math.min(o,h))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Mn(s.innerStart,0,i),innerEnd:Mn(s.innerEnd,0,i)}}function yl(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Zp(t,e,n,r,s,o){const{x:i,y:c,startAngle:u,pixelMargin:h,innerRadius:f}=e,m=Math.max(e.outerRadius+r+n-h,0),g=f>0?f+r+n+h:0;let y=0;const v=s-u;if(r){const ne=f>0?f-r:0,W=m>0?m-r:0,U=(ne+W)/2,R=U!==0?v*U/(U+r):v;y=(v-R)/2}const b=Math.max(.001,v*m-n/mt)/m,k=(v-b)/2,C=u+k+y,_=s-k-y,{outerStart:T,outerEnd:N,innerStart:j,innerEnd:P}=iae(e,g,m,_-C),I=m-T,O=m-N,L=C+T/I,$=_-N/O,V=g+j,Q=g+P,K=C+j/V,se=_-P/Q;if(t.beginPath(),o){const ne=(L+$)/2;if(t.arc(i,c,m,L,ne),t.arc(i,c,m,ne,$),N>0){const D=yl(O,$,i,c);t.arc(D.x,D.y,N,$,_+sn)}const W=yl(Q,_,i,c);if(t.lineTo(W.x,W.y),P>0){const D=yl(Q,se,i,c);t.arc(D.x,D.y,P,_+sn,se+Math.PI)}const U=(_-P/g+(C+j/g))/2;if(t.arc(i,c,g,_-P/g,U,!0),t.arc(i,c,g,U,C+j/g,!0),j>0){const D=yl(V,K,i,c);t.arc(D.x,D.y,j,K+Math.PI,C-sn)}const R=yl(I,C,i,c);if(t.lineTo(R.x,R.y),T>0){const D=yl(I,L,i,c);t.arc(D.x,D.y,T,C-sn,L)}}else{t.moveTo(i,c);const ne=Math.cos(L)*m+i,W=Math.sin(L)*m+c;t.lineTo(ne,W);const U=Math.cos($)*m+i,R=Math.sin($)*m+c;t.lineTo(U,R)}t.closePath()}function aae(t,e,n,r,s){const{fullCircles:o,startAngle:i,circumference:c}=e;let u=e.endAngle;if(o){Zp(t,e,n,r,u,s);for(let h=0;h<o;++h)t.fill();isNaN(c)||(u=i+(c%Dt||Dt))}return Zp(t,e,n,r,u,s),t.fill(),u}function lae(t,e,n,r,s){const{fullCircles:o,startAngle:i,circumference:c,options:u}=e,{borderWidth:h,borderJoinStyle:f,borderDash:m,borderDashOffset:g,borderRadius:y}=u,v=u.borderAlign==="inner";if(!h)return;t.setLineDash(m||[]),t.lineDashOffset=g,v?(t.lineWidth=h*2,t.lineJoin=f||"round"):(t.lineWidth=h,t.lineJoin=f||"bevel");let b=e.endAngle;if(o){Zp(t,e,n,r,b,s);for(let k=0;k<o;++k)t.stroke();isNaN(c)||(b=i+(c%Dt||Dt))}v&&sae(t,e,b),u.selfJoin&&b-i>=mt&&y===0&&f!=="miter"&&rae(t,e,b),o||(Zp(t,e,n,r,b,s),t.stroke())}class cae extends _o{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.getProps(["x","y"],r),{angle:o,distance:i}=y4(s,{x:e,y:n}),{startAngle:c,endAngle:u,innerRadius:h,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,y=Xe(m,u-c),v=tu(o,c,u)&&c!==u,b=y>=Dt||v,k=ui(i,h+g,f+g);return b&&k}getCenterPoint(e){const{x:n,y:r,startAngle:s,endAngle:o,innerRadius:i,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:h}=this.options,f=(s+o)/2,m=(i+c+h+u)/2;return{x:n+Math.cos(f)*m,y:r+Math.sin(f)*m}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,s=(n.offset||0)/4,o=(n.spacing||0)/2,i=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>Dt?Math.floor(r/Dt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*s,Math.sin(c)*s);const u=1-Math.sin(Math.min(mt,r||0)),h=s*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,aae(e,this,h,o,i),lae(e,this,h,o,i),e.restore()}}function Y4(t,e,n=e){t.lineCap=Xe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Xe(n.borderDash,e.borderDash)),t.lineDashOffset=Xe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Xe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Xe(n.borderWidth,e.borderWidth),t.strokeStyle=Xe(n.borderColor,e.borderColor)}function dae(t,e,n){t.lineTo(n.x,n.y)}function uae(t){return t.stepped?Ese:t.tension||t.cubicInterpolationMode==="monotone"?Nse:dae}function K4(t,e,n={}){const r=t.length,{start:s=0,end:o=r-1}=n,{start:i,end:c}=e,u=Math.max(s,i),h=Math.min(o,c),f=s<i&&o<i||s>c&&o>c;return{count:r,start:u,loop:e.loop,ilen:h<u&&!f?r+h-u:h-u}}function hae(t,e,n,r){const{points:s,options:o}=e,{count:i,start:c,loop:u,ilen:h}=K4(s,n,r),f=uae(o);let{move:m=!0,reverse:g}=r||{},y,v,b;for(y=0;y<=h;++y)v=s[(c+(g?h-y:y))%i],!v.skip&&(m?(t.moveTo(v.x,v.y),m=!1):f(t,b,v,g,o.stepped),b=v);return u&&(v=s[(c+(g?h:0))%i],f(t,b,v,g,o.stepped)),!!u}function fae(t,e,n,r){const s=e.points,{count:o,start:i,ilen:c}=K4(s,n,r),{move:u=!0,reverse:h}=r||{};let f=0,m=0,g,y,v,b,k,C;const _=N=>(i+(h?c-N:N))%o,T=()=>{b!==k&&(t.lineTo(f,k),t.lineTo(f,b),t.lineTo(f,C))};for(u&&(y=s[_(0)],t.moveTo(y.x,y.y)),g=0;g<=c;++g){if(y=s[_(g)],y.skip)continue;const N=y.x,j=y.y,P=N|0;P===v?(j<b?b=j:j>k&&(k=j),f=(m*f+N)/++m):(T(),t.lineTo(N,j),v=P,m=0,b=k=j),C=j}T()}function b0(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?fae:hae}function pae(t){return t.stepped?ooe:t.tension||t.cubicInterpolationMode==="monotone"?ioe:na}function mae(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),Y4(t,e.options),t.stroke(s)}function gae(t,e,n,r){const{segments:s,options:o}=e,i=b0(e);for(const c of s)Y4(t,o,c.style),t.beginPath(),i(t,e,c,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const xae=typeof Path2D=="function";function vae(t,e,n,r){xae&&!e.options.segment?mae(t,e,n,r):gae(t,e,n,r)}class yae extends _o{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;Jse(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=poe(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],o=this.points,i=uoe(this,{property:n,start:s,end:s});if(!i.length)return;const c=[],u=pae(r);let h,f;for(h=0,f=i.length;h<f;++h){const{start:m,end:g}=i[h],y=o[m],v=o[g];if(y===v){c.push(y);continue}const b=Math.abs((s-y[n])/(v[n]-y[n])),k=u(y,v,b,r.stepped);k[n]=e[n],c.push(k)}return c.length===1?c[0]:c}pathSegment(e,n,r){return b0(this)(e,this,n,r)}path(e,n,r){const s=this.segments,o=b0(this);let i=this._loop;n=n||0,r=r||this.points.length-n;for(const c of s)i&=o(e,this,c,{start:n,end:n+r-1});return!!i}draw(e,n,r,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),vae(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function LN(t,e,n,r){const s=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<s.radius+s.hitRadius}class bae extends _o{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.options,{x:o,y:i}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(n-i,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return LN(this,e,"x",n)}inYRange(e,n){return LN(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!nu(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,x0(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function X4(t,e){const{x:n,y:r,base:s,width:o,height:i}=t.getProps(["x","y","base","width","height"],e);let c,u,h,f,m;return t.horizontal?(m=i/2,c=Math.min(n,s),u=Math.max(n,s),h=r-m,f=r+m):(m=o/2,c=n-m,u=n+m,h=Math.min(r,s),f=Math.max(r,s)),{left:c,top:h,right:u,bottom:f}}function fi(t,e,n,r){return t?0:Mn(e,n,r)}function wae(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,o=E4(r);return{t:fi(s.top,o.top,0,n),r:fi(s.right,o.right,0,e),b:fi(s.bottom,o.bottom,0,n),l:fi(s.left,o.left,0,e)}}function kae(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,o=Il(s),i=Math.min(e,n),c=t.borderSkipped,u=r||at(s);return{topLeft:fi(!u||c.top||c.left,o.topLeft,0,i),topRight:fi(!u||c.top||c.right,o.topRight,0,i),bottomLeft:fi(!u||c.bottom||c.left,o.bottomLeft,0,i),bottomRight:fi(!u||c.bottom||c.right,o.bottomRight,0,i)}}function Sae(t){const e=X4(t),n=e.right-e.left,r=e.bottom-e.top,s=wae(t,n/2,r/2),o=kae(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function uy(t,e,n,r){const s=e===null,o=n===null,c=t&&!(s&&o)&&X4(t,r);return c&&(s||ui(e,c.left,c.right))&&(o||ui(n,c.top,c.bottom))}function Cae(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function _ae(t,e){t.rect(e.x,e.y,e.w,e.h)}function hy(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,i=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+o,h:t.h+i,radius:t.radius}}class Eae extends _o{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:o,outer:i}=Sae(this),c=Cae(i.radius)?Gp:_ae;e.save(),(i.w!==o.w||i.h!==o.h)&&(e.beginPath(),c(e,hy(i,n,o)),e.clip(),c(e,hy(o,-n,i)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,hy(o,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return uy(this,e,n,r)}inXRange(e,n){return uy(this,e,null,n)}inYRange(e,n){return uy(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+s)/2:n,y:o?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const BN=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Nae=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class FN extends _o{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ct(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=On(r.font),o=s.size,i=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=BN(r,o);let h,f;n.font=s.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(i,o,c,u)+10):(f=this.maxHeight,h=this._fitCols(i,s,c,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:o,maxWidth:i,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],f=s+c;let m=e;o.textAlign="left",o.textBaseline="middle";let g=-1,y=-f;return this.legendItems.forEach((v,b)=>{const k=r+n/2+o.measureText(v.text).width;(b===0||h[h.length-1]+k+2*c>i)&&(m+=f,h[h.length-(b>0?0:1)]=0,y+=f,g++),u[b]={left:0,top:y,row:g,width:k,height:s},h[h.length-1]+=k+c}),m}_fitCols(e,n,r,s){const{ctx:o,maxHeight:i,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],f=i-e;let m=c,g=0,y=0,v=0,b=0;return this.legendItems.forEach((k,C)=>{const{itemWidth:_,itemHeight:T}=jae(r,n,o,k,s);C>0&&y+T+2*c>f&&(m+=g+c,h.push({width:g,height:y}),v+=g+c,b++,g=y=0),u[C]={left:v,top:y,col:b,width:_,height:T},g=Math.max(g,_),y+=T+c}),m+=g,h.push({width:g,height:y}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:o}}=this,i=Dl(o,this.left,this.width);if(this.isHorizontal()){let c=0,u=Nn(r,this.left+s,this.right-this.lineWidths[c]);for(const h of n)c!==h.row&&(c=h.row,u=Nn(r,this.left+s,this.right-this.lineWidths[c])),h.top+=this.top+e+s,h.left=i.leftForLtr(i.x(u),h.width),u+=h.width+s}else{let c=0,u=Nn(r,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const h of n)h.col!==c&&(c=h.col,u=Nn(r,this.top+e+s,this.bottom-this.columnSizes[c].height)),h.top=u,h.left+=this.left+s,h.left=i.leftForLtr(i.x(h.left),h.width),u+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;yk(e,this),this._draw(),bk(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:o,labels:i}=e,c=zt.color,u=Dl(e.rtl,this.left,this.width),h=On(i.font),{padding:f}=i,m=h.size,g=m/2;let y;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:v,boxHeight:b,itemHeight:k}=BN(i,m),C=function(P,I,O){if(isNaN(v)||v<=0||isNaN(b)||b<0)return;s.save();const L=Xe(O.lineWidth,1);if(s.fillStyle=Xe(O.fillStyle,c),s.lineCap=Xe(O.lineCap,"butt"),s.lineDashOffset=Xe(O.lineDashOffset,0),s.lineJoin=Xe(O.lineJoin,"miter"),s.lineWidth=L,s.strokeStyle=Xe(O.strokeStyle,c),s.setLineDash(Xe(O.lineDash,[])),i.usePointStyle){const $={radius:b*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:L},V=u.xPlus(P,v/2),Q=I+g;_4(s,$,V,Q,i.pointStyleWidth&&v)}else{const $=I+Math.max((m-b)/2,0),V=u.leftForLtr(P,v),Q=Il(O.borderRadius);s.beginPath(),Object.values(Q).some(K=>K!==0)?Gp(s,{x:V,y:$,w:v,h:b,radius:Q}):s.rect(V,$,v,b),s.fill(),L!==0&&s.stroke()}s.restore()},_=function(P,I,O){ru(s,O.text,P,I+k/2,h,{strikethrough:O.hidden,textAlign:u.textAlign(O.textAlign)})},T=this.isHorizontal(),N=this._computeTitleHeight();T?y={x:Nn(o,this.left+f,this.right-r[0]),y:this.top+f+N,line:0}:y={x:this.left+f,y:Nn(o,this.top+N+f,this.bottom-n[0].height),line:0},P4(this.ctx,e.textDirection);const j=k+f;this.legendItems.forEach((P,I)=>{s.strokeStyle=P.fontColor,s.fillStyle=P.fontColor;const O=s.measureText(P.text).width,L=u.textAlign(P.textAlign||(P.textAlign=i.textAlign)),$=v+g+O;let V=y.x,Q=y.y;u.setWidth(this.width),T?I>0&&V+$+f>this.right&&(Q=y.y+=j,y.line++,V=y.x=Nn(o,this.left+f,this.right-r[y.line])):I>0&&Q+j>this.bottom&&(V=y.x=V+n[y.line].width+f,y.line++,Q=y.y=Nn(o,this.top+N+f,this.bottom-n[y.line].height));const K=u.x(V);if(C(K,Q,P),V=fse(L,V+v+g,T?V+$:this.right,e.rtl),_(u.x(V),Q,P),T)y.x+=$+f;else if(typeof P.text!="string"){const se=h.lineHeight;y.y+=G4(P,se)+f}else y.y+=j}),A4(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=On(n.font),s=Ur(n.padding);if(!n.display)return;const o=Dl(e.rtl,this.left,this.width),i=this.ctx,c=n.position,u=r.size/2,h=s.top+u;let f,m=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+h,m=Nn(e.align,m,this.right-g);else{const v=this.columnSizes.reduce((b,k)=>Math.max(b,k.height),0);f=h+Nn(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const y=Nn(c,m,m+g);i.textAlign=o.textAlign(gk(c)),i.textBaseline="middle",i.strokeStyle=n.color,i.fillStyle=n.color,i.font=r.string,ru(i,n.text,y,f,r)}_computeTitleHeight(){const e=this.options.title,n=On(e.font),r=Ur(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,o;if(ui(e,this.left,this.right)&&ui(n,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(s=o[r],ui(e,s.left,s.left+s.width)&&ui(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Oae(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,o=Nae(s,r);s&&!o&&Ct(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!o&&Ct(n.onHover,[e,r,this],this)}else r&&Ct(n.onClick,[e,r,this],this)}}function jae(t,e,n,r,s){const o=Tae(r,t,e,n),i=Mae(s,r,e.lineHeight);return{itemWidth:o,itemHeight:i}}function Tae(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((o,i)=>o.length>i.length?o:i)),e+n.size/2+r.measureText(s).width}function Mae(t,e,n){let r=t;return typeof e.text!="string"&&(r=G4(e,n)),r}function G4(t,e){const n=t.text?t.text.length:0;return e*n}function Oae(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Pae={id:"legend",_element:FN,start(t,e,n){const r=t.legend=new FN({ctx:t.ctx,options:n,chart:t});Lr.configure(t,r,n),Lr.addBox(t,r)},stop(t){Lr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Lr.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:o,useBorderRadius:i,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(n?0:void 0),f=Ur(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:r||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:i&&(c||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class J4 extends _o{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=nn(r.text)?r.text.length:1;this._padding=Ur(r.padding);const o=s*On(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:o,options:i}=this,c=i.align;let u=0,h,f,m;return this.isHorizontal()?(f=Nn(c,r,o),m=n+e,h=o-r):(i.position==="left"?(f=r+e,m=Nn(c,s,n),u=mt*-.5):(f=o-e,m=Nn(c,n,s),u=mt*.5),h=s-n),{titleX:f,titleY:m,maxWidth:h,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=On(n.font),o=r.lineHeight/2+this._padding.top,{titleX:i,titleY:c,maxWidth:u,rotation:h}=this._drawArgs(o);ru(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:gk(n.align),textBaseline:"middle",translation:[i,c]})}}function Aae(t,e){const n=new J4({ctx:t.ctx,options:e,chart:t});Lr.configure(t,n,e),Lr.addBox(t,n),t.titleBlock=n}var Rae={id:"title",_element:J4,start(t,e,n){Aae(t,n)},stop(t){const e=t.titleBlock;Lr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Lr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sd={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,o=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();r.add(u.x),s+=u.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((c,u)=>c+u)/r.size,y:s/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,o,i,c;for(o=0,i=t.length;o<i;++o){const u=t[o].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),f=m0(e,h);f<s&&(s=f,c=u)}}if(c){const u=c.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function Ss(t,e){return e&&(nn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ao(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Iae(t,e){const{element:n,datasetIndex:r,index:s}=e,o=t.getDatasetMeta(r).controller,{label:i,value:c}=o.getLabelAndValue(s);return{chart:t,label:i,parsed:o.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:c,dataset:o.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function $N(t,e){const n=t.chart.ctx,{body:r,footer:s,title:o}=t,{boxWidth:i,boxHeight:c}=e,u=On(e.bodyFont),h=On(e.titleFont),f=On(e.footerFont),m=o.length,g=s.length,y=r.length,v=Ur(e.padding);let b=v.height,k=0,C=r.reduce((N,j)=>N+j.before.length+j.lines.length+j.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,m&&(b+=m*h.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),C){const N=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;b+=y*N+(C-y)*u.lineHeight+(C-1)*e.bodySpacing}g&&(b+=e.footerMarginTop+g*f.lineHeight+(g-1)*e.footerSpacing);let _=0;const T=function(N){k=Math.max(k,n.measureText(N).width+_)};return n.save(),n.font=h.string,pt(t.title,T),n.font=u.string,pt(t.beforeBody.concat(t.afterBody),T),_=e.displayColors?i+2+e.boxPadding:0,pt(r,N=>{pt(N.before,T),pt(N.lines,T),pt(N.after,T)}),_=0,n.font=f.string,pt(t.footer,T),n.restore(),k+=v.width,{width:k,height:b}}function Dae(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Lae(t,e,n,r){const{x:s,width:o}=r,i=n.caretSize+n.caretPadding;if(t==="left"&&s+o+i>e.width||t==="right"&&s-o-i<0)return!0}function Bae(t,e,n,r){const{x:s,width:o}=n,{width:i,chartArea:{left:c,right:u}}=t;let h="center";return r==="center"?h=s<=(c+u)/2?"left":"right":s<=o/2?h="left":s>=i-o/2&&(h="right"),Lae(h,t,e,n)&&(h="center"),h}function zN(t,e,n){const r=n.yAlign||e.yAlign||Dae(t,n);return{xAlign:n.xAlign||e.xAlign||Bae(t,e,n,r),yAlign:r}}function Fae(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function $ae(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function UN(t,e,n,r){const{caretSize:s,caretPadding:o,cornerRadius:i}=t,{xAlign:c,yAlign:u}=n,h=s+o,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:y}=Il(i);let v=Fae(e,c);const b=$ae(e,u,h);return u==="center"?c==="left"?v+=h:c==="right"&&(v-=h):c==="left"?v-=Math.max(f,g)+s:c==="right"&&(v+=Math.max(m,y)+s),{x:Mn(v,0,r.width-e.width),y:Mn(b,0,r.height-e.height)}}function wf(t,e,n){const r=Ur(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function HN(t){return Ss([],ao(t))}function zae(t,e,n){return Fa(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function WN(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Q4={beforeTitle:so,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:so,beforeBody:so,beforeLabel:so,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ut(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:so,afterBody:so,beforeFooter:so,footer:so,afterFooter:so};function Xn(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?Q4[e].call(n,r):s}class VN extends _o{static positioners=Sd;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,o=new I4(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=zae(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=Xn(r,"beforeTitle",this,e),o=Xn(r,"title",this,e),i=Xn(r,"afterTitle",this,e);let c=[];return c=Ss(c,ao(s)),c=Ss(c,ao(o)),c=Ss(c,ao(i)),c}getBeforeBody(e,n){return HN(Xn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return pt(e,o=>{const i={before:[],lines:[],after:[]},c=WN(r,o);Ss(i.before,ao(Xn(c,"beforeLabel",this,o))),Ss(i.lines,Xn(c,"label",this,o)),Ss(i.after,ao(Xn(c,"afterLabel",this,o))),s.push(i)}),s}getAfterBody(e,n){return HN(Xn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=Xn(r,"beforeFooter",this,e),o=Xn(r,"footer",this,e),i=Xn(r,"afterFooter",this,e);let c=[];return c=Ss(c,ao(s)),c=Ss(c,ao(o)),c=Ss(c,ao(i)),c}_createItems(e){const n=this._active,r=this.chart.data,s=[],o=[],i=[];let c=[],u,h;for(u=0,h=n.length;u<h;++u)c.push(Iae(this.chart,n[u]));return e.filter&&(c=c.filter((f,m,g)=>e.filter(f,m,g,r))),e.itemSort&&(c=c.sort((f,m)=>e.itemSort(f,m,r))),pt(c,f=>{const m=WN(e.callbacks,f);s.push(Xn(m,"labelColor",this,f)),o.push(Xn(m,"labelPointStyle",this,f)),i.push(Xn(m,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=i,this.dataPoints=c,c}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let o,i=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const c=Sd[r.position].call(this,s,this._eventPosition);i=this._createItems(r),this.title=this.getTitle(i,r),this.beforeBody=this.getBeforeBody(i,r),this.body=this.getBody(i,r),this.afterBody=this.getAfterBody(i,r),this.footer=this.getFooter(i,r);const u=this._size=$N(this,r),h=Object.assign({},c,u),f=zN(this.chart,r,h),m=UN(r,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,o={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=i,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const o=this.getCaretPosition(e,r,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:o}=this,{caretSize:i,cornerRadius:c}=r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=Il(c),{x:g,y}=e,{width:v,height:b}=n;let k,C,_,T,N,j;return o==="center"?(N=y+b/2,s==="left"?(k=g,C=k-i,T=N+i,j=N-i):(k=g+v,C=k+i,T=N-i,j=N+i),_=k):(s==="left"?C=g+Math.max(u,f)+i:s==="right"?C=g+v-Math.max(h,m)-i:C=this.caretX,o==="top"?(T=y,N=T-i,k=C-i,_=C+i):(T=y+b,N=T+i,k=C+i,_=C-i),j=T),{x1:k,x2:C,x3:_,y1:T,y2:N,y3:j}}drawTitle(e,n,r){const s=this.title,o=s.length;let i,c,u;if(o){const h=Dl(r.rtl,this.x,this.width);for(e.x=wf(this,r.titleAlign,r),n.textAlign=h.textAlign(r.titleAlign),n.textBaseline="middle",i=On(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=i.string,u=0;u<o;++u)n.fillText(s[u],h.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+c,u+1===o&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,n,r,s,o){const i=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:u,boxWidth:h}=o,f=On(o.bodyFont),m=wf(this,"left",o),g=s.x(m),y=u<f.lineHeight?(f.lineHeight-u)/2:0,v=n.y+y;if(o.usePointStyle){const b={radius:Math.min(h,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},k=s.leftForLtr(g,h)+h/2,C=v+u/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,x0(e,b,k,C),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,x0(e,b,k,C)}else{e.lineWidth=at(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const b=s.leftForLtr(g,h),k=s.leftForLtr(s.xPlus(g,1),h-2),C=Il(i.borderRadius);Object.values(C).some(_=>_!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Gp(e,{x:b,y:v,w:h,h:u,radius:C}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),Gp(e,{x:k,y:v+1,w:h-2,h:u-2,radius:C}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(b,v,h,u),e.strokeRect(b,v,h,u),e.fillStyle=i.backgroundColor,e.fillRect(k,v+1,h-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:o,bodyAlign:i,displayColors:c,boxHeight:u,boxWidth:h,boxPadding:f}=r,m=On(r.bodyFont);let g=m.lineHeight,y=0;const v=Dl(r.rtl,this.x,this.width),b=function(O){n.fillText(O,v.x(e.x+y),e.y+g/2),e.y+=g+o},k=v.textAlign(i);let C,_,T,N,j,P,I;for(n.textAlign=i,n.textBaseline="middle",n.font=m.string,e.x=wf(this,k,r),n.fillStyle=r.bodyColor,pt(this.beforeBody,b),y=c&&k!=="right"?i==="center"?h/2+f:h+2+f:0,N=0,P=s.length;N<P;++N){for(C=s[N],_=this.labelTextColors[N],n.fillStyle=_,pt(C.before,b),T=C.lines,c&&T.length&&(this._drawColorBox(n,e,N,v,r),g=Math.max(m.lineHeight,u)),j=0,I=T.length;j<I;++j)b(T[j]),g=m.lineHeight;pt(C.after,b)}y=0,g=m.lineHeight,pt(this.afterBody,b),e.y-=o}drawFooter(e,n,r){const s=this.footer,o=s.length;let i,c;if(o){const u=Dl(r.rtl,this.x,this.width);for(e.x=wf(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",i=On(r.footerFont),n.fillStyle=r.footerColor,n.font=i.string,c=0;c<o;++c)n.fillText(s[c],u.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:o,yAlign:i}=this,{x:c,y:u}=e,{width:h,height:f}=r,{topLeft:m,topRight:g,bottomLeft:y,bottomRight:v}=Il(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+m,u),i==="top"&&this.drawCaret(e,n,r,s),n.lineTo(c+h-g,u),n.quadraticCurveTo(c+h,u,c+h,u+g),i==="center"&&o==="right"&&this.drawCaret(e,n,r,s),n.lineTo(c+h,u+f-v),n.quadraticCurveTo(c+h,u+f,c+h-v,u+f),i==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(c+y,u+f),n.quadraticCurveTo(c,u+f,c,u+f-y),i==="center"&&o==="left"&&this.drawCaret(e,n,r,s),n.lineTo(c,u+m),n.quadraticCurveTo(c,u,c+m,u),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){const i=Sd[e.position].call(this,this._active,this._eventPosition);if(!i)return;const c=this._size=$N(this,e),u=Object.assign({},i,this._size),h=zN(n,e,u),f=UN(e,u,h,n);(s._to!==f.x||o._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const i=Ur(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,s,n),P4(e,n.textDirection),o.y+=i.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),A4(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:c,index:u})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[u],index:u}}),o=!Yp(r,s),i=this._positionChanged(s,n);(o||i)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],i=this._getActiveElements(e,o,n,r),c=this._positionChanged(i,e),u=n||!Yp(i,o)||c;return u&&(this._active=i,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,r,s){const o=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const i=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&i.reverse(),i}_positionChanged(e,n){const{caretX:r,caretY:s,options:o}=this,i=Sd[o.position].call(this,e,n);return i!==!1&&(r!==i.x||s!==i.y)}}var Uae={id:"tooltip",_element:VN,positioners:Sd,afterInit(t,e,n){n&&(t.tooltip=new VN({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Q4},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Hae=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Wae(t,e,n,r){const s=t.indexOf(e);if(s===-1)return Hae(t,e,n,r);const o=t.lastIndexOf(e);return s!==o?n:s}const Vae=(t,e)=>t===null?null:Mn(Math.round(t),0,e);function qN(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class qae extends gc{static id="category";static defaults={ticks:{callback:qN}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:o}of n)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ut(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Wae(r,e,Xe(n,e),this._addedLabels),Vae(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let i=e;i<=n;i++)s.push({value:i});return s}getLabelForValue(e){return qN.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Yae(t,e){const n=[],{bounds:s,step:o,min:i,max:c,precision:u,count:h,maxTicks:f,maxDigits:m,includeBounds:g}=t,y=o||1,v=f-1,{min:b,max:k}=e,C=!ut(i),_=!ut(c),T=!ut(h),N=(k-b)/(m+1);let j=YE((k-b)/v/y)*y,P,I,O,L;if(j<1e-14&&!C&&!_)return[{value:b},{value:k}];L=Math.ceil(k/j)-Math.floor(b/j),L>v&&(j=YE(L*j/v/y)*y),ut(u)||(P=Math.pow(10,u),j=Math.ceil(j*P)/P),s==="ticks"?(I=Math.floor(b/j)*j,O=Math.ceil(k/j)*j):(I=b,O=k),C&&_&&o&&sse((c-i)/o,j/1e3)?(L=Math.round(Math.min((c-i)/j,f)),j=(c-i)/L,I=i,O=c):T?(I=C?i:I,O=_?c:O,L=h-1,j=(O-I)/L):(L=(O-I)/j,Td(L,Math.round(L),j/1e3)?L=Math.round(L):L=Math.ceil(L));const $=Math.max(KE(j),KE(I));P=Math.pow(10,ut(u)?$:u),I=Math.round(I*P)/P,O=Math.round(O*P)/P;let V=0;for(C&&(g&&I!==i?(n.push({value:i}),I<i&&V++,Td(Math.round((I+V*j)*P)/P,i,YN(i,N,t))&&V++):I<i&&V++);V<L;++V){const Q=Math.round((I+V*j)*P)/P;if(_&&Q>c)break;n.push({value:Q})}return _&&g&&O!==c?n.length&&Td(n[n.length-1].value,c,YN(c,N,t))?n[n.length-1].value=c:n.push({value:c}):(!_||O===c)&&n.push({value:O}),n}function YN(t,e,{horizontal:n,minRotation:r}){const s=fo(r),o=(n?Math.sin(s):Math.cos(s))||.001,i=.75*e*(""+t).length;return Math.min(e/o,i)}class Kae extends gc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ut(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:o}=this;const i=u=>s=n?s:u,c=u=>o=r?o:u;if(e){const u=Is(s),h=Is(o);u<0&&h<0?c(0):u>0&&h>0&&i(0)}if(s===o){let u=o===0?1:Math.abs(o*.05);c(o+u),e||i(s-u)}this.min=s,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,i=Yae(s,o);return e.bounds==="ticks"&&ose(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return vk(e,this.chart.options.locale,this.options.ticks.format)}}class Xae extends Kae{static id="linear";static defaults={ticks:{callback:C4.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=zr(e)?e:0,this.max=zr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=fo(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const vg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zn=Object.keys(vg);function KN(t,e){return t-e}function XN(t,e){if(ut(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:o}=t._parseOpts;let i=e;return typeof r=="function"&&(i=r(i)),zr(i)||(i=typeof r=="string"?n.parse(i,r):n.parse(i)),i===null?null:(s&&(i=s==="week"&&(eu(o)||o===!0)?n.startOf(i,"isoWeek",o):n.startOf(i,s)),+i)}function GN(t,e,n,r){const s=Zn.length;for(let o=Zn.indexOf(t);o<s-1;++o){const i=vg[Zn[o]],c=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((n-e)/(c*i.size))<=r)return Zn[o]}return Zn[s-1]}function Gae(t,e,n,r,s){for(let o=Zn.length-1;o>=Zn.indexOf(n);o--){const i=Zn[o];if(vg[i].common&&t._adapter.diff(s,r,i)>=e-1)return i}return Zn[n?Zn.indexOf(n):0]}function Jae(t){for(let e=Zn.indexOf(t)+1,n=Zn.length;e<n;++e)if(vg[Zn[e]].common)return Zn[e]}function JN(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=mk(n,e),o=n[r]>=e?n[r]:n[s];t[o]=!0}}function Qae(t,e,n,r){const s=t._adapter,o=+s.startOf(e[0].value,r),i=e[e.length-1].value;let c,u;for(c=o;c<=i;c=+s.add(c,1,r))u=n[c],u>=0&&(e[u].major=!0);return e}function QN(t,e,n){const r=[],s={},o=e.length;let i,c;for(i=0;i<o;++i)c=e[i],s[c]=i,r.push({value:c,major:!1});return o===0||!n?r:Qae(t,r,s,n)}class ZN extends gc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new Koe._date(e.adapters.date);s.init(n),jd(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:XN(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:o,minDefined:i,maxDefined:c}=this.getUserBounds();function u(h){!i&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!c&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!i||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=zr(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),o=zr(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,i=this.max,c=dse(s,o,i);return this._unit=n.unit||(r.autoSkip?GN(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):Gae(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Jae(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),QN(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const i=e.length<3?.5:.25;n=Mn(n,0,i),r=Mn(r,0,i),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,o=s.time,i=o.unit||GN(o.minUnit,n,r,this._getLabelCapacity(n)),c=Xe(s.ticks.stepSize,1),u=i==="week"?o.isoWeekday:!1,h=eu(u)||u===!0,f={};let m=n,g,y;if(h&&(m=+e.startOf(m,"isoWeek",u)),m=+e.startOf(m,h?"day":i),e.diff(r,n,i)>1e5*c)throw new Error(n+" and "+r+" are too far apart with stepSize of "+c+" "+i);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(g=m,y=0;g<r;g=+e.add(g,c,i),y++)JN(f,g,v);return(g===r||s.bounds==="ticks"||y===1)&&JN(f,g,v),Object.keys(f).sort(KN).map(b=>+b)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,o=this._unit,i=n||s[o];return this._adapter.format(e,i)}_tickFormatFunction(e,n,r,s){const o=this.options,i=o.ticks.callback;if(i)return Ct(i,[e,n,r],this);const c=o.time.displayFormats,u=this._unit,h=this._majorUnit,f=u&&c[u],m=h&&c[h],g=r[n],y=h&&m&&g&&g.major;return this._adapter.format(e,s||(y?m:f))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=fo(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),i=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:r*o+c*i,h:r*i+c*o}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,o=this._tickFormatFunction(e,0,QN(this,[e],this._majorUnit),s),i=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(XN(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return w4(e.sort(KN))}}function kf(t,e,n){let r=0,s=t.length-1,o,i,c,u;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=ia(t,"pos",e)),{pos:o,time:c}=t[r],{pos:i,time:u}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=ia(t,"time",e)),{time:o,pos:c}=t[r],{time:i,pos:u}=t[s]);const h=i-o;return h?c+(u-c)*(e-o)/h:c}class ace extends ZN{static id="timeseries";static defaults=ZN.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=kf(n,this.min),this._tableRange=kf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],o=[];let i,c,u,h,f;for(i=0,c=e.length;i<c;++i)h=e[i],h>=n&&h<=r&&s.push(h);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(i=0,c=s.length;i<c;++i)f=s[i+1],u=s[i-1],h=s[i],Math.round((f+u)/2)!==h&&o.push({time:h,pos:i/(c-1)});return o}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,o)=>s-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(kf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return kf(this._table,r*this._tableRange+this._minPos,!0)}}const Z4="label";function ej(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Zae(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function eD(t,e){t.labels=e}function tD(t,e,n=Z4){const r=[];t.datasets=e.map(s=>{const o=t.datasets.find(i=>i[n]===s[n]);return!o||!s.data||r.includes(o)?{...s}:(r.push(o),Object.assign(o,s),o)})}function ele(t,e=Z4){const n={labels:[],datasets:[]};return eD(n,t.labels),tD(n,t.datasets,e),n}function tle(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:o,type:i,data:c,options:u,plugins:h=[],fallbackContent:f,updateMode:m,...g}=t,y=w.useRef(null),v=w.useRef(null),b=()=>{y.current&&(v.current=new xg(y.current,{type:i,data:ele(c,o),options:u&&{...u},plugins:h}),ej(e,v.current))},k=()=>{ej(e,null),v.current&&(v.current.destroy(),v.current=null)};return w.useEffect(()=>{!s&&v.current&&u&&Zae(v.current,u)},[s,u]),w.useEffect(()=>{!s&&v.current&&eD(v.current.config.data,c.labels)},[s,c.labels]),w.useEffect(()=>{!s&&v.current&&c.datasets&&tD(v.current.config.data,c.datasets,o)},[s,c.datasets]),w.useEffect(()=>{v.current&&(s?(k(),setTimeout(b)):v.current.update(m))},[s,u,c.labels,c.datasets,m]),w.useEffect(()=>{v.current&&(k(),setTimeout(b))},[i]),w.useEffect(()=>(b(),()=>k()),[]),l.jsx("canvas",{ref:y,role:"img",height:n,width:r,...g,children:f})}const nle=w.forwardRef(tle);function jk(t,e){return xg.register(e),w.forwardRef((n,r)=>l.jsx(nle,{...n,ref:r,type:t}))}const w0=jk("line",qoe),ep=jk("bar",Hoe),k0=jk("pie",Yoe),tj={getProductivity:async(t,e,n)=>{const r=new URLSearchParams;return t&&r.append("userId",t),e&&r.append("start",e),n&&r.append("end",n),(await $e.get(`/analytics/productivity?${r.toString()}`)).data},getTeamCollaboration:async(t,e,n)=>{const r=new URLSearchParams;return t&&r.append("organizationId",t),e&&r.append("start",e),n&&r.append("end",n),(await $e.get(`/analytics/team?${r.toString()}`)).data},getProjectOverview:async t=>{const e=new URLSearchParams;return t&&e.append("folderId",t),(await $e.get(`/analytics/projectOverview?${e.toString()}`)).data},getCalendarLinks:async(t,e)=>{const n=new URLSearchParams;return n.append("start",t),n.append("end",e),(await $e.get(`/analytics/calendarLinks?${n.toString()}`)).data},getVersionAnalytics:async(t,e)=>{const n=new URLSearchParams;return t&&n.append("start",t),e&&n.append("end",e),(await $e.get(`/analytics/versions?${n.toString()}`)).data},getFolderAnalytics:async()=>(await $e.get("/analytics/folders")).data};(!w0||!ep||!k0)&&console.error("Chart.js components are not available. Please install chart.js and react-chartjs-2");const nj=["#3b82f6","#10b981","#8b5cf6","#f59e0b","#ef4444"];xg.register(qae,Xae,bae,yae,Eae,cae,Uae,Pae,Rae);const ks="#cbd5f0",bl="rgba(148, 163, 184, 0.25)",rle="rgba(15, 23, 42, 0.6)",rj=(t,e=24)=>t?t.length<=e?t:`${t.slice(0,Math.max(0,e-3))}...`:"";function sle(){const[t,e]=w.useState(null),[n,r]=w.useState("line"),[s,o]=w.useState(!0),[i,c]=w.useState(null),[u,h]=w.useState(null),[f,m]=w.useState([]),[g,y]=w.useState(null);w.useEffect(()=>{(()=>{try{const L=localStorage.getItem("access_token");if(!L)return;const V=L.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),Q=decodeURIComponent(atob(V).split("").map(ne=>"%"+("00"+ne.charCodeAt(0).toString(16)).slice(-2)).join("")),K=JSON.parse(Q),se=K.id||K._id||K.userId;y(se)}catch(L){console.error("Failed to get user ID:",L)}})()},[]),w.useEffect(()=>{g&&v()},[g]);const v=async()=>{if(g){o(!0);try{const[O,L,$,V]=await Promise.all([Cre(g),tj.getProjectOverview(),tj.getFolderAnalytics(),Or.getConversations().catch(K=>(console.error("Failed to fetch chat conversations:",K),[]))]);e(O),c(L),h($);const Q=Array.isArray(V)?V.filter(K=>K.participants?.some(se=>se._id===g)):[];m(Q)}catch(O){console.error("Failed to fetch analytics:",O),ae.error("Failed to load analytics data")}finally{o(!1)}}},b=async()=>{await v(),ae.success("Data refreshed")},k=()=>{if(!t)return;const O=JSON.stringify({metrics:{totalDocuments:t.totalDocuments,totalVersions:t.totalVersions,versionsCreatedToday:t.versionsCreatedToday,activeEditors:t.activeEditors},analytics:t,timestamp:new Date().toISOString()},null,2),L=new Blob([O],{type:"application/json"}),$=URL.createObjectURL(L),V=document.createElement("a");V.href=$,V.download=`analytics-export-${new Date().toISOString().split("T")[0]}.json`,V.click(),URL.revokeObjectURL($),ae.success("Analytics data exported")},C=[{key:"versions",label:"Versions Created",color:"#3b82f6"},{key:"comments",label:"Comments Added",color:"#10b981"}],_=(O=7)=>Array.from({length:O}).map((L,$)=>{const V=new Date;return V.setDate(V.getDate()-(O-$-1)),{date:V.toLocaleDateString(void 0,{weekday:"short"}),versions:0,comments:0}}),N=(()=>{switch(n){case"line":{if(!t)return{data:_(),series:C};const O=t.versionTrends||[],L=_(Math.max(7,O.length||7)),$=new Map(O.map(Q=>[new Date(Q.date).toLocaleDateString(void 0,{weekday:"short"}),{versions:Q.versions??0,comments:Q.comments??0}]));return{data:L.map(Q=>{const K=$.get(Q.date);return K?{date:Q.date,versions:K.versions,comments:K.comments}:Q}),series:t.versionTrends&&t.versionTrends.length>0?[{key:"versions",label:"Versions Created",color:"#3b82f6"},{key:"comments",label:"Comments Added",color:"#10b981"}]:C}}case"bar":return f.length>0?{data:f.slice(0,8).map($=>({name:rj(P($)),participants:$.participants?.length||0})),series:[{key:"participants",label:"Participants",color:"#3b82f6"}]}:!t||t.mostActiveEditors.length===0?u&&u.folderStats.length>0?{data:u.folderStats.slice(0,8).map($=>({name:rj($.folderName),documents:$.totalDocuments,recent:$.recentDocuments})),series:[{key:"documents",label:"Total Documents",color:"#3b82f6"},{key:"recent",label:"Recent Documents",color:"#10b981"}]}:{data:[{name:"Activity",value:0}],series:[{key:"value",label:"Activity",color:"#3b82f6"}]}:{data:t.mostActiveEditors.map(L=>({name:L.userName,versions:L.versionsCreated,comments:L.commentsAdded||0})),series:[{key:"versions",label:"Versions Created",color:"#3b82f6"},{key:"comments",label:"Comments Added",color:"#10b981"}]};case"pie":{if(f.length>0){const O=f.filter(K=>K.type==="direct").length,L=f.filter(K=>K.type==="group").length,$=f.filter(K=>!K.lastMessage).length;let V=[{name:"Direct Chats",value:O},{name:"Group Chats",value:L},{name:"Inactive Chats",value:$}];return V.reduce((K,se)=>K+se.value,0)===0&&(V=[{name:"Conversations",value:f.length},{name:"Active Chats",value:Math.ceil(f.length/2)},{name:"Inactive Chats",value:Math.floor(f.length/2)}]),{data:V}}if(u){const O=u.totalSharedFolders||0,L=Math.max(u.totalFolders-O,0),$=[{name:"Shared Folders",value:O},{name:"Private Folders",value:L},{name:"Total Documents",value:u.totalDocuments||0}];if($.reduce((Q,K)=>Q+K.value,0)>0)return{data:$}}if(t){const O=[{name:"Versions Today",value:t.versionsCreatedToday||0},{name:"Versions This Week",value:t.versionsCreatedThisWeek||0},{name:"Comments Today",value:t.commentsCreatedToday||0},{name:"Total Comments",value:t.totalComments||0}];if(O.reduce(($,V)=>$+V.value,0)>0)return{data:O}}return{data:[{name:"Documents",value:1}]}}default:return null}})(),j=u?u.averageDocumentsPerFolder.toFixed(1):"0.0",P=O=>O.name&&O.name.trim().length>0?O.name:O.participants&&O.participants.length>0?O.participants.map(L=>`${L.firstName} ${L.lastName}`.trim()).join(", "):"Conversation",I=O=>{if(!w0||!ep||!k0)return l.jsx("div",{className:"flex h-full items-center justify-center text-sm text-red-500 dark:text-red-400",children:"Chart.js is not installed. Please run: npm install chart.js react-chartjs-2"});if(!O||!O.data||O.data.length===0)return l.jsx("div",{className:"flex h-full items-center justify-center text-sm text-gray-500 dark:text-gray-400",children:"No chart data available yet. Try collaborating or starting new chats to generate insights."});try{switch(n){case"line":{const L=O.data.map(K=>K.date??""),V=(O.series&&O.series.length>0?O.series:C).map(K=>({label:K.label,data:O.data.map(se=>Number(se[K.key]??0)),borderColor:K.color,backgroundColor:K.color,tension:.35,pointRadius:4,pointHoverRadius:6,fill:!1})),Q={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:ks,boxWidth:12,boxHeight:12}},tooltip:{mode:"index",intersect:!1}},scales:{x:{ticks:{color:ks},grid:{color:bl}},y:{beginAtZero:!0,ticks:{color:ks},grid:{color:bl}}}};return l.jsx(w0,{data:{labels:L,datasets:V},options:Q})}case"bar":{const L=O.data.map(K=>K.name??""),V=(O.series&&O.series.length>0?O.series:[{key:"value",label:"Value",color:"#3b82f6"}]).map(K=>({label:K.label,data:O.data.map(se=>Number(se[K.key]??0)),backgroundColor:K.color,borderRadius:8,maxBarThickness:48})),Q={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:ks,boxWidth:12,boxHeight:12}},tooltip:{mode:"index",intersect:!1}},scales:{x:{ticks:{color:ks},grid:{color:bl}},y:{beginAtZero:!0,ticks:{color:ks},grid:{color:bl}}}};return l.jsx(ep,{data:{labels:L,datasets:V},options:Q})}case"pie":default:{const L=O.data.map(K=>K.name??""),$=O.data.map(K=>Number(K.value??0)),V={label:"Share",data:$.length>0?$:[1],backgroundColor:O.data.map((K,se)=>nj[se%nj.length]),borderColor:rle,borderWidth:1},Q={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:ks,boxWidth:12,boxHeight:12}},tooltip:{mode:"nearest",intersect:!1}}};return l.jsx(k0,{data:{labels:L,datasets:[V]},options:Q})}}}catch(L){return console.error("Error rendering chart:",L),l.jsx("div",{className:"flex h-full items-center justify-center text-sm text-red-500 dark:text-red-400",children:"Error rendering chart. Please check the console for details."})}};return s?l.jsx("div",{className:"p-6 min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ip,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})}):t?l.jsxs("div",{className:"p-6 min-h-screen",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Analytics Dashboard"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Live collaboration and productivity insights"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rt,{to:"/business-analytics",children:l.jsxs(de,{variant:"outline",children:[l.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Business Analytics"]})}),l.jsxs(de,{onClick:b,variant:"outline",disabled:s,children:[l.jsx(ip,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]}),l.jsxs(de,{onClick:k,variant:"outline",children:[l.jsx(t8,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx(Ne,{className:"p-6 border-l-4 border-blue-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Folders"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:u?.totalFolders||0}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u?.totalSharedFolders||0," shared"]})]}),l.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/20 rounded-full",children:l.jsx(tn,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),l.jsx(Ne,{className:"p-6 border-l-4 border-green-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Documents"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:u?.totalDocuments||t.totalDocuments}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Avg: ",j," per folder"]})]}),l.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-full",children:l.jsx(cm,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),l.jsx(Ne,{className:"p-6 border-l-4 border-purple-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Versions Today"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t.versionsCreatedToday}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.versionsCreatedThisWeek," this week"]})]}),l.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/20 rounded-full",children:l.jsx(Rd,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})}),l.jsx(Ne,{className:"p-6 border-l-4 border-orange-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Editors"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t.activeEditors}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Collaborating now"})]}),l.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/20 rounded-full",children:l.jsx(yi,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})})]})})]}),l.jsxs(Ne,{className:"p-6 mb-6",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Analytics Chart"}),l.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[l.jsx(de,{onClick:()=>r("line"),variant:n==="line"?"default":"outline",size:"sm",children:"Trends"}),l.jsx(de,{onClick:()=>r("pie"),variant:n==="pie"?"default":"outline",size:"sm",children:"Distribution"})]})]}),l.jsx("div",{className:"h-[400px] w-full",children:N&&N.data&&Array.isArray(N.data)&&N.data.length>0?l.jsx(l.Fragment,{children:I(N)}):l.jsx("div",{className:"flex h-full items-center justify-center text-sm text-gray-500 dark:text-gray-400",children:"No chart data available yet. Try collaborating or starting new chats to generate insights."})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[i&&i.length>0&&l.jsxs(Ne,{className:"p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Documents per Folder"})}),l.jsx("div",{className:"h-[300px] w-full",children:i&&i.length>0?(()=>{const O=i.slice(0,10),L={labels:O.map(V=>V.folderName),datasets:[{label:"Documents",data:O.map(V=>V.totalDocuments),backgroundColor:"#3b82f6",borderRadius:8,maxBarThickness:48}]},$={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:ks,boxWidth:12,boxHeight:12}},tooltip:{mode:"index",intersect:!1}},scales:{x:{ticks:{color:ks,maxRotation:0,minRotation:0},grid:{color:bl}},y:{beginAtZero:!0,ticks:{color:ks},grid:{color:bl}}}};return l.jsx(ep,{data:L,options:$})})():l.jsx("div",{className:"flex h-full items-center justify-center text-sm text-gray-500 dark:text-gray-400",children:"No folder data available"})})]}),u&&u.mostActiveFolders.length>0&&l.jsxs(Ne,{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Most Active Folders"}),l.jsx("div",{className:"space-y-3",children:u.mostActiveFolders.map((O,L)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold",children:L+1}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:O.folderName}),l.jsxs("p",{className:"text-xs text-gray-500",children:[O.recentDocuments," recent documents"]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-blue-600 dark:text-blue-400",children:O.totalDocuments}),l.jsx("p",{className:"text-xs text-gray-500",children:"documents"})]})]},O.folderId))})]})]}),u&&u.folderStats.length>0&&l.jsxs(Ne,{className:"p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Folder Statistics"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[l.jsx("th",{className:"text-left p-3 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Folder Name"}),l.jsx("th",{className:"text-center p-3 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Documents"}),l.jsx("th",{className:"text-center p-3 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Recent (7d)"}),l.jsx("th",{className:"text-center p-3 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Comments"}),l.jsx("th",{className:"text-center p-3 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Collaborators"}),l.jsx("th",{className:"text-center p-3 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Shared With"})]})}),l.jsx("tbody",{children:u.folderStats.slice(0,10).map(O=>l.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:[l.jsx("td",{className:"p-3",children:l.jsx(rt,{to:`/folders/${O.folderId}`,className:"font-medium text-blue-600 dark:text-blue-400 hover:underline",children:O.folderName})}),l.jsx("td",{className:"p-3 text-center text-gray-900 dark:text-gray-100",children:O.totalDocuments}),l.jsx("td",{className:"p-3 text-center text-green-600 dark:text-green-400",children:O.recentDocuments}),l.jsx("td",{className:"p-3 text-center text-gray-600 dark:text-gray-400",children:O.totalComments}),l.jsx("td",{className:"p-3 text-center text-purple-600 dark:text-purple-400",children:O.activeCollaborators}),l.jsx("td",{className:"p-3 text-center text-orange-600 dark:text-orange-400",children:O.sharedWith})]},O.folderId))})]})})]})]}):l.jsx("div",{className:"p-6 min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-600",children:"No analytics data available"}),l.jsx(de,{onClick:v,className:"mt-4",children:"Try Again"})]})})}var ole="Separator",sj="horizontal",ile=["horizontal","vertical"],nD=w.forwardRef((t,e)=>{const{decorative:n,orientation:r=sj,...s}=t,o=ale(r)?r:sj,c=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return l.jsx(De.div,{"data-orientation":o,...c,...s,ref:e})});nD.displayName=ole;function ale(t){return ile.includes(t)}var lle=nD;function oj({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return l.jsx(lle,{"data-slot":"separator-root",decorative:n,orientation:e,className:ze("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}class cle{static async getProductivityScores(){try{return(await $e.get("/analytics/productivity-scores")).data}catch(e){throw console.error("Error fetching productivity scores:",e),e}}static async getCollaborationHealth(){try{return(await $e.get("/analytics/collaboration-health")).data}catch(e){throw console.error("Error fetching collaboration health:",e),e}}static async getSmartRecommendations(){try{return(await $e.get("/analytics/smart-recommendations")).data}catch(e){throw console.error("Error fetching smart recommendations:",e),e}}static async getROIMetrics(){try{return(await $e.get("/analytics/roi-metrics")).data}catch(e){throw console.error("Error fetching ROI metrics:",e),e}}static async getDocumentLifecycle(){try{return(await $e.get("/analytics/document-lifecycle")).data}catch(e){throw console.error("Error fetching document lifecycle:",e),e}}static async getTeamPerformanceInsights(){try{return(await $e.get("/analytics/team-performance")).data}catch(e){throw console.error("Error fetching team performance insights:",e),e}}static async getAllBusinessAnalytics(){try{const[e,n,r,s,o,i]=await Promise.all([this.getProductivityScores(),this.getCollaborationHealth(),this.getSmartRecommendations(),this.getROIMetrics(),this.getDocumentLifecycle(),this.getTeamPerformanceInsights()]);return{productivityScores:e,collaborationHealth:n,smartRecommendations:r,roiMetrics:s,documentLifecycle:o,teamPerformance:i}}catch(e){throw console.error("Error fetching business analytics:",e),e}}}function dle(){const[t,e]=w.useState(null),[n,r]=w.useState(!0),[s,o]=w.useState("overview"),[i,c]=w.useState(null),[u,h]=w.useState(!1);w.useEffect(()=>{f()},[]),w.useEffect(()=>{if(u){const C=setInterval(()=>{f(!0)},3e4);return()=>clearInterval(C)}},[u]);const f=async(C=!1)=>{C||r(!0);try{const _=await cle.getAllBusinessAnalytics();e(_),c(new Date),C&&ae.success("Analytics refreshed",{duration:2e3})}catch(_){console.error("Failed to fetch business analytics:",_),C||ae.error("Could not load business analytics")}finally{r(!1)}},m=C=>C>=80?"text-green-600 dark:text-green-400":C>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",g=C=>C>=80?"bg-green-100 dark:bg-green-900/20":C>=60?"bg-yellow-100 dark:bg-yellow-900/20":"bg-red-100 dark:bg-red-900/20",y=C=>{switch(C){case"high":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"medium":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20 dark:text-yellow-400";case"low":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20 dark:text-gray-400"}},v=C=>Math.max(0,Math.min(100,C)),b=C=>{if(!C)return"NA";const _=C.trim().split(/\s+/);return _.length===1?_[0].slice(0,2).toUpperCase():`${_[0][0]}${_[_.length-1][0]}`.toUpperCase()},k=w.useMemo(()=>{if(!t)return null;const C=t.teamPerformance.topPerformers.averageScore,_=t.collaborationHealth.overallScore,T=t.smartRecommendations.length,N=t.collaborationHealth.bottlenecks.length,j=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(t.roiMetrics.costSavings),P=t.teamPerformance.topPerformers.users[0]?.strengths[0]||"Consistent output from top performers.",I=t.roiMetrics.beforeAfterComparison.after.collaborationRate-t.roiMetrics.beforeAfterComparison.before.collaborationRate,O=t.teamPerformance.topPerformers.users.slice(0,5),L=t.smartRecommendations.filter(V=>V.priority==="high").slice(0,5),$=t.productivityScores.sort((V,Q)=>Q.score-V.score).slice(0,10);return{productivityScore:C,collaborationScore:_,recommendationsCount:T,bottlenecksCount:N,costSavingsFormatted:j,topPerformerStrength:P,collaborationRateDelta:I,topPerformers:O,priorityRecommendations:L,topProductivityScores:$}},[t]);return n?l.jsx("div",{className:"p-6 min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ip,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading business analytics..."})]})}):!t||!k?l.jsx("div",{className:"p-6 min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(fv,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Failed to load analytics data"}),l.jsx(de,{onClick:()=>f(),className:"mt-4",children:"Try Again"})]})}):l.jsxs("div",{className:"p-6 min-h-screen",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Business Analytics Dashboard"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Real insights for better team performance and business value"}),i&&l.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[l.jsx(Cd,{className:"h-3 w-3"}),l.jsxs("span",{children:["Last updated: ",i.toLocaleTimeString()]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs(de,{onClick:()=>h(!u),variant:u?"default":"outline",size:"sm",children:[l.jsx(_y,{className:`h-4 w-4 mr-2 ${u?"animate-pulse":""}`}),u?"Auto-refresh ON":"Auto-refresh OFF"]}),l.jsx(rt,{to:"/analytics",children:l.jsxs(de,{variant:"outline",size:"sm",children:[l.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Analytics"]})}),l.jsxs(de,{onClick:()=>f(),variant:"outline",size:"sm",disabled:n,children:[l.jsx(ip,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]})]})]})}),l.jsxs(Nm,{value:s,onValueChange:o,className:"flex flex-col gap-6",children:[l.jsxs(jm,{className:"flex w-full flex-wrap items-center gap-2 rounded-xl border border-border/70 bg-white p-2 dark:bg-card",children:[l.jsx(mr,{value:"overview",className:"w-auto rounded-lg px-4 py-2 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Overview"}),l.jsx(mr,{value:"productivity",className:"w-auto rounded-lg px-4 py-2 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Productivity"}),l.jsx(mr,{value:"collaboration",className:"w-auto rounded-lg px-4 py-2 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Collaboration"}),l.jsx(mr,{value:"roi",className:"w-auto rounded-lg px-4 py-2 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"ROI Impact"}),l.jsx(mr,{value:"recommendations",className:"w-auto rounded-lg px-4 py-2 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Recommendations"})]}),l.jsxs("div",{className:"flex-1 space-y-6",children:[l.jsxs(Ns,{value:"overview",className:"space-y-6 mt-0",children:[l.jsx(Ne,{className:"border border-border/60 bg-white dark:bg-card shadow-sm",children:l.jsxs("div",{className:"grid gap-8 p-6 md:p-8 lg:grid-cols-[minmax(0,3fr)_minmax(0,2fr)] items-start",children:[l.jsxs("div",{className:"space-y-5",children:[l.jsxs(bt,{variant:"outline",className:"w-fit",children:[l.jsx(li,{className:"mr-2 h-3.5 w-3.5"}),"Executive Snapshot"]}),l.jsx("h2",{className:"text-3xl md:text-4xl font-semibold leading-tight tracking-tight text-gray-900 dark:text-gray-100",children:"Momentum Overview"}),l.jsx("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-300",children:"Track how your workspace is performing today. Monitor productivity momentum, collaboration strength, and ROI wins so you can focus the team on what moves the needle fastest."}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-xs md:text-sm text-gray-500 dark:text-gray-400",children:[l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(MF,{className:"h-4 w-4"}),t.teamPerformance.teamHealth.collaborationScore,"% collaboration pulse"]}),l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(J2,{className:"h-4 w-4"}),k.recommendationsCount," smart recommendations"]}),l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(fv,{className:"h-4 w-4"}),k.bottlenecksCount," bottlenecks flagged"]})]})]}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs(Ne,{className:"rounded-2xl border border-border/70 bg-muted/40 dark:bg-muted/10 p-5 shadow-none",children:[l.jsxs("div",{className:"flex items-center justify-between text-[11px] uppercase tracking-[0.2em] text-muted-foreground",children:[l.jsx("span",{children:"Team Productivity"}),l.jsx(bt,{variant:"outline",children:k.productivityScore>=70?"On Track":"Needs Focus"})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsxs("span",{className:"text-4xl font-semibold text-gray-900 dark:text-gray-100",children:[k.productivityScore,"%"]}),l.jsx(t_,{className:"h-5 w-5 text-muted-foreground"})]}),l.jsx(ei,{value:v(k.productivityScore),className:"mt-4 h-2"}),l.jsx("p",{className:"mt-3 text-xs text-muted-foreground",children:"Avg score across top performers"})]})]}),l.jsxs(Ne,{className:"rounded-2xl border border-border/70 bg-muted/40 dark:bg-muted/10 p-5 shadow-none",children:[l.jsxs("div",{className:"flex items-center justify-between text-[11px] uppercase tracking-[0.2em] text-muted-foreground",children:[l.jsx("span",{children:"Collaboration Health"}),l.jsx(bt,{variant:"outline",children:k.collaborationScore>=70?"Healthy":"Monitor"})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsxs("span",{className:"text-4xl font-semibold text-gray-900 dark:text-gray-100",children:[k.collaborationScore,"%"]}),l.jsx(yi,{className:"h-5 w-5 text-muted-foreground"})]}),l.jsx(ei,{value:v(k.collaborationScore),className:"mt-4 h-2"}),l.jsx("p",{className:"mt-3 text-xs text-muted-foreground",children:"Shared documents & cross-team work"})]})]}),l.jsxs(Ne,{className:"rounded-2xl border border-border/70 bg-muted/40 dark:bg-muted/10 p-5 shadow-none sm:col-span-2",children:[l.jsx("div",{className:"text-[11px] uppercase tracking-[0.2em] text-muted-foreground",children:"ROI Impact"}),l.jsxs("div",{className:"mt-5 grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:"Time Saved"}),l.jsxs("p",{className:"text-3xl font-semibold text-gray-900 dark:text-gray-100",children:[t.roiMetrics.timeSaved,"h"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:"Cost Savings"}),l.jsx("p",{className:"text-3xl font-semibold text-gray-900 dark:text-gray-100",children:k.costSavingsFormatted})]})]}),l.jsx(oj,{className:"my-4"}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[l.jsxs("span",{children:[k.recommendationsCount," smart tips"]}),l.jsxs("span",{children:[t.roiMetrics.efficiencyGain,"% efficiency gain"]})]})]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[l.jsxs(Ne,{className:"p-5 border border-border/70 shadow-sm hover:shadow-lg transition-all duration-200",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"rounded-full bg-blue-500/10 text-blue-600 dark:text-blue-300 p-3",children:l.jsx(t_,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:"Team Productivity"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Latest 7-day trend"})]})]}),l.jsxs(bt,{variant:"secondary",className:"border-transparent bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-200",children:[k.productivityScore,"%"]})]}),l.jsx(ei,{value:v(k.productivityScore),className:"mt-4 h-2"}),l.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:k.topPerformerStrength})]}),l.jsxs(Ne,{className:"p-5 border border-border/70 shadow-sm hover:shadow-lg transition-all duration-200",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"rounded-full bg-emerald-500/10 text-emerald-600 dark:text-emerald-300 p-3",children:l.jsx(yi,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:"Collaboration Health"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Active teamwork & sharing"})]})]}),l.jsxs(bt,{variant:"secondary",className:"border-transparent bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-200",children:[k.collaborationScore,"%"]})]}),l.jsx(ei,{value:v(k.collaborationScore),className:"mt-4 h-2"}),l.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:t.collaborationHealth.recommendations[0]||"Keep momentum by encouraging weekly cross-team syncs."})]}),l.jsxs(Ne,{className:"p-5 border border-border/70 shadow-sm hover:shadow-lg transition-all duration-200",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"rounded-full bg-purple-500/10 text-purple-600 dark:text-purple-300 p-3",children:l.jsx(ZF,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:"Time Saved"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Automation & process wins"})]})]}),l.jsxs(bt,{variant:"secondary",className:"border-transparent bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-200",children:[t.roiMetrics.timeSaved,"h"]})]}),l.jsx(ei,{value:v(t.roiMetrics.efficiencyGain),className:"mt-4 h-2"}),l.jsxs("p",{className:"mt-3 text-sm text-muted-foreground",children:["Efficiency gain at ",t.roiMetrics.efficiencyGain,"% this period."]})]}),l.jsxs(Ne,{className:"p-5 border border-border/70 shadow-sm hover:shadow-lg transition-all duration-200",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"rounded-full bg-amber-500/10 text-amber-600 dark:text-amber-300 p-3",children:l.jsx(J2,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:"Active Recommendations"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"AI-powered next steps"})]})]}),l.jsx(bt,{variant:"secondary",className:"border-transparent bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-200",children:k.recommendationsCount})]}),l.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Tackle high-priority actions to unlock additional ",t.roiMetrics.collaborationIncrease,"% collaboration boost."]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[l.jsxs(Ne,{className:"p-6 space-y-5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Top Performers"}),l.jsxs(bt,{variant:"outline",className:"text-xs text-muted-foreground border-dashed",children:[k.topPerformers.length," highlighted"]})]}),l.jsx("div",{className:"space-y-4",children:k.topPerformers.map((C,_)=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Zt,{className:"h-10 w-10 border border-border/60 bg-blue-500/10 text-blue-600 dark:text-blue-200",children:l.jsx(Wt,{children:b(C.name)})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:C.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:C.strengths[0]||"High performer"})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsxs(bt,{variant:"secondary",className:`${g(C.score)} border-transparent text-sm`,children:[C.score,"%"]}),l.jsxs("span",{className:"text-[11px] uppercase tracking-wide text-muted-foreground",children:["Rank #",_+1]})]})]}),_!==k.topPerformers.length-1&&l.jsx(oj,{className:"mt-4 bg-border"})]},_))})]}),l.jsxs(Ne,{className:"p-6 space-y-5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Business Impact"}),l.jsx(bt,{variant:"outline",className:"border-dashed text-xs text-muted-foreground",children:"ROI pulse"})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"rounded-xl border border-border/60 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsx("span",{children:"Efficiency Gain"}),l.jsxs("span",{className:"inline-flex items-center gap-1 font-semibold text-green-600 dark:text-green-400",children:[l.jsx(hv,{className:"h-4 w-4"}),t.roiMetrics.efficiencyGain,"%"]})]}),l.jsx(ei,{value:v(t.roiMetrics.efficiencyGain),className:"mt-3 h-2"})]}),l.jsxs("div",{className:"rounded-xl border border-border/60 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsx("span",{children:"Cost Savings"}),l.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:k.costSavingsFormatted})]}),l.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Completion rate at ",t.roiMetrics.documentCompletionRate,"%."]})]}),l.jsxs("div",{className:"rounded-xl border border-border/60 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsx("span",{children:"Before vs After"}),l.jsxs(bt,{variant:"secondary",className:"border-transparent bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-200",children:[k.collaborationRateDelta>=0?"+":"",k.collaborationRateDelta,"%"]})]}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-xs text-muted-foreground",children:[l.jsxs("div",{children:[l.jsx("span",{className:"block text-[11px] uppercase",children:"Document Time"}),l.jsxs("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[t.roiMetrics.beforeAfterComparison.after.avgDocumentTime,"h"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-[11px] uppercase",children:"Completion Rate"}),l.jsxs("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[t.roiMetrics.beforeAfterComparison.after.completionRate,"%"]})]})]})]})]})]}),l.jsxs(Ne,{className:"p-6 space-y-5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Team Health Snapshot"}),l.jsx(bt,{variant:"outline",className:"border-dashed text-xs text-muted-foreground",children:"Live status"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"rounded-xl border border-border/60 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsx("span",{children:"Collaboration Score"}),l.jsxs(bt,{variant:"secondary",className:"border-transparent bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-200",children:[t.teamPerformance.teamHealth.collaborationScore,"%"]})]}),l.jsx(ei,{value:v(t.teamPerformance.teamHealth.collaborationScore),className:"mt-3 h-2"})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border/60 p-4 text-sm text-muted-foreground",children:[l.jsx("span",{children:"Bottlenecks in review"}),l.jsx("span",{className:"font-semibold text-amber-600 dark:text-amber-400",children:t.teamPerformance.teamHealth.bottlenecks})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border/60 p-4 text-sm text-muted-foreground",children:[l.jsx("span",{children:"Recommendations ready"}),l.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:t.teamPerformance.teamHealth.recommendations})]})]})]})]})]}),l.jsx(Ns,{value:"productivity",className:"space-y-6 mt-6",children:l.jsxs(Ne,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Productivity Scores"}),l.jsxs(bt,{variant:"outline",className:"text-xs",children:["Top ",k.topProductivityScores.length," performers"]})]}),l.jsx("div",{className:"space-y-4",children:k.topProductivityScores.map((C,_)=>l.jsxs(Ne,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${g(C.score)}`,children:l.jsx("span",{className:`text-lg font-bold ${m(C.score)}`,children:C.score})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:C.userName}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Productivity Score"})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Rank #",_+1]})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-3",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:C.metrics.documentsCreated}),l.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Documents"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:C.metrics.versionsCreated}),l.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Versions"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold text-purple-600 dark:text-purple-400",children:C.metrics.commentsAdded}),l.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Comments"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold text-orange-600 dark:text-orange-400",children:C.metrics.meetingsAttended}),l.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Meetings"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold text-indigo-600 dark:text-indigo-400",children:C.metrics.collaborationScore}),l.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Collaboration"})]})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:C.insights.map((T,N)=>l.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300 text-xs rounded-full",children:T},N))})]},C.userId))})]})}),l.jsx(Ns,{value:"collaboration",className:"space-y-6 mt-6",children:l.jsxs(Ne,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Collaboration Health"}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Overall Score"}),l.jsxs("span",{className:`text-2xl font-bold ${m(t.collaborationHealth.overallScore)}`,children:[t.collaborationHealth.overallScore,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${t.collaborationHealth.overallScore>=80?"bg-green-500":t.collaborationHealth.overallScore>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${t.collaborationHealth.overallScore}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[t.collaborationHealth.teamCollaboration.crossTeamWork,"%"]}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cross-Team Work"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[t.collaborationHealth.teamCollaboration.sharedDocuments,"%"]}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Shared Documents"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:t.collaborationHealth.teamCollaboration.activeCollaborations}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Collaborations"})]})]}),t.collaborationHealth.bottlenecks.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"text-md font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Bottlenecks"}),l.jsx("div",{className:"space-y-3",children:t.collaborationHealth.bottlenecks.map((C,_)=>l.jsxs("div",{className:"border-l-4 border-red-500 bg-red-50 dark:bg-red-900/20 p-3 rounded",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx(fv,{className:"h-4 w-4 text-red-500"}),l.jsx("span",{className:"font-medium text-red-800 dark:text-red-300",children:C.description})]}),l.jsxs("div",{className:"text-sm text-red-700 dark:text-red-400",children:["Affected users: ",C.users.join(", ")]})]},_))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Recommendations"}),l.jsx("div",{className:"space-y-2",children:t.collaborationHealth.recommendations.map((C,_)=>l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(K2,{className:"h-4 w-4 text-green-500 mt-1"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:C})]},_))})]})]})}),l.jsxs(Ns,{value:"roi",className:"space-y-6 mt-6",children:[l.jsxs(Ne,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"ROI Impact"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[t.roiMetrics.timeSaved,"h"]}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Time Saved"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:[t.roiMetrics.efficiencyGain,"%"]}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Efficiency Gain"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[t.roiMetrics.collaborationIncrease,"%"]}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Collaboration Increase"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:["$",t.roiMetrics.costSavings]}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cost Savings"})]})]}),l.jsxs("div",{className:"border-t pt-6",children:[l.jsx("h4",{className:"text-md font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Before vs After Comparison"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Document Time"}),l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsxs("span",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:[t.roiMetrics.beforeAfterComparison.before.avgDocumentTime,"h"]}),l.jsx(PF,{className:"h-4 w-4 text-green-500"}),l.jsxs("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:[t.roiMetrics.beforeAfterComparison.after.avgDocumentTime,"h"]})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Collaboration Rate"}),l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsxs("span",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:[t.roiMetrics.beforeAfterComparison.before.collaborationRate,"%"]}),l.jsx(hv,{className:"h-4 w-4 text-green-500"}),l.jsxs("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:[t.roiMetrics.beforeAfterComparison.after.collaborationRate,"%"]})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Completion Rate"}),l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsxs("span",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:[t.roiMetrics.beforeAfterComparison.before.completionRate,"%"]}),l.jsx(hv,{className:"h-4 w-4 text-green-500"}),l.jsxs("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:[t.roiMetrics.beforeAfterComparison.after.completionRate,"%"]})]})]})]})]})]}),l.jsxs(Ne,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Document Lifecycle"}),l.jsx("div",{className:"space-y-4",children:t.documentLifecycle.map(C=>l.jsxs(Ne,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 capitalize",children:C.stage}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:C.count}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"documents"})]})]}),l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Average time: ",C.avgTimeInStage,"h"]}),C.bottlenecks.length>0&&l.jsx("div",{className:"space-y-2",children:C.bottlenecks.map((_,T)=>l.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-2 rounded",children:l.jsx("div",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:_.description})},T))})]},C.stage))})]})]}),l.jsx(Ns,{value:"recommendations",className:"space-y-6 mt-6",children:l.jsxs(Ne,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Smart Recommendations"}),l.jsxs(bt,{variant:"outline",className:"text-xs",children:[k.priorityRecommendations.length," high-priority"]})]}),k.priorityRecommendations.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(K2,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No high-priority recommendations at this time."})]}):l.jsx("div",{className:"space-y-4",children:k.priorityRecommendations.map((C,_)=>l.jsxs(Ne,{className:"p-4",children:[l.jsx("div",{className:"flex items-start justify-between mb-3",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(C.priority)}`,children:C.priority.toUpperCase()}),l.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300",children:C.type.toUpperCase()})]}),l.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-1",children:C.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:C.description})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Action Required"}),l.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:C.action})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Expected Impact"}),l.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:C.impact})]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t",children:[l.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Affected Users"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:C.users.map((T,N)=>l.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300 text-xs rounded-full",children:T},N))})]})]},_))})]})})]})]})]})}function ule({onComplete:t}){const[e,n]=w.useState(1),[r,s]=w.useState(""),o=()=>{e<3?n(e+1):t()},i=()=>{t()};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-card rounded-2xl shadow-2xl max-w-2xl w-full overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[l.jsx("h2",{className:"text-[24px]",children:"Welcome to XPlanB"}),l.jsx(de,{variant:"ghost",size:"icon",onClick:i,className:"rounded-lg",children:l.jsx(yr,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-8",children:[e===1&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mx-auto mb-6",children:l.jsx(li,{className:"w-10 h-10 text-white"})}),l.jsx("h3",{className:"text-[24px] mb-3",children:"Let's get started!"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"XPlanB is your modern collaborative workspace for documents, projects, and team communication. Let's set up your workspace in just a few steps."}),l.jsxs("div",{className:"grid grid-cols-3 gap-6 text-left",children:[l.jsxs("div",{children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center mb-3",children:l.jsx(tn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),l.jsx("h4",{className:"mb-1",children:"Organize"}),l.jsx("p",{className:"text-[14px] text-muted-foreground",children:"Create folders and documents"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-50 dark:bg-purple-900/20 flex items-center justify-center mb-3",children:l.jsx(yi,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),l.jsx("h4",{className:"mb-1",children:"Collaborate"}),l.jsx("p",{className:"text-[14px] text-muted-foreground",children:"Work together in real-time"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-50 dark:bg-green-900/20 flex items-center justify-center mb-3",children:l.jsx(Bl,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),l.jsx("h4",{className:"mb-1",children:"Achieve"}),l.jsx("p",{className:"text-[14px] text-muted-foreground",children:"Track progress and goals"})]})]})]}),e===2&&l.jsxs("div",{children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mx-auto mb-6",children:l.jsx(tn,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-[24px] mb-3 text-center",children:"Create your workspace"}),l.jsx("p",{className:"text-muted-foreground mb-8 text-center",children:"Give your workspace a name. You can always change this later."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ct,{htmlFor:"workspaceName",children:"Workspace Name"}),l.jsx(Ye,{id:"workspaceName",type:"text",value:r,onChange:c=>s(c.target.value),placeholder:"e.g., My Team Workspace",className:"mt-1.5 rounded-xl"})]}),l.jsx("div",{className:"p-4 rounded-xl bg-blue-50 dark:bg-blue-900/20",children:l.jsxs("p",{className:"text-[14px] text-blue-900 dark:text-blue-200",children:[" ",l.jsx("strong",{children:"Tip:"})," Choose a name that represents your team or project."]})})]})]}),e===3&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/20 flex items-center justify-center mx-auto mb-6",children:l.jsx(Bl,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),l.jsx("h3",{className:"text-[24px] mb-3",children:"You're all set!"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"Your workspace is ready. Start by creating your first document or inviting team members."}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-left",children:[l.jsxs("div",{className:"p-4 rounded-xl border border-border",children:[l.jsx("h4",{className:"mb-2",children:" Create Document"}),l.jsx("p",{className:"text-[14px] text-muted-foreground",children:"Start writing and organizing your ideas"})]}),l.jsxs("div",{className:"p-4 rounded-xl border border-border",children:[l.jsx("h4",{className:"mb-2",children:" Invite Team"}),l.jsx("p",{className:"text-[14px] text-muted-foreground",children:"Collaborate with your teammates"})]})]})]})]}),l.jsxs("div",{className:"p-6 border-t border-border flex items-center justify-between",children:[l.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(c=>l.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${c===e?"bg-blue-600":"bg-gray-300 dark:bg-gray-700"}`},c))}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx(de,{variant:"ghost",onClick:i,className:"rounded-xl",children:"Skip"}),l.jsx(de,{onClick:o,className:"rounded-xl",children:e===3?"Get Started":"Next"})]})]})]})})}var hle=(t,e,n,r,s,o,i,c)=>{let u=document.documentElement,h=["light","dark"];function f(y){(Array.isArray(t)?t:[t]).forEach(v=>{let b=v==="class",k=b&&o?s.map(C=>o[C]||C):s;b?(u.classList.remove(...k),u.classList.add(o&&o[y]?o[y]:y)):u.setAttribute(v,y)}),m(y)}function m(y){c&&h.includes(y)&&(u.style.colorScheme=y)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)f(r);else try{let y=localStorage.getItem(e)||n,v=i&&y==="system"?g():y;f(v)}catch{}},fle=w.createContext(void 0),ple={setTheme:t=>{},themes:[]},mle=()=>{var t;return(t=w.useContext(fle))!=null?t:ple};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,themes:c,nonce:u,scriptProps:h})=>{let f=JSON.stringify([n,e,o,t,c,i,r,s]).slice(1,-1);return w.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${hle.toString()})(${f})`}})});const gle=({...t})=>{const{theme:e="system"}=mle();return l.jsx(qB,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},xle=()=>{const{theme:t,toggleTheme:e}=sc();return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%)",paddingTop:"0"},children:[l.jsxs("header",{style:{maxWidth:"1280px",margin:"0 auto",padding:"24px 16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("img",{src:t==="dark"?$0:ST,alt:"XPlanB logo",className:"w-10 h-auto"}),l.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",color:"#111827"},children:"XPlanB"})]}),l.jsxs("nav",{style:{display:"none",gap:"24px","@media (min-width: 768px)":{display:"flex"}},className:"hidden md:flex",children:[l.jsx("a",{href:"#features",style:{color:"#4b5563",textDecoration:"none"},children:"Fonctionnalits"}),l.jsx("a",{href:"#about",style:{color:"#4b5563",textDecoration:"none"},children:" Propos"}),l.jsx("a",{href:"#contact",style:{color:"#4b5563",textDecoration:"none"},children:"Contact"})]}),l.jsxs("div",{style:{display:"flex",gap:"16px"},children:[l.jsx(rt,{to:"/login",children:l.jsx(de,{variant:"outline",children:"Connexion"})}),l.jsx(rt,{to:"/signup",children:l.jsx(de,{children:"Commencer"})})]})]}),l.jsxs("section",{style:{maxWidth:"1280px",margin:"0 auto",padding:"80px 16px",textAlign:"center"},children:[l.jsxs("h2",{style:{fontSize:"48px",fontWeight:"bold",color:"#111827",marginBottom:"24px",lineHeight:"1.2"},children:["Rvolutionnez l'analyse de documents avec"," ",l.jsx("span",{style:{color:"#4f46e5"},children:"XPlanB"})]}),l.jsx("p",{style:{fontSize:"20px",color:"#4b5563",marginBottom:"32px",maxWidth:"672px",margin:"0 auto 32px",lineHeight:"1.6"},children:"Analysez, organisez et collaborez sur les documents sans effort. De l'analyse alimente par l'IA  l'dition en temps rel, XPlanB est votre espace de travail ultime pour la productivit et l'innovation."}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"16px",marginBottom:"48px",flexWrap:"wrap"},children:[l.jsx(rt,{to:"/signup",children:l.jsx(de,{size:"lg",style:{padding:"12px 32px",fontSize:"16px"},children:"Dmarrer l'essai gratuit"})}),l.jsx(de,{variant:"outline",size:"lg",style:{padding:"12px 32px",fontSize:"16px"},children:"Voir la dmo"})]})]}),l.jsxs("section",{id:"features",style:{maxWidth:"1280px",margin:"0 auto",padding:"80px 16px"},children:[l.jsx("h3",{style:{fontSize:"32px",fontWeight:"bold",textAlign:"center",color:"#111827",marginBottom:"48px"},children:"Fonctionnalits Puissantes pour les quipes Modernes"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"32px"},children:[l.jsxs(Ne,{children:[l.jsxs(Zs,{children:[l.jsx($n,{style:{height:"48px",width:"48px",color:"#4f46e5",marginBottom:"16px"}}),l.jsx(eo,{children:"Analyse Avance de Documents"})]}),l.jsx(no,{children:l.jsx(to,{children:"Extrayez les donnes des PDF, images et plus encore avec une prcision alimente par l'IA. Prend en charge plusieurs formats et langues."})})]}),l.jsxs(Ne,{children:[l.jsxs(Zs,{children:[l.jsx(tn,{style:{height:"48px",width:"48px",color:"#4f46e5",marginBottom:"16px"}}),l.jsx(eo,{children:"Dossiers Organiss"})]}),l.jsx(no,{children:l.jsx(to,{children:"Gardez vos documents structurs avec des dossiers hirarchiques. Partagez et collaborez facilement entre les quipes."})})]}),l.jsxs(Ne,{children:[l.jsxs(Zs,{children:[l.jsx(BF,{style:{height:"48px",width:"48px",color:"#4f46e5",marginBottom:"16px"}}),l.jsx(eo,{children:"Assistant IA"})]}),l.jsx(no,{children:l.jsx(to,{children:"Obtenez des informations intelligentes, des rsums et des suggestions pour amliorer votre flux de travail documentaire."})})]}),l.jsxs(Ne,{children:[l.jsxs(Zs,{children:[l.jsx(yi,{style:{height:"48px",width:"48px",color:"#4f46e5",marginBottom:"16px"}}),l.jsx(eo,{children:"Collaboration en Temps Rel"})]}),l.jsx(no,{children:l.jsx(to,{children:"Modifiez les documents ensemble avec des curseurs en direct, des commentaires et un historique des versions."})})]}),l.jsxs(Ne,{children:[l.jsxs(Zs,{children:[l.jsx(B0,{style:{height:"48px",width:"48px",color:"#4f46e5",marginBottom:"16px"}}),l.jsx(eo,{children:"Calendrier Intgr"})]}),l.jsx(no,{children:l.jsx(to,{children:"Planifiez des runions, dfinissez des dlais et grez votre flux de travail avec des fonctionnalits de calendrier intgres."})})]}),l.jsxs(Ne,{children:[l.jsxs(Zs,{children:[l.jsx(cm,{style:{height:"48px",width:"48px",color:"#4f46e5",marginBottom:"16px"}}),l.jsx(eo,{children:"Analyses et Insights"})]}),l.jsx(no,{children:l.jsx(to,{children:"Suivez la productivit, analysez l'utilisation des documents et gagnez des informations commerciales avec des analyses compltes."})})]}),l.jsxs(Ne,{children:[l.jsxs(Zs,{children:[l.jsx(ga,{style:{height:"48px",width:"48px",color:"#4f46e5",marginBottom:"16px"}}),l.jsx(eo,{children:"Chat d'quipe"})]}),l.jsx(no,{children:l.jsx(to,{children:"Communiquez instantanment avec le chat intgr. Discutez des documents et des projets en temps rel."})})]}),l.jsxs(Ne,{children:[l.jsxs(Zs,{children:[l.jsx(n$,{style:{height:"48px",width:"48px",color:"#4f46e5",marginBottom:"16px"}}),l.jsx(eo,{children:"Scuris et Priv"})]}),l.jsx(no,{children:l.jsx(to,{children:"Scurit de niveau entreprise avec chiffrement de bout en bout et conformit aux normes de protection des donnes."})})]}),l.jsxs(Ne,{children:[l.jsxs(Zs,{children:[l.jsx(_y,{style:{height:"48px",width:"48px",color:"#4f46e5",marginBottom:"16px"}}),l.jsx(eo,{children:"Rapide et Fiable"})]}),l.jsx(no,{children:l.jsx(to,{children:"Construit avec des technologies modernes pour des performances ultra-rapides et une disponibilit de 99,9%."})})]})]})]}),l.jsx("section",{id:"about",style:{backgroundColor:"#ffffff",padding:"80px 16px"},children:l.jsxs("div",{style:{maxWidth:"1280px",margin:"0 auto",textAlign:"center"},children:[l.jsx("h3",{style:{fontSize:"32px",fontWeight:"bold",color:"#111827",marginBottom:"24px"},children:"Pourquoi Choisir XPlanB?"}),l.jsx("p",{style:{fontSize:"18px",color:"#4b5563",marginBottom:"32px",maxWidth:"896px",margin:"0 auto 32px",lineHeight:"1.6"},children:"XPlanB est conu pour les quipes qui ont besoin de puissantes capacits d'analyse de documents combines  des outils collaboratifs. Que vous travailliez dans la finance, le droit, la sant ou tout autre secteur traitant de documents complexes, XPlanB rationalise votre flux de travail."}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"64px",flexWrap:"wrap"},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#4f46e5",marginBottom:"8px"},children:"10M+"}),l.jsx("div",{style:{color:"#4b5563"},children:"Documents Analyss"})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#4f46e5",marginBottom:"8px"},children:"50K+"}),l.jsx("div",{style:{color:"#4b5563"},children:"Utilisateurs Actifs"})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#4f46e5",marginBottom:"8px"},children:"99.9%"}),l.jsx("div",{style:{color:"#4b5563"},children:"Disponibilit"})]})]})]})}),l.jsxs("section",{style:{maxWidth:"1280px",margin:"0 auto",padding:"80px 16px",textAlign:"center"},children:[l.jsx("h3",{style:{fontSize:"32px",fontWeight:"bold",color:"#111827",marginBottom:"24px"},children:"Prt  Transformer Votre Flux de Travail Documentaire?"}),l.jsx("p",{style:{fontSize:"20px",color:"#4b5563",marginBottom:"32px",lineHeight:"1.6"},children:"Rejoignez des milliers d'quipes utilisant dj XPlanB pour augmenter la productivit et la collaboration."}),l.jsx(rt,{to:"/signup",children:l.jsx(de,{size:"lg",style:{padding:"12px 32px",fontSize:"16px"},children:"Commencer Aujourd'hui"})})]}),l.jsx("section",{id:"contact",style:{maxWidth:"1280px",margin:"0 auto",padding:"80px 16px"},children:l.jsxs("div",{style:{backgroundColor:"#f3f4f6",borderRadius:"12px",padding:"60px 40px",textAlign:"center"},children:[l.jsx("h3",{style:{fontSize:"32px",fontWeight:"bold",color:"#111827",marginBottom:"16px"},children:"Nous Contacter"}),l.jsx("p",{style:{fontSize:"18px",color:"#4b5563",marginBottom:"48px",lineHeight:"1.6"},children:"XPlanB - La meilleure dcision dans les moments difficiles"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"40px"},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Email"}),l.jsx("a",{href:"mailto:s.xplanb@gmail.com",style:{fontSize:"20px",fontWeight:"600",color:"#4f46e5",textDecoration:"none"},children:"s.xplanb@gmail.com"})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Tlphone"}),l.jsx("a",{href:"tel:+21692340405",style:{fontSize:"20px",fontWeight:"600",color:"#4f46e5",textDecoration:"none"},children:"+216 92 340 405"})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Entreprise"}),l.jsx("p",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",margin:"0"},children:"XPlanB"})]})]})]})}),l.jsx("footer",{id:"contact",style:{backgroundColor:"#111827",color:"white",padding:"48px 16px"},children:l.jsxs("div",{style:{maxWidth:"1280px",margin:"0 auto"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"32px",marginBottom:"32px"},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[l.jsx(_y,{style:{height:"24px",width:"24px",color:"#818cf8"}}),l.jsx("span",{style:{fontSize:"20px",fontWeight:"bold"},children:"XPlanB"})]}),l.jsx("p",{style:{color:"#9ca3af",lineHeight:"1.6"},children:"Rvolutionner l'analyse de documents et la collaboration pour les quipes modernes."})]}),l.jsxs("div",{children:[l.jsx("h4",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:"Produit"}),l.jsxs("ul",{style:{listStyle:"none",padding:0},children:[l.jsx("li",{style:{marginBottom:"8px"},children:l.jsx("a",{href:"#",style:{color:"#9ca3af",textDecoration:"none"},children:"Fonctionnalits"})}),l.jsx("li",{style:{marginBottom:"8px"},children:l.jsx("a",{href:"#",style:{color:"#9ca3af",textDecoration:"none"},children:"Tarification"})}),l.jsx("li",{children:l.jsx("a",{href:"#",style:{color:"#9ca3af",textDecoration:"none"},children:"API"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:"Entreprise"}),l.jsxs("ul",{style:{listStyle:"none",padding:0},children:[l.jsx("li",{style:{marginBottom:"8px"},children:l.jsx("a",{href:"#",style:{color:"#9ca3af",textDecoration:"none"},children:" Propos"})}),l.jsx("li",{style:{marginBottom:"8px"},children:l.jsx("a",{href:"#",style:{color:"#9ca3af",textDecoration:"none"},children:"Blog"})}),l.jsx("li",{children:l.jsx("a",{href:"#",style:{color:"#9ca3af",textDecoration:"none"},children:"Carrires"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:"Support"}),l.jsxs("ul",{style:{listStyle:"none",padding:0},children:[l.jsx("li",{style:{marginBottom:"8px"},children:l.jsx("a",{href:"#",style:{color:"#9ca3af",textDecoration:"none"},children:"Centre d'Aide"})}),l.jsx("li",{style:{marginBottom:"8px"},children:l.jsx("a",{href:"#",style:{color:"#9ca3af",textDecoration:"none"},children:"Nous Contacter"})}),l.jsx("li",{children:l.jsx("a",{href:"#",style:{color:"#9ca3af",textDecoration:"none"},children:"Politique de Confidentialit"})})]})]})]}),l.jsx("div",{style:{borderTop:"1px solid #374151",paddingTop:"32px",textAlign:"center"},children:l.jsx("p",{style:{color:"#9ca3af"},children:" 2024 XPlanB. Tous les droits sont rservs."})})]})})]})};function vle(){const[t,e]=w.useState(!1),[n,r]=w.useState(!1);w.useEffect(()=>{uT()&&(e(!0),localStorage.getItem("xplanb_onboarding")||r(!0))},[]);const s=()=>{e(!0),localStorage.setItem("xplanb_auth","true"),r(!1)},o=()=>{CF(),e(!1),localStorage.removeItem("xplanb_onboarding")};return l.jsx(T$,{children:l.jsx(b3,{children:l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsxs(G5,{children:[l.jsx(Et,{path:"/",element:l.jsx(Sf,{to:"/home",replace:!0})}),l.jsx(Et,{path:"/home",element:l.jsx(xle,{})}),l.jsx(Et,{path:"/signup",element:t?l.jsx(Sf,{to:"/dashboard"}):l.jsx(M$,{onSignUp:s})}),l.jsx(Et,{path:"/login",element:l.jsx(L$,{onLogin:s})}),l.jsx(Et,{path:"/reset-password/:token",element:l.jsx($$,{})}),l.jsx(Et,{path:"/meet",element:l.jsx(gre,{})}),l.jsx(Et,{element:l.jsx(z$,{}),children:l.jsxs(Et,{element:l.jsx(SH,{onLogout:o}),children:[l.jsx(Et,{path:"/",element:l.jsx(P_,{})}),l.jsx(Et,{path:"/dashboard",element:l.jsx(P_,{})}),l.jsx(Et,{path:"/documents",element:l.jsx(uW,{})}),l.jsx(Et,{path:"/folders",element:l.jsx(hW,{})}),l.jsx(Et,{path:"/folders/:id",element:l.jsx(PW,{})}),l.jsx(Et,{path:"/documents/:id",element:l.jsx(mne,{})}),l.jsx(Et,{path:"/analytics",element:l.jsx(sle,{})}),l.jsx(Et,{path:"/business-analytics",element:l.jsx(dle,{})}),l.jsx(Et,{path:"/calendar",element:l.jsx(bne,{})}),l.jsx(Et,{path:"/chat",element:l.jsx(zne,{})}),l.jsx(Et,{path:"/meetings",element:l.jsx(fre,{})}),l.jsx(Et,{path:"/ai-assistant",element:l.jsx(ure,{})}),l.jsx(Et,{path:"/settings",element:l.jsx(FE,{})}),l.jsx(Et,{path:"/profile",element:l.jsx(FE,{})}),l.jsx(Et,{path:"*",element:l.jsx(Sf,{to:"/"})})]})})]}),n&&l.jsx(ule,{onComplete:()=>{r(!1),localStorage.setItem("xplanb_onboarding","true")}}),l.jsx(gle,{})]})})})}s5.createRoot(document.getElementById("root")).render(l.jsx(vle,{}));
